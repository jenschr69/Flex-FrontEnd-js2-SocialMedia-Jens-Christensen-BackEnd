/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/users"],{

/***/ "../../node_modules/@keystone-6/core/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/dist/keystone-6-core-___internal-do-not-use-will-break-in-patch-admin-ui-pages-ListPage.esm.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/@keystone-6/core/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/dist/keystone-6-core-___internal-do-not-use-will-break-in-patch-admin-ui-pages-ListPage.esm.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getListPage: function() { return /* binding */ getListPage; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"../../node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystone-ui/button */ \"../../node_modules/@keystone-ui/button/dist/keystone-ui-button.esm.js\");\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystone-ui/core */ \"../../node_modules/@keystone-ui/core/dist/keystone-ui-core.esm.js\");\n/* harmony import */ var _keystone_ui_fields__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystone-ui/fields */ \"../../node_modules/@keystone-ui/fields/dist/keystone-ui-fields.esm.js\");\n/* harmony import */ var _keystone_ui_icons_icons_ArrowRightCircleIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystone-ui/icons/icons/ArrowRightCircleIcon */ \"../../node_modules/@keystone-ui/icons/icons/ArrowRightCircleIcon/dist/keystone-ui-icons-icons-ArrowRightCircleIcon.esm.js\");\n/* harmony import */ var _keystone_ui_loading__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystone-ui/loading */ \"../../node_modules/@keystone-ui/loading/dist/keystone-ui-loading.esm.js\");\n/* harmony import */ var _keystone_ui_modals__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystone-ui/modals */ \"../../node_modules/@keystone-ui/modals/dist/keystone-ui-modals.esm.js\");\n/* harmony import */ var _keystone_ui_toast__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystone-ui/toast */ \"../../node_modules/@keystone-ui/toast/dist/keystone-ui-toast.esm.js\");\n/* harmony import */ var _keystone_ui_icons_icons_SearchIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystone-ui/icons/icons/SearchIcon */ \"../../node_modules/@keystone-ui/icons/icons/SearchIcon/dist/keystone-ui-icons-icons-SearchIcon.esm.js\");\n/* harmony import */ var _dist_dataGetter_54fa8f6b_esm_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../dist/dataGetter-54fa8f6b.esm.js */ \"../../node_modules/@keystone-6/core/dist/dataGetter-54fa8f6b.esm.js\");\n/* harmony import */ var _dist_Fields_cb2c206c_esm_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../dist/Fields-cb2c206c.esm.js */ \"../../node_modules/@keystone-6/core/dist/Fields-cb2c206c.esm.js\");\n/* harmony import */ var _dist_getRootGraphQLFieldsFromFieldController_3d1a0f41_esm_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../dist/getRootGraphQLFieldsFromFieldController-3d1a0f41.esm.js */ \"../../node_modules/@keystone-6/core/dist/getRootGraphQLFieldsFromFieldController-3d1a0f41.esm.js\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! fast-deep-equal */ \"../../node_modules/fast-deep-equal/index.js\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @apollo/client */ \"../../node_modules/@apollo/client/index.js\");\n/* harmony import */ var _dist_CellLink_c169ac58_esm_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../dist/CellLink-c169ac58.esm.js */ \"../../node_modules/@keystone-6/core/dist/CellLink-c169ac58.esm.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _keystone_ui_icons_icons_AlertTriangleIcon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @keystone-ui/icons/icons/AlertTriangleIcon */ \"../../node_modules/@keystone-ui/icons/icons/AlertTriangleIcon/dist/keystone-ui-icons-icons-AlertTriangleIcon.esm.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! next/link */ \"../../node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../admin-ui/context/dist/keystone-6-core-admin-ui-context.esm.js */ \"../../node_modules/@keystone-6/core/admin-ui/context/dist/keystone-6-core-admin-ui-context.esm.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! next/router */ \"../../node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _keystone_ui_popover__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @keystone-ui/popover */ \"../../node_modules/@keystone-ui/popover/dist/keystone-ui-popover.esm.js\");\n/* harmony import */ var _keystone_ui_icons_icons_MoreHorizontalIcon__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @keystone-ui/icons/icons/MoreHorizontalIcon */ \"../../node_modules/@keystone-ui/icons/icons/MoreHorizontalIcon/dist/keystone-ui-icons-icons-MoreHorizontalIcon.esm.js\");\n/* harmony import */ var _keystone_ui_icons_icons_ChevronRightIcon__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @keystone-ui/icons/icons/ChevronRightIcon */ \"../../node_modules/@keystone-ui/icons/icons/ChevronRightIcon/dist/keystone-ui-icons-icons-ChevronRightIcon.esm.js\");\n/* harmony import */ var _admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../admin-ui/router/dist/keystone-6-core-admin-ui-router.esm.js */ \"../../node_modules/@keystone-6/core/admin-ui/router/dist/keystone-6-core-admin-ui-router.esm.js\");\n/* harmony import */ var _dist_SignoutButton_ca58d8c9_esm_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../dist/SignoutButton-ca58d8c9.esm.js */ \"../../node_modules/@keystone-6/core/dist/SignoutButton-ca58d8c9.esm.js\");\n/* harmony import */ var _dist_PageContainer_4946e9c2_esm_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../../dist/PageContainer-4946e9c2.esm.js */ \"../../node_modules/@keystone-6/core/dist/PageContainer-4946e9c2.esm.js\");\n/* harmony import */ var _dist_GraphQLErrorNotice_53983da1_esm_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../../dist/GraphQLErrorNotice-53983da1.esm.js */ \"../../node_modules/@keystone-6/core/dist/GraphQLErrorNotice-53983da1.esm.js\");\n/* harmony import */ var _dist_Pagination_38e6736f_esm_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../../dist/Pagination-38e6736f.esm.js */ \"../../node_modules/@keystone-6/core/dist/Pagination-38e6736f.esm.js\");\n/* harmony import */ var _fields_types_relationship_views_RelationshipSelect_dist_keystone_6_core_fields_types_relationship_views_RelationshipSelect_esm_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../../fields/types/relationship/views/RelationshipSelect/dist/keystone-6-core-fields-types-relationship-views-RelationshipSelect.esm.js */ \"../../node_modules/@keystone-6/core/fields/types/relationship/views/RelationshipSelect/dist/keystone-6-core-fields-types-relationship-views-RelationshipSelect.esm.js\");\n/* harmony import */ var _dist_CreateButtonLink_5ceff7b7_esm_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../../dist/CreateButtonLink-5ceff7b7.esm.js */ \"../../node_modules/@keystone-6/core/dist/CreateButtonLink-5ceff7b7.esm.js\");\n/* harmony import */ var _keystone_ui_icons_icons_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @keystone-ui/icons/icons/ChevronDownIcon */ \"../../node_modules/@keystone-ui/icons/icons/ChevronDownIcon/dist/keystone-ui-icons-icons-ChevronDownIcon.esm.js\");\n/* harmony import */ var _keystone_ui_options__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @keystone-ui/options */ \"../../node_modules/@keystone-ui/options/dist/keystone-ui-options.esm.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! next/head */ \"../../node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_32__);\n/* harmony import */ var _keystone_ui_icons_icons_ChevronLeftIcon__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @keystone-ui/icons/icons/ChevronLeftIcon */ \"../../node_modules/@keystone-ui/icons/icons/ChevronLeftIcon/dist/keystone-ui-icons-icons-ChevronLeftIcon.esm.js\");\n/* harmony import */ var _keystone_ui_pill__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @keystone-ui/pill */ \"../../node_modules/@keystone-ui/pill/dist/keystone-ui-pill.esm.js\");\n/* harmony import */ var _emotion_weak_memoize__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @emotion/weak-memoize */ \"../../node_modules/@emotion/weak-memoize/dist/emotion-weak-memoize.esm.js\");\n/* harmony import */ var _emotion_hash__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @emotion/hash */ \"../../node_modules/@emotion/hash/dist/emotion-hash.esm.js\");\n/* harmony import */ var _dist_admin_meta_graphql_3524c137_esm_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../../dist/admin-meta-graphql-3524c137.esm.js */ \"../../node_modules/@keystone-6/core/dist/admin-meta-graphql-3524c137.esm.js\");\n/* harmony import */ var _keystone_ui_icons__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @keystone-ui/icons */ \"../../node_modules/@keystone-ui/icons/dist/keystone-ui-icons.esm.js\");\n/* harmony import */ var _keystone_ui_notice__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @keystone-ui/notice */ \"../../node_modules/@keystone-ui/notice/dist/keystone-ui-notice.esm.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! intersection-observer */ \"../../node_modules/intersection-observer/intersection-observer.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(intersection_observer__WEBPACK_IMPORTED_MODULE_40__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction useSelectedFields(list, fieldModesByFieldPath) {\n  const {\n    query\n  } = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const selectedFieldsFromUrl = typeof query.fields === 'string' ? query.fields : '';\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const selectedFieldsArray = selectedFieldsFromUrl ? selectedFieldsFromUrl.split(',') : list.initialColumns;\n    const fields = selectedFieldsArray.filter(field => {\n      return fieldModesByFieldPath[field] === 'read';\n    });\n    return new Set(fields.length === 0 ? [list.labelField] : fields);\n  }, [list, selectedFieldsFromUrl, fieldModesByFieldPath]);\n}\n\nfunction isArrayEqual(arrA, arrB) {\n  if (arrA.length !== arrB.length) return false;\n  for (let i = 0; i < arrA.length; i++) {\n    if (arrA[i] !== arrB[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nconst Option = props => {\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_options__WEBPACK_IMPORTED_MODULE_31__.OptionPrimitive, props, props.children, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_options__WEBPACK_IMPORTED_MODULE_31__.CheckMark, {\n    isDisabled: props.isDisabled,\n    isFocused: props.isFocused,\n    isSelected: props.isSelected\n  }));\n};\n\n// TODO: return type required by pnpm :(\nconst fieldSelectionOptionsComponents = {\n  Option\n};\nfunction FieldSelection({\n  list,\n  fieldModesByFieldPath\n}) {\n  const router = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const selectedFields = useSelectedFields(list, fieldModesByFieldPath);\n  const setNewSelectedFields = selectedFields => {\n    if (isArrayEqual(selectedFields, list.initialColumns)) {\n      const {\n        fields: _ignore,\n        ...otherQueryFields\n      } = router.query;\n      router.push({\n        query: otherQueryFields\n      });\n    } else {\n      router.push({\n        query: {\n          ...router.query,\n          fields: selectedFields.join(',')\n        }\n      });\n    }\n  };\n  const fields = [];\n  Object.keys(fieldModesByFieldPath).forEach(fieldPath => {\n    if (fieldModesByFieldPath[fieldPath] === 'read') {\n      fields.push({\n        value: fieldPath,\n        label: list.fields[fieldPath].label,\n        isDisabled: selectedFields.size === 1 && selectedFields.has(fieldPath)\n      });\n    }\n  });\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_20__.Popover, {\n    \"aria-label\": `Columns options, list of column options to apply to the ${list.key} list`,\n    triggerRenderer: ({\n      triggerProps\n    }) => {\n      return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        weight: \"link\",\n        css: {\n          padding: 4\n        }\n      }, triggerProps), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", {\n        css: {\n          display: 'inline-flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        }\n      }, selectedFields.size, \" column\", selectedFields.size === 1 ? '' : 's', ' ', (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_icons_icons_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_30__.ChevronDownIcon, {\n        size: \"smallish\"\n      })));\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n    css: {\n      width: 320\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Box, {\n    padding: \"medium\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_options__WEBPACK_IMPORTED_MODULE_31__.Options, {\n    onChange: options => {\n      if (!Array.isArray(options)) return;\n      setNewSelectedFields(options.map(x => x.value));\n    },\n    isMulti: true,\n    value: fields.filter(option => selectedFields.has(option.value)),\n    options: fields,\n    components: fieldSelectionOptionsComponents\n  }))));\n}\n\nconst fieldSelectComponents = {\n  Option: ({\n    children,\n    ...props\n  }) => {\n    const theme = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.useTheme)();\n    const iconColor = props.isFocused ? theme.colors.foreground : theme.colors.foregroundDim;\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_options__WEBPACK_IMPORTED_MODULE_31__.OptionPrimitive, props, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", null, children), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n      css: {\n        alignItems: 'center',\n        display: 'flex',\n        height: 24,\n        justifyContent: 'center',\n        width: 24\n      }\n    }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_icons_icons_ChevronRightIcon__WEBPACK_IMPORTED_MODULE_22__.ChevronRightIcon, {\n      css: {\n        color: iconColor\n      }\n    })));\n  }\n};\nfunction FilterAdd({\n  listKey,\n  filterableFields\n}) {\n  const {\n    isOpen,\n    setOpen,\n    trigger,\n    dialog,\n    arrow\n  } = (0,_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_20__.usePopover)({\n    placement: 'bottom',\n    modifiers: [{\n      name: 'offset',\n      options: {\n        offset: [0, 8]\n      }\n    }]\n  });\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    tone: \"active\"\n  }, trigger.props, {\n    ref: trigger.ref,\n    onClick: () => setOpen(!isOpen)\n  }), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Box, {\n    as: \"span\",\n    marginRight: \"xsmall\"\n  }, \"Filter List\"), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_icons_icons_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_30__.ChevronDownIcon, {\n    size: \"small\"\n  })), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_20__.PopoverDialog, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    \"aria-label\": `Filters options, list of filters to apply to the ${listKey} list`,\n    arrow: arrow,\n    isVisible: isOpen\n  }, dialog.props, {\n    ref: dialog.ref\n  }), isOpen && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(FilterAddPopoverContent, {\n    onClose: () => {\n      setOpen(false);\n    },\n    listKey: listKey,\n    filterableFields: filterableFields\n  })));\n}\nfunction FilterAddPopoverContent({\n  onClose,\n  listKey,\n  filterableFields\n}) {\n  const list = (0,_admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_18__.useList)(listKey);\n  const router = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const fieldsWithFilters = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const fieldsWithFilters = {};\n    Object.keys(list.fields).forEach(fieldPath => {\n      const field = list.fields[fieldPath];\n      if (filterableFields.has(fieldPath) && field.controller.filter) {\n        fieldsWithFilters[fieldPath] = field;\n      }\n    });\n    return fieldsWithFilters;\n  }, [list.fields, filterableFields]);\n  const filtersByFieldThenType = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const filtersByFieldThenType = {};\n    Object.keys(fieldsWithFilters).forEach(fieldPath => {\n      const field = fieldsWithFilters[fieldPath];\n      let hasUnusedFilters = false;\n      const filters = {};\n      Object.keys(field.controller.filter.types).forEach(filterType => {\n        if (router.query[`!${fieldPath}_${filterType}`] === undefined) {\n          hasUnusedFilters = true;\n          filters[filterType] = field.controller.filter.types[filterType].label;\n        }\n      });\n      if (hasUnusedFilters) {\n        filtersByFieldThenType[fieldPath] = filters;\n      }\n    });\n    return filtersByFieldThenType;\n  }, [router.query, fieldsWithFilters]);\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    kind: 'selecting-field'\n  });\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Stack, {\n    padding: \"medium\",\n    as: \"form\",\n    css: {\n      minWidth: 320\n    },\n    onSubmit: event => {\n      event.preventDefault();\n      if (state.kind === 'filter-value') {\n        router.push({\n          query: {\n            ...router.query,\n            [`!${state.fieldPath}_${state.filterType}`]: JSON.stringify(state.filterValue)\n          }\n        });\n        onClose();\n      }\n    },\n    gap: \"small\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n    css: {\n      position: 'relative'\n    }\n  }, state.kind !== 'selecting-field' && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n    type: \"button\",\n    onClick: () => {\n      setState({\n        kind: 'selecting-field'\n      });\n    },\n    css: {\n      border: 0,\n      background: 'transparent',\n      cursor: 'pointer',\n      position: 'absolute'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.VisuallyHidden, null, \"Back\"), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_icons_icons_ChevronLeftIcon__WEBPACK_IMPORTED_MODULE_33__.ChevronLeftIcon, {\n    size: \"smallish\"\n  })), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Heading, {\n    textAlign: \"center\",\n    type: \"h5\"\n  }, (() => {\n    switch (state.kind) {\n      case 'selecting-field':\n        {\n          return 'Filter';\n        }\n      case 'filter-value':\n        {\n          return list.fields[state.fieldPath].label;\n        }\n    }\n  })())), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Divider, null), state.kind === 'selecting-field' && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_options__WEBPACK_IMPORTED_MODULE_31__.Options, {\n    components: fieldSelectComponents,\n    onChange: newVal => {\n      const fieldPath = newVal.value;\n      const filterType = Object.keys(filtersByFieldThenType[fieldPath])[0];\n      setState({\n        kind: 'filter-value',\n        fieldPath,\n        filterType,\n        filterValue: fieldsWithFilters[fieldPath].controller.filter.types[filterType].initialValue\n      });\n    },\n    options: Object.keys(filtersByFieldThenType).map(fieldPath => ({\n      label: fieldsWithFilters[fieldPath].label,\n      value: fieldPath\n    }))\n  }), state.kind === 'filter-value' && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_fields__WEBPACK_IMPORTED_MODULE_4__.Select, {\n    width: \"full\",\n    value: {\n      value: state.filterType,\n      label: filtersByFieldThenType[state.fieldPath][state.filterType]\n    },\n    onChange: newVal => {\n      if (newVal) {\n        setState({\n          kind: 'filter-value',\n          fieldPath: state.fieldPath,\n          filterValue: fieldsWithFilters[state.fieldPath].controller.filter.types[newVal.value].initialValue,\n          filterType: newVal.value\n        });\n      }\n    },\n    options: Object.keys(filtersByFieldThenType[state.fieldPath]).map(filterType => ({\n      label: filtersByFieldThenType[state.fieldPath][filterType],\n      value: filterType\n    }))\n  }), state.kind == 'filter-value' && (() => {\n    const {\n      Filter\n    } = fieldsWithFilters[state.fieldPath].controller.filter;\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(Filter, {\n      type: state.filterType,\n      value: state.filterValue,\n      onChange: value => {\n        setState(state => ({\n          ...state,\n          filterValue: value\n        }));\n      }\n    });\n  })(), state.kind == 'filter-value' && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n    css: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n    onClick: onClose\n  }, \"Cancel\"), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n    type: \"submit\"\n  }, \"Apply\")));\n}\n\nfunction FilterList({\n  filters,\n  list\n}) {\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Inline, {\n    gap: \"small\"\n  }, filters.map(filter => {\n    const field = list.fields[filter.field];\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(FilterPill, {\n      key: `${filter.field}_${filter.type}`,\n      field: field,\n      filter: filter\n    });\n  }));\n}\nfunction FilterPill({\n  filter,\n  field\n}) {\n  const router = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const {\n    isOpen,\n    setOpen,\n    trigger,\n    dialog,\n    arrow\n  } = (0,_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_20__.usePopover)({\n    placement: 'bottom',\n    modifiers: [{\n      name: 'offset',\n      options: {\n        offset: [0, 8]\n      }\n    }]\n  });\n  // doing this because returning a string from Label will be VERY common\n  // but https://github.com/microsoft/TypeScript/issues/21699 isn't resolved yet\n  const Label = field.controller.filter.Label;\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_pill__WEBPACK_IMPORTED_MODULE_34__.Pill, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    containerProps: {\n      'aria-label': `Filter item ${filter.field}, press to edit filter`\n    }\n  }, trigger.props, {\n    ref: trigger.ref,\n    onClick: () => setOpen(!isOpen),\n    weight: \"light\",\n    tone: \"passive\",\n    onRemove: () => {\n      const {\n        [`!${filter.field}_${filter.type}`]: _ignore,\n        ...queryToKeep\n      } = router.query;\n      router.push({\n        pathname: router.pathname,\n        query: queryToKeep\n      });\n    }\n  }), field.label, ' ', (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(Label, {\n    label: field.controller.filter.types[filter.type].label,\n    type: filter.type,\n    value: filter.value\n  })), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_20__.PopoverDialog, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    \"aria-label\": `filter item config, dialog for configuring ${filter.field} filter`,\n    arrow: arrow\n  }, dialog.props, {\n    isVisible: isOpen,\n    ref: dialog.ref\n  }), isOpen && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(EditDialog, {\n    onClose: () => {\n      setOpen(false);\n    },\n    field: field,\n    filter: filter\n  })));\n}\nfunction EditDialog({\n  filter,\n  field,\n  onClose\n}) {\n  const Filter = field.controller.filter.Filter;\n  const router = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(filter.value);\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Stack, {\n    as: \"form\",\n    padding: \"small\",\n    gap: \"small\",\n    onSubmit: event => {\n      event.preventDefault();\n      router.push({\n        query: {\n          ...router.query,\n          [`!${filter.field}_${filter.type}`]: JSON.stringify(value)\n        }\n      });\n      onClose();\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(Filter, {\n    type: filter.type,\n    value: value,\n    onChange: setValue\n  }), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n    css: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n    onClick: onClose\n  }, \"Cancel\"), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n    type: \"submit\"\n  }, \"Save\")));\n}\n\nfunction useSort(list, orderableFields) {\n  const {\n    query\n  } = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const sortByFromUrl = typeof query.sortBy === 'string' ? query.sortBy : null;\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (sortByFromUrl === '') return null;\n    if (sortByFromUrl === null) return list.initialSort;\n    if (sortByFromUrl.startsWith('-')) {\n      const field = sortByFromUrl.slice(1);\n      if (!orderableFields.has(field)) return null;\n      return {\n        field,\n        direction: 'DESC'\n      };\n    }\n    if (!orderableFields.has(sortByFromUrl)) return null;\n    return {\n      field: sortByFromUrl,\n      direction: 'ASC'\n    };\n  }, [sortByFromUrl, list, orderableFields]);\n}\n\nfunction SortSelection({\n  list,\n  orderableFields\n}) {\n  const sort = useSort(list, orderableFields);\n  const {\n    isOpen,\n    setOpen,\n    trigger,\n    dialog,\n    arrow\n  } = (0,_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_20__.usePopover)({\n    placement: 'bottom',\n    modifiers: [{\n      name: 'offset',\n      options: {\n        offset: [0, 8]\n      }\n    }]\n  });\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, trigger.props, {\n    weight: \"link\",\n    css: {\n      padding: 4\n    },\n    ref: trigger.ref,\n    onClick: () => setOpen(!isOpen)\n  }), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", {\n    css: {\n      display: 'inline-flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, sort ? `${list.fields[sort.field].label} ${{\n    ASC: 'ascending',\n    DESC: 'descending'\n  }[sort.direction]}` : 'No field', (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_icons_icons_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_30__.ChevronDownIcon, {\n    size: \"smallish\"\n  }))), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_20__.PopoverDialog, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    \"aria-label\": `Sort options, list of sorting parameters to apply to the ${list.key} list`,\n    arrow: arrow,\n    isVisible: isOpen\n  }, dialog.props, {\n    ref: dialog.ref\n  }), isOpen && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(SortSelectionPopoverContent, {\n    onClose: () => {\n      setOpen(false);\n    },\n    list: list,\n    orderableFields: orderableFields\n  })));\n}\nconst noFieldOption = {\n  label: 'No field',\n  value: '___________NO_FIELD___________'\n};\nfunction SortSelectionPopoverContent({\n  onClose,\n  list,\n  orderableFields\n}) {\n  const sort = useSort(list, orderableFields);\n  const router = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Stack, {\n    padding: \"medium\",\n    css: {\n      minWidth: 320\n    },\n    gap: \"small\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n    css: {\n      position: 'relative'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Heading, {\n    textAlign: \"center\",\n    type: \"h5\"\n  }, \"Sort\")), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Divider, null), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_options__WEBPACK_IMPORTED_MODULE_31__.Options, {\n    value: sort ? {\n      label: list.fields[sort.field].label,\n      value: sort.field\n    } : noFieldOption,\n    components: fieldSelectionOptionsComponents,\n    onChange: newVal => {\n      const fieldPath = newVal.value;\n      if (fieldPath === noFieldOption.value) {\n        const {\n          sortBy,\n          ...restOfQuery\n        } = router.query;\n        if (list.initialSort) {\n          router.push({\n            query: {\n              ...router.query,\n              sortBy: ''\n            }\n          });\n        } else {\n          router.push({\n            query: restOfQuery\n          });\n        }\n      } else {\n        router.push({\n          query: {\n            ...router.query,\n            sortBy: (sort === null || sort === void 0 ? void 0 : sort.field) === fieldPath && sort.direction === 'ASC' ? `-${sort.field}` : fieldPath\n          }\n        });\n      }\n      onClose();\n    },\n    options: [...orderableFields].map(fieldPath => ({\n      label: list.fields[fieldPath].label,\n      value: fieldPath\n    })).concat(noFieldOption)\n  }));\n}\n\nfunction useFilters(list, filterableFields) {\n  const {\n    query\n  } = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const possibleFilters = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const possibleFilters = {};\n    Object.entries(list.fields).forEach(([fieldPath, field]) => {\n      if (field.controller.filter && filterableFields.has(fieldPath)) {\n        Object.keys(field.controller.filter.types).forEach(type => {\n          possibleFilters[`!${fieldPath}_${type}`] = {\n            type,\n            field: fieldPath\n          };\n        });\n      }\n    });\n    return possibleFilters;\n  }, [list, filterableFields]);\n  const filters = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const filters = [];\n    Object.keys(query).forEach(key => {\n      const filter = possibleFilters[key];\n      const val = query[key];\n      if (filter && typeof val === 'string') {\n        let value;\n        try {\n          value = JSON.parse(val);\n        } catch (err) {}\n        if (val !== undefined) {\n          filters.push({\n            ...filter,\n            value\n          });\n        }\n      }\n    });\n    const where = filters.reduce((_where, filter) => {\n      return Object.assign(_where, list.fields[filter.field].controller.filter.graphql({\n        type: filter.type,\n        value: filter.value\n      }));\n    }, {});\n    if (list.isSingleton) return {\n      filters,\n      where: {\n        id: {\n          equals: 1\n        },\n        AND: [where]\n      }\n    };\n    return {\n      filters,\n      where\n    };\n  }, [query, possibleFilters, list]);\n  return filters;\n}\n\nconst listMetaGraphqlQuery = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__.gql)`\n  query ($listKey: String!) {\n    keystone {\n      adminMeta {\n        list(key: $listKey) {\n          hideDelete\n          hideCreate\n          fields {\n            path\n            isOrderable\n            isFilterable\n            listView {\n              fieldMode\n            }\n          }\n        }\n      }\n    }\n  }\n`;\nconst storeableQueries = ['sortBy', 'fields'];\nfunction useQueryParamsFromLocalStorage(listKey) {\n  const router = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const localStorageKey = `keystone.list.${listKey}.list.page.info`;\n  const resetToDefaults = () => {\n    localStorage.removeItem(localStorageKey);\n    router.replace({\n      pathname: router.pathname\n    });\n  };\n\n  // GET QUERY FROM CACHE IF CONDITIONS ARE RIGHT\n  // MERGE QUERY PARAMS FROM CACHE WITH QUERY PARAMS FROM ROUTER\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const hasSomeQueryParamsWhichAreAboutListPage = Object.keys(router.query).some(x => {\n      return x.startsWith('!') || storeableQueries.includes(x);\n    });\n    if (!hasSomeQueryParamsWhichAreAboutListPage && router.isReady) {\n      const queryParamsFromLocalStorage = localStorage.getItem(localStorageKey);\n      let parsed;\n      try {\n        parsed = JSON.parse(queryParamsFromLocalStorage);\n      } catch (err) {}\n      if (parsed) {\n        router.replace({\n          query: {\n            ...router.query,\n            ...parsed\n          }\n        });\n      }\n    }\n  }, [localStorageKey, router.isReady]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const queryParamsToSerialize = {};\n    Object.keys(router.query).forEach(key => {\n      if (key.startsWith('!') || storeableQueries.includes(key)) {\n        queryParamsToSerialize[key] = router.query[key];\n      }\n    });\n    if (Object.keys(queryParamsToSerialize).length) {\n      localStorage.setItem(localStorageKey, JSON.stringify(queryParamsToSerialize));\n    } else {\n      localStorage.removeItem(localStorageKey);\n    }\n  }, [localStorageKey, router]);\n  return {\n    resetToDefaults\n  };\n}\nconst getListPage = props => () => (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(ListPage, props);\nfunction ListPage({\n  listKey\n}) {\n  var _metaQuery$data2, _metaQuery$data$keyst, _metaQuery$data3;\n  const keystone = (0,_admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_18__.useKeystone)();\n  const list = (0,_admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_18__.useList)(listKey);\n  const {\n    query,\n    push\n  } = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const {\n    resetToDefaults\n  } = useQueryParamsFromLocalStorage(listKey);\n  const {\n    currentPage,\n    pageSize\n  } = (0,_dist_Pagination_38e6736f_esm_js__WEBPACK_IMPORTED_MODULE_27__.u)({\n    defaultPageSize: list.pageSize\n  });\n  const metaQuery = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__.useQuery)(listMetaGraphqlQuery, {\n    variables: {\n      listKey\n    }\n  });\n  const {\n    listViewFieldModesByField,\n    filterableFields,\n    orderableFields\n  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const listViewFieldModesByField = {};\n    const orderableFields = new Set();\n    const filterableFields = new Set();\n    for (const field of ((_metaQuery$data = metaQuery.data) === null || _metaQuery$data === void 0 || (_metaQuery$data = _metaQuery$data.keystone.adminMeta.list) === null || _metaQuery$data === void 0 ? void 0 : _metaQuery$data.fields) || []) {\n      var _metaQuery$data;\n      listViewFieldModesByField[field.path] = field.listView.fieldMode;\n      if (field.isOrderable) {\n        orderableFields.add(field.path);\n      }\n      if (field.isFilterable) {\n        filterableFields.add(field.path);\n      }\n    }\n    return {\n      listViewFieldModesByField,\n      orderableFields,\n      filterableFields\n    };\n  }, [(_metaQuery$data2 = metaQuery.data) === null || _metaQuery$data2 === void 0 || (_metaQuery$data2 = _metaQuery$data2.keystone.adminMeta.list) === null || _metaQuery$data2 === void 0 ? void 0 : _metaQuery$data2.fields]);\n  const sort = useSort(list, orderableFields);\n  const filters = useFilters(list, filterableFields);\n  const searchLabels = list.initialSearchFields.map(key => list.fields[key].label);\n  const searchParam = typeof query.search === 'string' ? query.search : '';\n  const [searchString, updateSearchString] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(searchParam);\n  const search = (0,_fields_types_relationship_views_RelationshipSelect_dist_keystone_6_core_fields_types_relationship_views_RelationshipSelect_esm_js__WEBPACK_IMPORTED_MODULE_28__.useSearchFilter)(searchParam, list, list.initialSearchFields, keystone.adminMeta.lists);\n  const updateSearch = value => {\n    const {\n      search,\n      ...queries\n    } = query;\n    if (value.trim()) {\n      push({\n        query: {\n          ...queries,\n          search: value\n        }\n      });\n    } else {\n      push({\n        query: queries\n      });\n    }\n  };\n  const selectedFields = useSelectedFields(list, listViewFieldModesByField);\n  const {\n    data: newData,\n    error: newError,\n    refetch\n  } = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__.useQuery)((0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const selectedGqlFields = [...selectedFields].map(fieldPath => list.fields[fieldPath].controller.graphqlSelection).join('\\n');\n\n    // TODO: FIXME: this is bad\n    return (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__.gql)`\n        query (\n          $where: ${list.gqlNames.whereInputName},\n          $take: Int!,\n          $skip: Int!,\n          $orderBy: [${list.gqlNames.listOrderName}!]\n        ) {\n          items: ${list.gqlNames.listQueryName}(\n            where: $where,\n            take: $take,\n            skip: $skip,\n            orderBy: $orderBy\n          ) {\n            ${\n    // TODO: maybe namespace all the fields instead of doing this\n    selectedFields.has('id') ? '' : 'id'}\n            ${selectedGqlFields}\n          }\n          count: ${list.gqlNames.listQueryCountName}(where: $where)\n        }\n      `;\n  }, [list, selectedFields]), {\n    fetchPolicy: 'cache-and-network',\n    errorPolicy: 'all',\n    skip: !metaQuery.data,\n    variables: {\n      where: {\n        ...filters.where,\n        ...search\n      },\n      take: pageSize,\n      skip: (currentPage - 1) * pageSize,\n      orderBy: sort ? [{\n        [sort.field]: sort.direction.toLowerCase()\n      }] : undefined\n    }\n  });\n  const [dataState, setDataState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    data: newData,\n    error: newError\n  });\n  if (newData && dataState.data !== newData) {\n    setDataState({\n      data: newData,\n      error: newError\n    });\n  }\n  const {\n    data,\n    error\n  } = dataState;\n  const dataGetter = (0,_dist_dataGetter_54fa8f6b_esm_js__WEBPACK_IMPORTED_MODULE_10__.m)(data, error === null || error === void 0 ? void 0 : error.graphQLErrors);\n  const [selectedItemsState, setSelectedItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => ({\n    itemsFromServer: undefined,\n    selectedItems: new Set()\n  }));\n\n  // this removes the selected items which no longer exist when the data changes\n  // because someone goes to another page, changes filters or etc.\n  if (data && data.items && selectedItemsState.itemsFromServer !== data.items) {\n    const newSelectedItems = new Set();\n    data.items.forEach(item => {\n      if (selectedItemsState.selectedItems.has(item.id)) {\n        newSelectedItems.add(item.id);\n      }\n    });\n    setSelectedItems({\n      itemsFromServer: data.items,\n      selectedItems: newSelectedItems\n    });\n  }\n  const theme = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.useTheme)();\n  const showCreate = !((_metaQuery$data$keyst = (_metaQuery$data3 = metaQuery.data) === null || _metaQuery$data3 === void 0 || (_metaQuery$data3 = _metaQuery$data3.keystone.adminMeta.list) === null || _metaQuery$data3 === void 0 ? void 0 : _metaQuery$data3.hideCreate) !== null && _metaQuery$data$keyst !== void 0 ? _metaQuery$data$keyst : true) || null;\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dist_PageContainer_4946e9c2_esm_js__WEBPACK_IMPORTED_MODULE_25__.P, {\n    header: (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(ListPageHeader, {\n      listKey: listKey\n    }),\n    title: list.label\n  }, error !== null && error !== void 0 && error.graphQLErrors.length || error !== null && error !== void 0 && error.networkError ? (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dist_GraphQLErrorNotice_53983da1_esm_js__WEBPACK_IMPORTED_MODULE_26__.G, {\n    errors: error === null || error === void 0 ? void 0 : error.graphQLErrors,\n    networkError: error === null || error === void 0 ? void 0 : error.networkError\n  }) : null, metaQuery.error ? 'Error...' : null, data && metaQuery.data ? (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, list.description !== null && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"p\", {\n    css: {\n      marginTop: '24px',\n      maxWidth: '704px'\n    }\n  }, list.description), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Stack, {\n    across: true,\n    gap: \"medium\",\n    align: \"center\",\n    marginTop: \"xlarge\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      updateSearch(searchString);\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Stack, {\n    across: true\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_fields__WEBPACK_IMPORTED_MODULE_4__.TextInput, {\n    css: {\n      borderRadius: '4px 0px 0px 4px'\n    },\n    autoFocus: true,\n    value: searchString,\n    onChange: e => updateSearchString(e.target.value),\n    placeholder: `Search by ${searchLabels.length ? searchLabels.join(', ') : 'ID'}`\n  }), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n    css: {\n      borderRadius: '0px 4px 4px 0px'\n    },\n    type: \"submit\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_icons_icons_SearchIcon__WEBPACK_IMPORTED_MODULE_9__.SearchIcon, null)))), showCreate && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dist_CreateButtonLink_5ceff7b7_esm_js__WEBPACK_IMPORTED_MODULE_29__.C, {\n    list: list\n  }), data.count || filters.filters.length ? (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(FilterAdd, {\n    listKey: listKey,\n    filterableFields: filterableFields\n  }) : null, filters.filters.length ? (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(FilterList, {\n    filters: filters.filters,\n    list: list\n  }) : null, Boolean(filters.filters.length || query.sortBy !== undefined || query.fields || query.search) && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n    size: \"small\",\n    onClick: resetToDefaults\n  }, \"Reset to defaults\")), data.count ? (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(ResultsSummaryContainer, null, (() => {\n    const selectedItems = selectedItemsState.selectedItems;\n    const selectedItemsCount = selectedItems.size;\n    if (selectedItemsCount) {\n      var _metaQuery$data$keyst2, _metaQuery$data4;\n      return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", {\n        css: {\n          marginRight: theme.spacing.small\n        }\n      }, \"Selected \", selectedItemsCount, \" of \", data.items.length), !((_metaQuery$data$keyst2 = (_metaQuery$data4 = metaQuery.data) === null || _metaQuery$data4 === void 0 || (_metaQuery$data4 = _metaQuery$data4.keystone.adminMeta.list) === null || _metaQuery$data4 === void 0 ? void 0 : _metaQuery$data4.hideDelete) !== null && _metaQuery$data$keyst2 !== void 0 ? _metaQuery$data$keyst2 : true) && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(DeleteManyButton, {\n        list: list,\n        selectedItems: selectedItems,\n        refetch: refetch\n      }));\n    }\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dist_Pagination_38e6736f_esm_js__WEBPACK_IMPORTED_MODULE_27__.a, {\n      currentPage: currentPage,\n      pageSize: pageSize,\n      plural: list.plural,\n      singular: list.singular,\n      total: data.count\n    }), \", sorted by \", (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(SortSelection, {\n      list: list,\n      orderableFields: orderableFields\n    }), \"with\", ' ', (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(FieldSelection, {\n      list: list,\n      fieldModesByFieldPath: listViewFieldModesByField\n    }), ' ');\n  })()), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(ListTable, {\n    count: data.count,\n    currentPage: currentPage,\n    itemsGetter: dataGetter.get('items'),\n    listKey: listKey,\n    pageSize: pageSize,\n    selectedFields: selectedFields,\n    sort: sort,\n    selectedItems: selectedItemsState.selectedItems,\n    onSelectedItemsChange: selectedItems => {\n      setSelectedItems({\n        itemsFromServer: selectedItemsState.itemsFromServer,\n        selectedItems\n      });\n    },\n    orderableFields: orderableFields\n  })) : (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(ResultsSummaryContainer, null, \"No \", list.plural, \" found.\")) : (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Center, {\n    css: {\n      height: `calc(100vh - ${_dist_PageContainer_4946e9c2_esm_js__WEBPACK_IMPORTED_MODULE_25__.H}px)`\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_loading__WEBPACK_IMPORTED_MODULE_6__.LoadingDots, {\n    label: \"Loading item data\",\n    size: \"large\",\n    tone: \"passive\"\n  })));\n}\nfunction ListPageHeader({\n  listKey\n}) {\n  const list = (0,_admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_18__.useList)(listKey);\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      flex: 1,\n      justifyContent: 'space-between'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Heading, {\n    type: \"h3\"\n  }, list.label)));\n}\nfunction ResultsSummaryContainer({\n  children\n}) {\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"p\", {\n    css: {\n      // TODO: don't do this\n      // (this is to make it so things don't move when a user selects an item)\n      minHeight: 38,\n      display: 'flex',\n      alignItems: 'center'\n    }\n  }, children);\n}\nfunction SortDirectionArrow({\n  direction\n}) {\n  const size = '0.25em';\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", {\n    css: {\n      borderLeft: `${size} solid transparent`,\n      borderRight: `${size} solid transparent`,\n      borderTop: `${size} solid`,\n      display: 'inline-block',\n      height: 0,\n      marginLeft: '0.33em',\n      marginTop: '-0.125em',\n      verticalAlign: 'middle',\n      width: 0,\n      transform: `rotate(${direction === 'DESC' ? '0deg' : '180deg'})`\n    }\n  });\n}\nfunction DeleteManyButton({\n  selectedItems,\n  list,\n  refetch\n}) {\n  const [deleteItems, deleteItemsState] = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__.useMutation)((0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__.gql)`\n        mutation($where: [${list.gqlNames.whereUniqueInputName}!]!) {\n          ${list.gqlNames.deleteManyMutationName}(where: $where) {\n            id\n            ${list.labelField}\n          }\n        }\n`, [list]), {\n    errorPolicy: 'all'\n  });\n  const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const toasts = (0,_keystone_ui_toast__WEBPACK_IMPORTED_MODULE_8__.useToasts)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n    isLoading: deleteItemsState.loading,\n    tone: \"negative\",\n    onClick: async () => {\n      setIsOpen(true);\n    }\n  }, \"Delete\"), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_modals__WEBPACK_IMPORTED_MODULE_7__.AlertDialog\n  // TODO: change the copy in the title and body of the modal\n  , {\n    isOpen: isOpen,\n    title: \"Delete Confirmation\",\n    tone: \"negative\",\n    actions: {\n      confirm: {\n        label: 'Delete',\n        action: async () => {\n          const {\n            data,\n            errors\n          } = await deleteItems({\n            variables: {\n              where: [...selectedItems].map(id => ({\n                id\n              }))\n            }\n          });\n          /*\n            Data returns an array where successful deletions are item objects\n            and unsuccessful deletions are null values.\n            Run a reduce to count success and failure as well as\n            to generate the success message to be passed to the success toast\n           */\n          const {\n            successfulItems,\n            unsuccessfulItems,\n            successMessage\n          } = data[list.gqlNames.deleteManyMutationName].reduce((acc, curr) => {\n            if (curr) {\n              acc.successfulItems++;\n              acc.successMessage = acc.successMessage === '' ? acc.successMessage += curr[list.labelField] : acc.successMessage += `, ${curr[list.labelField]}`;\n            } else {\n              acc.unsuccessfulItems++;\n            }\n            return acc;\n          }, {\n            successfulItems: 0,\n            unsuccessfulItems: 0,\n            successMessage: ''\n          });\n\n          // If there are errors\n          if (errors !== null && errors !== void 0 && errors.length) {\n            // Find out how many items failed to delete.\n            // Reduce error messages down to unique instances, and append to the toast as a message.\n            toasts.addToast({\n              tone: 'negative',\n              title: `Failed to delete ${unsuccessfulItems} of ${data[list.gqlNames.deleteManyMutationName].length} ${list.plural}`,\n              message: errors.reduce((acc, error) => {\n                if (acc.indexOf(error.message) < 0) {\n                  acc.push(error.message);\n                }\n                return acc;\n              }, []).join('\\n')\n            });\n          }\n          if (successfulItems) {\n            toasts.addToast({\n              tone: 'positive',\n              title: `Deleted ${successfulItems} of ${data[list.gqlNames.deleteManyMutationName].length} ${list.plural} successfully`,\n              message: successMessage\n            });\n          }\n          return refetch();\n        }\n      },\n      cancel: {\n        label: 'Cancel',\n        action: () => {\n          setIsOpen(false);\n        }\n      }\n    }\n  }, \"Are you sure you want to delete \", selectedItems.size, ' ', selectedItems.size === 1 ? list.singular : list.plural, \"?\"));\n}\nfunction ListTable({\n  selectedFields,\n  listKey,\n  itemsGetter,\n  count,\n  sort,\n  currentPage,\n  pageSize,\n  selectedItems,\n  onSelectedItemsChange,\n  orderableFields\n}) {\n  var _itemsGetter$data, _itemsGetter$data4;\n  const list = (0,_admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_18__.useList)(listKey);\n  const {\n    query\n  } = (0,next_router__WEBPACK_IMPORTED_MODULE_19__.useRouter)();\n  const shouldShowLinkIcon = [...selectedFields].some((k, i) => !list.fields[k].views.Cell.supportsLinkTo && i === 0);\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.Box, {\n    paddingBottom: \"xlarge\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableContainer, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.VisuallyHidden, {\n    as: \"caption\"\n  }, list.label, \" list\"), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"colgroup\", null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"col\", {\n    width: \"30\"\n  }), shouldShowLinkIcon && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"col\", {\n    width: \"30\"\n  }), [...selectedFields].map(path => (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"col\", {\n    key: path\n  }))), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableHeaderRow, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableHeaderCell, {\n    css: {\n      paddingLeft: 0\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", {\n    css: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'start',\n      cursor: 'pointer'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_fields__WEBPACK_IMPORTED_MODULE_4__.CheckboxControl, {\n    size: \"small\",\n    checked: selectedItems.size === ((_itemsGetter$data = itemsGetter.data) === null || _itemsGetter$data === void 0 ? void 0 : _itemsGetter$data.length),\n    css: {\n      cursor: 'default'\n    },\n    onChange: () => {\n      var _itemsGetter$data2;\n      const newSelectedItems = new Set();\n      if (selectedItems.size !== ((_itemsGetter$data2 = itemsGetter.data) === null || _itemsGetter$data2 === void 0 ? void 0 : _itemsGetter$data2.length)) {\n        var _itemsGetter$data3;\n        (_itemsGetter$data3 = itemsGetter.data) === null || _itemsGetter$data3 === void 0 || _itemsGetter$data3.forEach(item => {\n          if (item !== null && item.id !== null) {\n            newSelectedItems.add(item.id);\n          }\n        });\n      }\n      onSelectedItemsChange(newSelectedItems);\n    }\n  }))), shouldShowLinkIcon && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableHeaderCell, null), [...selectedFields].map(path => {\n    const label = list.fields[path].label;\n    if (!orderableFields.has(path)) return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableHeaderCell, {\n      key: path\n    }, label);\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableHeaderCell, {\n      key: path\n    }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_23__.Link, {\n      css: {\n        display: 'block',\n        textDecoration: 'none',\n        color: 'inherit',\n        ':hover': {\n          color: 'inherit'\n        }\n      },\n      href: {\n        query: {\n          ...query,\n          sortBy: (sort === null || sort === void 0 ? void 0 : sort.field) === path && sort.direction === 'ASC' ? `-${path}` : path\n        }\n      }\n    }, label, (sort === null || sort === void 0 ? void 0 : sort.field) === path && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(SortDirectionArrow, {\n      direction: sort.direction\n    })));\n  })), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"tbody\", null, ((_itemsGetter$data4 = itemsGetter.data) !== null && _itemsGetter$data4 !== void 0 ? _itemsGetter$data4 : []).map((_, index) => {\n    const itemGetter = itemsGetter.get(index);\n    if (itemGetter.data === null || itemGetter.data.id === null) {\n      if (itemGetter.errors) {\n        return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"tr\", {\n          css: {\n            color: 'red'\n          },\n          key: `index:${index}`\n        }, itemGetter.errors[0].message);\n      }\n      return null;\n    }\n    const itemId = itemGetter.data.id;\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"tr\", {\n      key: itemId || `index:${index}`\n    }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableBodyCell, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", {\n      css: {\n        display: 'flex',\n        minHeight: 38,\n        alignItems: 'center',\n        justifyContent: 'start'\n      }\n    }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_fields__WEBPACK_IMPORTED_MODULE_4__.CheckboxControl, {\n      size: \"small\",\n      checked: selectedItems.has(itemId),\n      css: {\n        cursor: 'default'\n      },\n      onChange: () => {\n        const newSelectedItems = new Set(selectedItems);\n        if (selectedItems.has(itemId)) {\n          newSelectedItems.delete(itemId);\n        } else {\n          newSelectedItems.add(itemId);\n        }\n        onSelectedItemsChange(newSelectedItems);\n      }\n    }))), shouldShowLinkIcon && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableBodyCell, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_23__.Link, {\n      css: {\n        textDecoration: 'none',\n        minHeight: 38,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      href: `/${list.path}/[id]`,\n      as: `/${list.path}/${encodeURIComponent(itemId)}`\n    }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_icons_icons_ArrowRightCircleIcon__WEBPACK_IMPORTED_MODULE_5__.ArrowRightCircleIcon, {\n      size: \"smallish\",\n      \"aria-label\": \"Go to item\"\n    }))), [...selectedFields].map((path, i) => {\n      const field = list.fields[path];\n      const {\n        Cell\n      } = list.fields[path].views;\n      const itemForField = {};\n      for (const graphqlField of (0,_dist_getRootGraphQLFieldsFromFieldController_3d1a0f41_esm_js__WEBPACK_IMPORTED_MODULE_12__.g)(field.controller)) {\n        const fieldGetter = itemGetter.get(graphqlField);\n        if (fieldGetter.errors) {\n          const errorMessage = fieldGetter.errors[0].message;\n          return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableBodyCell, {\n            css: {\n              color: 'red'\n            },\n            key: path\n          }, i === 0 && Cell.supportsLinkTo ? (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dist_CellLink_c169ac58_esm_js__WEBPACK_IMPORTED_MODULE_14__.C, {\n            href: `/${list.path}/[id]`,\n            as: `/${list.path}/${encodeURIComponent(itemId)}`\n          }, errorMessage) : errorMessage);\n        }\n        itemForField[graphqlField] = fieldGetter.data;\n      }\n      return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableBodyCell, {\n        key: path\n      }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(Cell, {\n        field: field.controller,\n        item: itemForField,\n        linkTo: i === 0 && Cell.supportsLinkTo ? {\n          href: `/${list.path}/[id]`,\n          as: `/${list.path}/${encodeURIComponent(itemId)}`\n        } : undefined\n      }));\n    }));\n  }))), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dist_Pagination_38e6736f_esm_js__WEBPACK_IMPORTED_MODULE_27__.P, {\n    singular: list.singular,\n    plural: list.plural,\n    total: count,\n    currentPage: currentPage,\n    pageSize: pageSize\n  }));\n}\nfunction TableContainer({\n  children\n}) {\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"table\", {\n    css: {\n      minWidth: '100%',\n      tableLayout: 'fixed',\n      'tr:last-child td': {\n        borderBottomWidth: 0\n      }\n    },\n    cellPadding: \"0\",\n    cellSpacing: \"0\"\n  }, children);\n}\nfunction TableHeaderRow({\n  children\n}) {\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"thead\", null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"tr\", null, children));\n}\nfunction TableHeaderCell(props) {\n  const {\n    colors,\n    spacing,\n    typography\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.useTheme)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"th\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    css: {\n      backgroundColor: colors.background,\n      borderBottom: `2px solid ${colors.border}`,\n      color: colors.foregroundDim,\n      fontSize: typography.fontSize.medium,\n      fontWeight: typography.fontWeight.medium,\n      padding: spacing.small,\n      textAlign: 'left',\n      position: 'sticky',\n      top: 0\n    }\n  }, props));\n}\nfunction TableBodyCell(props) {\n  const {\n    colors,\n    typography\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.useTheme)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"td\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    css: {\n      borderBottom: `1px solid ${colors.border}`,\n      fontSize: typography.fontSize.medium\n    }\n  }, props));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvX19faW50ZXJuYWwtZG8tbm90LXVzZS13aWxsLWJyZWFrLWluLXBhdGNoL2FkbWluLXVpL3BhZ2VzL0xpc3RQYWdlL2Rpc3Qva2V5c3RvbmUtNi1jb3JlLV9fX2ludGVybmFsLWRvLW5vdC11c2Utd2lsbC1icmVhay1pbi1wYXRjaC1hZG1pbi11aS1wYWdlcy1MaXN0UGFnZS5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwRDtBQUNLO0FBQ2xCO0FBQ21FO0FBQ3ZDO0FBQ1k7QUFDbEM7QUFDRDtBQUNIO0FBQ2tCO0FBQ29CO0FBQ2pDO0FBQ3VGO0FBQ2xIO0FBQ21DO0FBQ2lCO0FBQzlCO0FBQ0s7QUFDakM7QUFDaUc7QUFDNUU7QUFDa0M7QUFDckI7QUFDd0I7QUFDcUI7QUFDdkM7QUFDZ0Q7QUFDVjtBQUNnQztBQUNrRDtBQUN0RjtBQUNsQjtBQUNBO0FBQ3hEO0FBQ3dEO0FBQ2xDO0FBQ1Y7QUFDZDtBQUNhO0FBQ1A7QUFDeUM7QUFDcEM7QUFDQztBQUNFOztBQUUvQjtBQUNBO0FBQ0E7QUFDQSxJQUFJLEVBQUUsdURBQVM7QUFDZjtBQUNBLFNBQVMsOENBQU87QUFDaEI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsaUJBQWlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzREFBRyxDQUFDLGtFQUFlLHlCQUF5QixzREFBRyxDQUFDLDREQUFTO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxpQkFBaUIsdURBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FB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QUFvQixVQUFVO0FBQzlCLGtCQUFrQixVQUFVLEdBQUcsMkJBQTJCO0FBQzFELFVBQVU7QUFDVixPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUcsS0FBSyxzREFBRyxDQUFDLGdFQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVMsc0RBQUc7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsU0FBUyxzREFBRyxnQkFBZ0Isc0RBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxFQUFFLDJEQUFRO0FBQ2QsU0FBUyxzREFBRyxPQUFPLDhFQUFRO0FBQzNCO0FBQ0E7QUFDQSxpQ0FBaUMsY0FBYztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEVBQUUsMkRBQVE7QUFDZCxTQUFTLHNEQUFHLE9BQU8sOEVBQVE7QUFDM0I7QUFDQSxpQ0FBaUMsY0FBYztBQUMvQztBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUV1QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvX19faW50ZXJuYWwtZG8tbm90LXVzZS13aWxsLWJyZWFrLWluLXBhdGNoL2FkbWluLXVpL3BhZ2VzL0xpc3RQYWdlL2Rpc3Qva2V5c3RvbmUtNi1jb3JlLV9fX2ludGVybmFsLWRvLW5vdC11c2Utd2lsbC1icmVhay1pbi1wYXRjaC1hZG1pbi11aS1wYWdlcy1MaXN0UGFnZS5lc20uanM/ZWZmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgeyB1c2VNZW1vLCBGcmFnbWVudCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0BrZXlzdG9uZS11aS9idXR0b24nO1xuaW1wb3J0IHsganN4LCBCb3gsIFN0YWNrLCBWaXN1YWxseUhpZGRlbiwgSGVhZGluZywgRGl2aWRlciwgdXNlVGhlbWUsIElubGluZSwgQ2VudGVyIH0gZnJvbSAnQGtleXN0b25lLXVpL2NvcmUnO1xuaW1wb3J0IHsgU2VsZWN0LCBUZXh0SW5wdXQsIENoZWNrYm94Q29udHJvbCB9IGZyb20gJ0BrZXlzdG9uZS11aS9maWVsZHMnO1xuaW1wb3J0IHsgQXJyb3dSaWdodENpcmNsZUljb24gfSBmcm9tICdAa2V5c3RvbmUtdWkvaWNvbnMvaWNvbnMvQXJyb3dSaWdodENpcmNsZUljb24nO1xuaW1wb3J0IHsgTG9hZGluZ0RvdHMgfSBmcm9tICdAa2V5c3RvbmUtdWkvbG9hZGluZyc7XG5pbXBvcnQgeyBBbGVydERpYWxvZyB9IGZyb20gJ0BrZXlzdG9uZS11aS9tb2RhbHMnO1xuaW1wb3J0IHsgdXNlVG9hc3RzIH0gZnJvbSAnQGtleXN0b25lLXVpL3RvYXN0JztcbmltcG9ydCB7IFNlYXJjaEljb24gfSBmcm9tICdAa2V5c3RvbmUtdWkvaWNvbnMvaWNvbnMvU2VhcmNoSWNvbic7XG5pbXBvcnQgeyBtIGFzIG1ha2VEYXRhR2V0dGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vZGlzdC9kYXRhR2V0dGVyLTU0ZmE4ZjZiLmVzbS5qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uLy4uL2Rpc3QvRmllbGRzLWNiMmMyMDZjLmVzbS5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldFJvb3RHcmFwaFFMRmllbGRzRnJvbUZpZWxkQ29udHJvbGxlciB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2Rpc3QvZ2V0Um9vdEdyYXBoUUxGaWVsZHNGcm9tRmllbGRDb250cm9sbGVyLTNkMWEwZjQxLmVzbS5qcyc7XG5pbXBvcnQgJ2Zhc3QtZGVlcC1lcXVhbCc7XG5pbXBvcnQgeyBncWwsIHVzZVF1ZXJ5LCB1c2VNdXRhdGlvbiB9IGZyb20gJ0BhcG9sbG8vY2xpZW50JztcbmltcG9ydCB7IEMgYXMgQ2VsbExpbmsgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9kaXN0L0NlbGxMaW5rLWMxNjlhYzU4LmVzbS5qcyc7XG5pbXBvcnQgJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0ICdAa2V5c3RvbmUtdWkvaWNvbnMvaWNvbnMvQWxlcnRUcmlhbmdsZUljb24nO1xuaW1wb3J0ICduZXh0L2xpbmsnO1xuaW1wb3J0IHsgdXNlTGlzdCwgdXNlS2V5c3RvbmUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9hZG1pbi11aS9jb250ZXh0L2Rpc3Qva2V5c3RvbmUtNi1jb3JlLWFkbWluLXVpLWNvbnRleHQuZXNtLmpzJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IFBvcG92ZXIsIHVzZVBvcG92ZXIsIFBvcG92ZXJEaWFsb2cgfSBmcm9tICdAa2V5c3RvbmUtdWkvcG9wb3Zlcic7XG5pbXBvcnQgJ0BrZXlzdG9uZS11aS9pY29ucy9pY29ucy9Nb3JlSG9yaXpvbnRhbEljb24nO1xuaW1wb3J0IHsgQ2hldnJvblJpZ2h0SWNvbiB9IGZyb20gJ0BrZXlzdG9uZS11aS9pY29ucy9pY29ucy9DaGV2cm9uUmlnaHRJY29uJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9hZG1pbi11aS9yb3V0ZXIvZGlzdC9rZXlzdG9uZS02LWNvcmUtYWRtaW4tdWktcm91dGVyLmVzbS5qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uLy4uL2Rpc3QvU2lnbm91dEJ1dHRvbi1jYTU4ZDhjOS5lc20uanMnO1xuaW1wb3J0IHsgUCBhcyBQYWdlQ29udGFpbmVyLCBIIGFzIEhFQURFUl9IRUlHSFQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9kaXN0L1BhZ2VDb250YWluZXItNDk0NmU5YzIuZXNtLmpzJztcbmltcG9ydCB7IEcgYXMgR3JhcGhRTEVycm9yTm90aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vZGlzdC9HcmFwaFFMRXJyb3JOb3RpY2UtNTM5ODNkYTEuZXNtLmpzJztcbmltcG9ydCB7IHUgYXMgdXNlUGFnaW5hdGlvblBhcmFtcywgYSBhcyBQYWdpbmF0aW9uTGFiZWwsIFAgYXMgUGFnaW5hdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2Rpc3QvUGFnaW5hdGlvbi0zOGU2NzM2Zi5lc20uanMnO1xuaW1wb3J0IHsgdXNlU2VhcmNoRmlsdGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9SZWxhdGlvbnNoaXBTZWxlY3QvZGlzdC9rZXlzdG9uZS02LWNvcmUtZmllbGRzLXR5cGVzLXJlbGF0aW9uc2hpcC12aWV3cy1SZWxhdGlvbnNoaXBTZWxlY3QuZXNtLmpzJztcbmltcG9ydCB7IEMgYXMgQ3JlYXRlQnV0dG9uTGluayB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2Rpc3QvQ3JlYXRlQnV0dG9uTGluay01Y2VmZjdiNy5lc20uanMnO1xuaW1wb3J0IHsgQ2hldnJvbkRvd25JY29uIH0gZnJvbSAnQGtleXN0b25lLXVpL2ljb25zL2ljb25zL0NoZXZyb25Eb3duSWNvbic7XG5pbXBvcnQgeyBPcHRpb25zLCBPcHRpb25QcmltaXRpdmUsIENoZWNrTWFyayB9IGZyb20gJ0BrZXlzdG9uZS11aS9vcHRpb25zJztcbmltcG9ydCAnbmV4dC9oZWFkJztcbmltcG9ydCB7IENoZXZyb25MZWZ0SWNvbiB9IGZyb20gJ0BrZXlzdG9uZS11aS9pY29ucy9pY29ucy9DaGV2cm9uTGVmdEljb24nO1xuaW1wb3J0IHsgUGlsbCB9IGZyb20gJ0BrZXlzdG9uZS11aS9waWxsJztcbmltcG9ydCAnQGVtb3Rpb24vd2Vhay1tZW1vaXplJztcbmltcG9ydCAnZ3JhcGhxbCc7XG5pbXBvcnQgJ2Fwb2xsby11cGxvYWQtY2xpZW50JztcbmltcG9ydCAnQGVtb3Rpb24vaGFzaCc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uLy4uL2Rpc3QvYWRtaW4tbWV0YS1ncmFwaHFsLTM1MjRjMTM3LmVzbS5qcyc7XG5pbXBvcnQgJ0BrZXlzdG9uZS11aS9pY29ucyc7XG5pbXBvcnQgJ0BrZXlzdG9uZS11aS9ub3RpY2UnO1xuaW1wb3J0ICdpbnRlcnNlY3Rpb24tb2JzZXJ2ZXInO1xuXG5mdW5jdGlvbiB1c2VTZWxlY3RlZEZpZWxkcyhsaXN0LCBmaWVsZE1vZGVzQnlGaWVsZFBhdGgpIHtcbiAgY29uc3Qge1xuICAgIHF1ZXJ5XG4gIH0gPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3Qgc2VsZWN0ZWRGaWVsZHNGcm9tVXJsID0gdHlwZW9mIHF1ZXJ5LmZpZWxkcyA9PT0gJ3N0cmluZycgPyBxdWVyeS5maWVsZHMgOiAnJztcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkRmllbGRzQXJyYXkgPSBzZWxlY3RlZEZpZWxkc0Zyb21VcmwgPyBzZWxlY3RlZEZpZWxkc0Zyb21Vcmwuc3BsaXQoJywnKSA6IGxpc3QuaW5pdGlhbENvbHVtbnM7XG4gICAgY29uc3QgZmllbGRzID0gc2VsZWN0ZWRGaWVsZHNBcnJheS5maWx0ZXIoZmllbGQgPT4ge1xuICAgICAgcmV0dXJuIGZpZWxkTW9kZXNCeUZpZWxkUGF0aFtmaWVsZF0gPT09ICdyZWFkJztcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFNldChmaWVsZHMubGVuZ3RoID09PSAwID8gW2xpc3QubGFiZWxGaWVsZF0gOiBmaWVsZHMpO1xuICB9LCBbbGlzdCwgc2VsZWN0ZWRGaWVsZHNGcm9tVXJsLCBmaWVsZE1vZGVzQnlGaWVsZFBhdGhdKTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheUVxdWFsKGFyckEsIGFyckIpIHtcbiAgaWYgKGFyckEubGVuZ3RoICE9PSBhcnJCLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyckEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJyQVtpXSAhPT0gYXJyQltpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmNvbnN0IE9wdGlvbiA9IHByb3BzID0+IHtcbiAgcmV0dXJuIGpzeChPcHRpb25QcmltaXRpdmUsIHByb3BzLCBwcm9wcy5jaGlsZHJlbiwganN4KENoZWNrTWFyaywge1xuICAgIGlzRGlzYWJsZWQ6IHByb3BzLmlzRGlzYWJsZWQsXG4gICAgaXNGb2N1c2VkOiBwcm9wcy5pc0ZvY3VzZWQsXG4gICAgaXNTZWxlY3RlZDogcHJvcHMuaXNTZWxlY3RlZFxuICB9KSk7XG59O1xuXG4vLyBUT0RPOiByZXR1cm4gdHlwZSByZXF1aXJlZCBieSBwbnBtIDooXG5jb25zdCBmaWVsZFNlbGVjdGlvbk9wdGlvbnNDb21wb25lbnRzID0ge1xuICBPcHRpb25cbn07XG5mdW5jdGlvbiBGaWVsZFNlbGVjdGlvbih7XG4gIGxpc3QsXG4gIGZpZWxkTW9kZXNCeUZpZWxkUGF0aFxufSkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3Qgc2VsZWN0ZWRGaWVsZHMgPSB1c2VTZWxlY3RlZEZpZWxkcyhsaXN0LCBmaWVsZE1vZGVzQnlGaWVsZFBhdGgpO1xuICBjb25zdCBzZXROZXdTZWxlY3RlZEZpZWxkcyA9IHNlbGVjdGVkRmllbGRzID0+IHtcbiAgICBpZiAoaXNBcnJheUVxdWFsKHNlbGVjdGVkRmllbGRzLCBsaXN0LmluaXRpYWxDb2x1bW5zKSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmaWVsZHM6IF9pZ25vcmUsXG4gICAgICAgIC4uLm90aGVyUXVlcnlGaWVsZHNcbiAgICAgIH0gPSByb3V0ZXIucXVlcnk7XG4gICAgICByb3V0ZXIucHVzaCh7XG4gICAgICAgIHF1ZXJ5OiBvdGhlclF1ZXJ5RmllbGRzXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm91dGVyLnB1c2goe1xuICAgICAgICBxdWVyeToge1xuICAgICAgICAgIC4uLnJvdXRlci5xdWVyeSxcbiAgICAgICAgICBmaWVsZHM6IHNlbGVjdGVkRmllbGRzLmpvaW4oJywnKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGZpZWxkcyA9IFtdO1xuICBPYmplY3Qua2V5cyhmaWVsZE1vZGVzQnlGaWVsZFBhdGgpLmZvckVhY2goZmllbGRQYXRoID0+IHtcbiAgICBpZiAoZmllbGRNb2Rlc0J5RmllbGRQYXRoW2ZpZWxkUGF0aF0gPT09ICdyZWFkJykge1xuICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICB2YWx1ZTogZmllbGRQYXRoLFxuICAgICAgICBsYWJlbDogbGlzdC5maWVsZHNbZmllbGRQYXRoXS5sYWJlbCxcbiAgICAgICAgaXNEaXNhYmxlZDogc2VsZWN0ZWRGaWVsZHMuc2l6ZSA9PT0gMSAmJiBzZWxlY3RlZEZpZWxkcy5oYXMoZmllbGRQYXRoKVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGpzeChQb3BvdmVyLCB7XG4gICAgXCJhcmlhLWxhYmVsXCI6IGBDb2x1bW5zIG9wdGlvbnMsIGxpc3Qgb2YgY29sdW1uIG9wdGlvbnMgdG8gYXBwbHkgdG8gdGhlICR7bGlzdC5rZXl9IGxpc3RgLFxuICAgIHRyaWdnZXJSZW5kZXJlcjogKHtcbiAgICAgIHRyaWdnZXJQcm9wc1xuICAgIH0pID0+IHtcbiAgICAgIHJldHVybiBqc3goQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgICAgIHdlaWdodDogXCJsaW5rXCIsXG4gICAgICAgIGNzczoge1xuICAgICAgICAgIHBhZGRpbmc6IDRcbiAgICAgICAgfVxuICAgICAgfSwgdHJpZ2dlclByb3BzKSwganN4KFwic3BhblwiLCB7XG4gICAgICAgIGNzczoge1xuICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXG4gICAgICAgIH1cbiAgICAgIH0sIHNlbGVjdGVkRmllbGRzLnNpemUsIFwiIGNvbHVtblwiLCBzZWxlY3RlZEZpZWxkcy5zaXplID09PSAxID8gJycgOiAncycsICcgJywganN4KENoZXZyb25Eb3duSWNvbiwge1xuICAgICAgICBzaXplOiBcInNtYWxsaXNoXCJcbiAgICAgIH0pKSk7XG4gICAgfVxuICB9LCBqc3goXCJkaXZcIiwge1xuICAgIGNzczoge1xuICAgICAgd2lkdGg6IDMyMFxuICAgIH1cbiAgfSwganN4KEJveCwge1xuICAgIHBhZGRpbmc6IFwibWVkaXVtXCJcbiAgfSwganN4KE9wdGlvbnMsIHtcbiAgICBvbkNoYW5nZTogb3B0aW9ucyA9PiB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9ucykpIHJldHVybjtcbiAgICAgIHNldE5ld1NlbGVjdGVkRmllbGRzKG9wdGlvbnMubWFwKHggPT4geC52YWx1ZSkpO1xuICAgIH0sXG4gICAgaXNNdWx0aTogdHJ1ZSxcbiAgICB2YWx1ZTogZmllbGRzLmZpbHRlcihvcHRpb24gPT4gc2VsZWN0ZWRGaWVsZHMuaGFzKG9wdGlvbi52YWx1ZSkpLFxuICAgIG9wdGlvbnM6IGZpZWxkcyxcbiAgICBjb21wb25lbnRzOiBmaWVsZFNlbGVjdGlvbk9wdGlvbnNDb21wb25lbnRzXG4gIH0pKSkpO1xufVxuXG5jb25zdCBmaWVsZFNlbGVjdENvbXBvbmVudHMgPSB7XG4gIE9wdGlvbjogKHtcbiAgICBjaGlsZHJlbixcbiAgICAuLi5wcm9wc1xuICB9KSA9PiB7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IGljb25Db2xvciA9IHByb3BzLmlzRm9jdXNlZCA/IHRoZW1lLmNvbG9ycy5mb3JlZ3JvdW5kIDogdGhlbWUuY29sb3JzLmZvcmVncm91bmREaW07XG4gICAgcmV0dXJuIGpzeChPcHRpb25QcmltaXRpdmUsIHByb3BzLCBqc3goXCJzcGFuXCIsIG51bGwsIGNoaWxkcmVuKSwganN4KFwiZGl2XCIsIHtcbiAgICAgIGNzczoge1xuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBoZWlnaHQ6IDI0LFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgIHdpZHRoOiAyNFxuICAgICAgfVxuICAgIH0sIGpzeChDaGV2cm9uUmlnaHRJY29uLCB7XG4gICAgICBjc3M6IHtcbiAgICAgICAgY29sb3I6IGljb25Db2xvclxuICAgICAgfVxuICAgIH0pKSk7XG4gIH1cbn07XG5mdW5jdGlvbiBGaWx0ZXJBZGQoe1xuICBsaXN0S2V5LFxuICBmaWx0ZXJhYmxlRmllbGRzXG59KSB7XG4gIGNvbnN0IHtcbiAgICBpc09wZW4sXG4gICAgc2V0T3BlbixcbiAgICB0cmlnZ2VyLFxuICAgIGRpYWxvZyxcbiAgICBhcnJvd1xuICB9ID0gdXNlUG9wb3Zlcih7XG4gICAgcGxhY2VtZW50OiAnYm90dG9tJyxcbiAgICBtb2RpZmllcnM6IFt7XG4gICAgICBuYW1lOiAnb2Zmc2V0JyxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgb2Zmc2V0OiBbMCwgOF1cbiAgICAgIH1cbiAgICB9XVxuICB9KTtcbiAgcmV0dXJuIGpzeChGcmFnbWVudCwgbnVsbCwganN4KEJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgIHRvbmU6IFwiYWN0aXZlXCJcbiAgfSwgdHJpZ2dlci5wcm9wcywge1xuICAgIHJlZjogdHJpZ2dlci5yZWYsXG4gICAgb25DbGljazogKCkgPT4gc2V0T3BlbighaXNPcGVuKVxuICB9KSwganN4KEJveCwge1xuICAgIGFzOiBcInNwYW5cIixcbiAgICBtYXJnaW5SaWdodDogXCJ4c21hbGxcIlxuICB9LCBcIkZpbHRlciBMaXN0XCIpLCBqc3goQ2hldnJvbkRvd25JY29uLCB7XG4gICAgc2l6ZTogXCJzbWFsbFwiXG4gIH0pKSwganN4KFBvcG92ZXJEaWFsb2csIF9leHRlbmRzKHtcbiAgICBcImFyaWEtbGFiZWxcIjogYEZpbHRlcnMgb3B0aW9ucywgbGlzdCBvZiBmaWx0ZXJzIHRvIGFwcGx5IHRvIHRoZSAke2xpc3RLZXl9IGxpc3RgLFxuICAgIGFycm93OiBhcnJvdyxcbiAgICBpc1Zpc2libGU6IGlzT3BlblxuICB9LCBkaWFsb2cucHJvcHMsIHtcbiAgICByZWY6IGRpYWxvZy5yZWZcbiAgfSksIGlzT3BlbiAmJiBqc3goRmlsdGVyQWRkUG9wb3ZlckNvbnRlbnQsIHtcbiAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICBzZXRPcGVuKGZhbHNlKTtcbiAgICB9LFxuICAgIGxpc3RLZXk6IGxpc3RLZXksXG4gICAgZmlsdGVyYWJsZUZpZWxkczogZmlsdGVyYWJsZUZpZWxkc1xuICB9KSkpO1xufVxuZnVuY3Rpb24gRmlsdGVyQWRkUG9wb3ZlckNvbnRlbnQoe1xuICBvbkNsb3NlLFxuICBsaXN0S2V5LFxuICBmaWx0ZXJhYmxlRmllbGRzXG59KSB7XG4gIGNvbnN0IGxpc3QgPSB1c2VMaXN0KGxpc3RLZXkpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgZmllbGRzV2l0aEZpbHRlcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBmaWVsZHNXaXRoRmlsdGVycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGxpc3QuZmllbGRzKS5mb3JFYWNoKGZpZWxkUGF0aCA9PiB7XG4gICAgICBjb25zdCBmaWVsZCA9IGxpc3QuZmllbGRzW2ZpZWxkUGF0aF07XG4gICAgICBpZiAoZmlsdGVyYWJsZUZpZWxkcy5oYXMoZmllbGRQYXRoKSAmJiBmaWVsZC5jb250cm9sbGVyLmZpbHRlcikge1xuICAgICAgICBmaWVsZHNXaXRoRmlsdGVyc1tmaWVsZFBhdGhdID0gZmllbGQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZpZWxkc1dpdGhGaWx0ZXJzO1xuICB9LCBbbGlzdC5maWVsZHMsIGZpbHRlcmFibGVGaWVsZHNdKTtcbiAgY29uc3QgZmlsdGVyc0J5RmllbGRUaGVuVHlwZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGZpbHRlcnNCeUZpZWxkVGhlblR5cGUgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhmaWVsZHNXaXRoRmlsdGVycykuZm9yRWFjaChmaWVsZFBhdGggPT4ge1xuICAgICAgY29uc3QgZmllbGQgPSBmaWVsZHNXaXRoRmlsdGVyc1tmaWVsZFBhdGhdO1xuICAgICAgbGV0IGhhc1VudXNlZEZpbHRlcnMgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGZpbHRlcnMgPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGZpZWxkLmNvbnRyb2xsZXIuZmlsdGVyLnR5cGVzKS5mb3JFYWNoKGZpbHRlclR5cGUgPT4ge1xuICAgICAgICBpZiAocm91dGVyLnF1ZXJ5W2AhJHtmaWVsZFBhdGh9XyR7ZmlsdGVyVHlwZX1gXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaGFzVW51c2VkRmlsdGVycyA9IHRydWU7XG4gICAgICAgICAgZmlsdGVyc1tmaWx0ZXJUeXBlXSA9IGZpZWxkLmNvbnRyb2xsZXIuZmlsdGVyLnR5cGVzW2ZpbHRlclR5cGVdLmxhYmVsO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChoYXNVbnVzZWRGaWx0ZXJzKSB7XG4gICAgICAgIGZpbHRlcnNCeUZpZWxkVGhlblR5cGVbZmllbGRQYXRoXSA9IGZpbHRlcnM7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZpbHRlcnNCeUZpZWxkVGhlblR5cGU7XG4gIH0sIFtyb3V0ZXIucXVlcnksIGZpZWxkc1dpdGhGaWx0ZXJzXSk7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIGtpbmQ6ICdzZWxlY3RpbmctZmllbGQnXG4gIH0pO1xuICByZXR1cm4ganN4KFN0YWNrLCB7XG4gICAgcGFkZGluZzogXCJtZWRpdW1cIixcbiAgICBhczogXCJmb3JtXCIsXG4gICAgY3NzOiB7XG4gICAgICBtaW5XaWR0aDogMzIwXG4gICAgfSxcbiAgICBvblN1Ym1pdDogZXZlbnQgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChzdGF0ZS5raW5kID09PSAnZmlsdGVyLXZhbHVlJykge1xuICAgICAgICByb3V0ZXIucHVzaCh7XG4gICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgIC4uLnJvdXRlci5xdWVyeSxcbiAgICAgICAgICAgIFtgISR7c3RhdGUuZmllbGRQYXRofV8ke3N0YXRlLmZpbHRlclR5cGV9YF06IEpTT04uc3RyaW5naWZ5KHN0YXRlLmZpbHRlclZhbHVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdhcDogXCJzbWFsbFwiXG4gIH0sIGpzeChcImRpdlwiLCB7XG4gICAgY3NzOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH1cbiAgfSwgc3RhdGUua2luZCAhPT0gJ3NlbGVjdGluZy1maWVsZCcgJiYganN4KFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAga2luZDogJ3NlbGVjdGluZy1maWVsZCdcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY3NzOiB7XG4gICAgICBib3JkZXI6IDAsXG4gICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH1cbiAgfSwganN4KFZpc3VhbGx5SGlkZGVuLCBudWxsLCBcIkJhY2tcIiksIGpzeChDaGV2cm9uTGVmdEljb24sIHtcbiAgICBzaXplOiBcInNtYWxsaXNoXCJcbiAgfSkpLCBqc3goSGVhZGluZywge1xuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICB0eXBlOiBcImg1XCJcbiAgfSwgKCgpID0+IHtcbiAgICBzd2l0Y2ggKHN0YXRlLmtpbmQpIHtcbiAgICAgIGNhc2UgJ3NlbGVjdGluZy1maWVsZCc6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gJ0ZpbHRlcic7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2ZpbHRlci12YWx1ZSc6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gbGlzdC5maWVsZHNbc3RhdGUuZmllbGRQYXRoXS5sYWJlbDtcbiAgICAgICAgfVxuICAgIH1cbiAgfSkoKSkpLCBqc3goRGl2aWRlciwgbnVsbCksIHN0YXRlLmtpbmQgPT09ICdzZWxlY3RpbmctZmllbGQnICYmIGpzeChPcHRpb25zLCB7XG4gICAgY29tcG9uZW50czogZmllbGRTZWxlY3RDb21wb25lbnRzLFxuICAgIG9uQ2hhbmdlOiBuZXdWYWwgPT4ge1xuICAgICAgY29uc3QgZmllbGRQYXRoID0gbmV3VmFsLnZhbHVlO1xuICAgICAgY29uc3QgZmlsdGVyVHlwZSA9IE9iamVjdC5rZXlzKGZpbHRlcnNCeUZpZWxkVGhlblR5cGVbZmllbGRQYXRoXSlbMF07XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGtpbmQ6ICdmaWx0ZXItdmFsdWUnLFxuICAgICAgICBmaWVsZFBhdGgsXG4gICAgICAgIGZpbHRlclR5cGUsXG4gICAgICAgIGZpbHRlclZhbHVlOiBmaWVsZHNXaXRoRmlsdGVyc1tmaWVsZFBhdGhdLmNvbnRyb2xsZXIuZmlsdGVyLnR5cGVzW2ZpbHRlclR5cGVdLmluaXRpYWxWYWx1ZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvcHRpb25zOiBPYmplY3Qua2V5cyhmaWx0ZXJzQnlGaWVsZFRoZW5UeXBlKS5tYXAoZmllbGRQYXRoID0+ICh7XG4gICAgICBsYWJlbDogZmllbGRzV2l0aEZpbHRlcnNbZmllbGRQYXRoXS5sYWJlbCxcbiAgICAgIHZhbHVlOiBmaWVsZFBhdGhcbiAgICB9KSlcbiAgfSksIHN0YXRlLmtpbmQgPT09ICdmaWx0ZXItdmFsdWUnICYmIGpzeChTZWxlY3QsIHtcbiAgICB3aWR0aDogXCJmdWxsXCIsXG4gICAgdmFsdWU6IHtcbiAgICAgIHZhbHVlOiBzdGF0ZS5maWx0ZXJUeXBlLFxuICAgICAgbGFiZWw6IGZpbHRlcnNCeUZpZWxkVGhlblR5cGVbc3RhdGUuZmllbGRQYXRoXVtzdGF0ZS5maWx0ZXJUeXBlXVxuICAgIH0sXG4gICAgb25DaGFuZ2U6IG5ld1ZhbCA9PiB7XG4gICAgICBpZiAobmV3VmFsKSB7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICBraW5kOiAnZmlsdGVyLXZhbHVlJyxcbiAgICAgICAgICBmaWVsZFBhdGg6IHN0YXRlLmZpZWxkUGF0aCxcbiAgICAgICAgICBmaWx0ZXJWYWx1ZTogZmllbGRzV2l0aEZpbHRlcnNbc3RhdGUuZmllbGRQYXRoXS5jb250cm9sbGVyLmZpbHRlci50eXBlc1tuZXdWYWwudmFsdWVdLmluaXRpYWxWYWx1ZSxcbiAgICAgICAgICBmaWx0ZXJUeXBlOiBuZXdWYWwudmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvcHRpb25zOiBPYmplY3Qua2V5cyhmaWx0ZXJzQnlGaWVsZFRoZW5UeXBlW3N0YXRlLmZpZWxkUGF0aF0pLm1hcChmaWx0ZXJUeXBlID0+ICh7XG4gICAgICBsYWJlbDogZmlsdGVyc0J5RmllbGRUaGVuVHlwZVtzdGF0ZS5maWVsZFBhdGhdW2ZpbHRlclR5cGVdLFxuICAgICAgdmFsdWU6IGZpbHRlclR5cGVcbiAgICB9KSlcbiAgfSksIHN0YXRlLmtpbmQgPT0gJ2ZpbHRlci12YWx1ZScgJiYgKCgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBGaWx0ZXJcbiAgICB9ID0gZmllbGRzV2l0aEZpbHRlcnNbc3RhdGUuZmllbGRQYXRoXS5jb250cm9sbGVyLmZpbHRlcjtcbiAgICByZXR1cm4ganN4KEZpbHRlciwge1xuICAgICAgdHlwZTogc3RhdGUuZmlsdGVyVHlwZSxcbiAgICAgIHZhbHVlOiBzdGF0ZS5maWx0ZXJWYWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiB2YWx1ZSA9PiB7XG4gICAgICAgIHNldFN0YXRlKHN0YXRlID0+ICh7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgZmlsdGVyVmFsdWU6IHZhbHVlXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkoKSwgc3RhdGUua2luZCA9PSAnZmlsdGVyLXZhbHVlJyAmJiBqc3goXCJkaXZcIiwge1xuICAgIGNzczoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJ1xuICAgIH1cbiAgfSwganN4KEJ1dHRvbiwge1xuICAgIG9uQ2xpY2s6IG9uQ2xvc2VcbiAgfSwgXCJDYW5jZWxcIiksIGpzeChCdXR0b24sIHtcbiAgICB0eXBlOiBcInN1Ym1pdFwiXG4gIH0sIFwiQXBwbHlcIikpKTtcbn1cblxuZnVuY3Rpb24gRmlsdGVyTGlzdCh7XG4gIGZpbHRlcnMsXG4gIGxpc3Rcbn0pIHtcbiAgcmV0dXJuIGpzeChJbmxpbmUsIHtcbiAgICBnYXA6IFwic21hbGxcIlxuICB9LCBmaWx0ZXJzLm1hcChmaWx0ZXIgPT4ge1xuICAgIGNvbnN0IGZpZWxkID0gbGlzdC5maWVsZHNbZmlsdGVyLmZpZWxkXTtcbiAgICByZXR1cm4ganN4KEZpbHRlclBpbGwsIHtcbiAgICAgIGtleTogYCR7ZmlsdGVyLmZpZWxkfV8ke2ZpbHRlci50eXBlfWAsXG4gICAgICBmaWVsZDogZmllbGQsXG4gICAgICBmaWx0ZXI6IGZpbHRlclxuICAgIH0pO1xuICB9KSk7XG59XG5mdW5jdGlvbiBGaWx0ZXJQaWxsKHtcbiAgZmlsdGVyLFxuICBmaWVsZFxufSkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3Qge1xuICAgIGlzT3BlbixcbiAgICBzZXRPcGVuLFxuICAgIHRyaWdnZXIsXG4gICAgZGlhbG9nLFxuICAgIGFycm93XG4gIH0gPSB1c2VQb3BvdmVyKHtcbiAgICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuICAgIG1vZGlmaWVyczogW3tcbiAgICAgIG5hbWU6ICdvZmZzZXQnLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBvZmZzZXQ6IFswLCA4XVxuICAgICAgfVxuICAgIH1dXG4gIH0pO1xuICAvLyBkb2luZyB0aGlzIGJlY2F1c2UgcmV0dXJuaW5nIGEgc3RyaW5nIGZyb20gTGFiZWwgd2lsbCBiZSBWRVJZIGNvbW1vblxuICAvLyBidXQgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yMTY5OSBpc24ndCByZXNvbHZlZCB5ZXRcbiAgY29uc3QgTGFiZWwgPSBmaWVsZC5jb250cm9sbGVyLmZpbHRlci5MYWJlbDtcbiAgcmV0dXJuIGpzeChGcmFnbWVudCwgbnVsbCwganN4KFBpbGwsIF9leHRlbmRzKHtcbiAgICBjb250YWluZXJQcm9wczoge1xuICAgICAgJ2FyaWEtbGFiZWwnOiBgRmlsdGVyIGl0ZW0gJHtmaWx0ZXIuZmllbGR9LCBwcmVzcyB0byBlZGl0IGZpbHRlcmBcbiAgICB9XG4gIH0sIHRyaWdnZXIucHJvcHMsIHtcbiAgICByZWY6IHRyaWdnZXIucmVmLFxuICAgIG9uQ2xpY2s6ICgpID0+IHNldE9wZW4oIWlzT3BlbiksXG4gICAgd2VpZ2h0OiBcImxpZ2h0XCIsXG4gICAgdG9uZTogXCJwYXNzaXZlXCIsXG4gICAgb25SZW1vdmU6ICgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgW2AhJHtmaWx0ZXIuZmllbGR9XyR7ZmlsdGVyLnR5cGV9YF06IF9pZ25vcmUsXG4gICAgICAgIC4uLnF1ZXJ5VG9LZWVwXG4gICAgICB9ID0gcm91dGVyLnF1ZXJ5O1xuICAgICAgcm91dGVyLnB1c2goe1xuICAgICAgICBwYXRobmFtZTogcm91dGVyLnBhdGhuYW1lLFxuICAgICAgICBxdWVyeTogcXVlcnlUb0tlZXBcbiAgICAgIH0pO1xuICAgIH1cbiAgfSksIGZpZWxkLmxhYmVsLCAnICcsIGpzeChMYWJlbCwge1xuICAgIGxhYmVsOiBmaWVsZC5jb250cm9sbGVyLmZpbHRlci50eXBlc1tmaWx0ZXIudHlwZV0ubGFiZWwsXG4gICAgdHlwZTogZmlsdGVyLnR5cGUsXG4gICAgdmFsdWU6IGZpbHRlci52YWx1ZVxuICB9KSksIGpzeChQb3BvdmVyRGlhbG9nLCBfZXh0ZW5kcyh7XG4gICAgXCJhcmlhLWxhYmVsXCI6IGBmaWx0ZXIgaXRlbSBjb25maWcsIGRpYWxvZyBmb3IgY29uZmlndXJpbmcgJHtmaWx0ZXIuZmllbGR9IGZpbHRlcmAsXG4gICAgYXJyb3c6IGFycm93XG4gIH0sIGRpYWxvZy5wcm9wcywge1xuICAgIGlzVmlzaWJsZTogaXNPcGVuLFxuICAgIHJlZjogZGlhbG9nLnJlZlxuICB9KSwgaXNPcGVuICYmIGpzeChFZGl0RGlhbG9nLCB7XG4gICAgb25DbG9zZTogKCkgPT4ge1xuICAgICAgc2V0T3BlbihmYWxzZSk7XG4gICAgfSxcbiAgICBmaWVsZDogZmllbGQsXG4gICAgZmlsdGVyOiBmaWx0ZXJcbiAgfSkpKTtcbn1cbmZ1bmN0aW9uIEVkaXREaWFsb2coe1xuICBmaWx0ZXIsXG4gIGZpZWxkLFxuICBvbkNsb3NlXG59KSB7XG4gIGNvbnN0IEZpbHRlciA9IGZpZWxkLmNvbnRyb2xsZXIuZmlsdGVyLkZpbHRlcjtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoZmlsdGVyLnZhbHVlKTtcbiAgcmV0dXJuIGpzeChTdGFjaywge1xuICAgIGFzOiBcImZvcm1cIixcbiAgICBwYWRkaW5nOiBcInNtYWxsXCIsXG4gICAgZ2FwOiBcInNtYWxsXCIsXG4gICAgb25TdWJtaXQ6IGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByb3V0ZXIucHVzaCh7XG4gICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgLi4ucm91dGVyLnF1ZXJ5LFxuICAgICAgICAgIFtgISR7ZmlsdGVyLmZpZWxkfV8ke2ZpbHRlci50eXBlfWBdOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSlcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgfVxuICB9LCBqc3goRmlsdGVyLCB7XG4gICAgdHlwZTogZmlsdGVyLnR5cGUsXG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIG9uQ2hhbmdlOiBzZXRWYWx1ZVxuICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICBjc3M6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbidcbiAgICB9XG4gIH0sIGpzeChCdXR0b24sIHtcbiAgICBvbkNsaWNrOiBvbkNsb3NlXG4gIH0sIFwiQ2FuY2VsXCIpLCBqc3goQnV0dG9uLCB7XG4gICAgdHlwZTogXCJzdWJtaXRcIlxuICB9LCBcIlNhdmVcIikpKTtcbn1cblxuZnVuY3Rpb24gdXNlU29ydChsaXN0LCBvcmRlcmFibGVGaWVsZHMpIHtcbiAgY29uc3Qge1xuICAgIHF1ZXJ5XG4gIH0gPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3Qgc29ydEJ5RnJvbVVybCA9IHR5cGVvZiBxdWVyeS5zb3J0QnkgPT09ICdzdHJpbmcnID8gcXVlcnkuc29ydEJ5IDogbnVsbDtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChzb3J0QnlGcm9tVXJsID09PSAnJykgcmV0dXJuIG51bGw7XG4gICAgaWYgKHNvcnRCeUZyb21VcmwgPT09IG51bGwpIHJldHVybiBsaXN0LmluaXRpYWxTb3J0O1xuICAgIGlmIChzb3J0QnlGcm9tVXJsLnN0YXJ0c1dpdGgoJy0nKSkge1xuICAgICAgY29uc3QgZmllbGQgPSBzb3J0QnlGcm9tVXJsLnNsaWNlKDEpO1xuICAgICAgaWYgKCFvcmRlcmFibGVGaWVsZHMuaGFzKGZpZWxkKSkgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmaWVsZCxcbiAgICAgICAgZGlyZWN0aW9uOiAnREVTQydcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICghb3JkZXJhYmxlRmllbGRzLmhhcyhzb3J0QnlGcm9tVXJsKSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpZWxkOiBzb3J0QnlGcm9tVXJsLFxuICAgICAgZGlyZWN0aW9uOiAnQVNDJ1xuICAgIH07XG4gIH0sIFtzb3J0QnlGcm9tVXJsLCBsaXN0LCBvcmRlcmFibGVGaWVsZHNdKTtcbn1cblxuZnVuY3Rpb24gU29ydFNlbGVjdGlvbih7XG4gIGxpc3QsXG4gIG9yZGVyYWJsZUZpZWxkc1xufSkge1xuICBjb25zdCBzb3J0ID0gdXNlU29ydChsaXN0LCBvcmRlcmFibGVGaWVsZHMpO1xuICBjb25zdCB7XG4gICAgaXNPcGVuLFxuICAgIHNldE9wZW4sXG4gICAgdHJpZ2dlcixcbiAgICBkaWFsb2csXG4gICAgYXJyb3dcbiAgfSA9IHVzZVBvcG92ZXIoe1xuICAgIHBsYWNlbWVudDogJ2JvdHRvbScsXG4gICAgbW9kaWZpZXJzOiBbe1xuICAgICAgbmFtZTogJ29mZnNldCcsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIG9mZnNldDogWzAsIDhdXG4gICAgICB9XG4gICAgfV1cbiAgfSk7XG4gIHJldHVybiBqc3goRnJhZ21lbnQsIG51bGwsIGpzeChCdXR0b24sIF9leHRlbmRzKHt9LCB0cmlnZ2VyLnByb3BzLCB7XG4gICAgd2VpZ2h0OiBcImxpbmtcIixcbiAgICBjc3M6IHtcbiAgICAgIHBhZGRpbmc6IDRcbiAgICB9LFxuICAgIHJlZjogdHJpZ2dlci5yZWYsXG4gICAgb25DbGljazogKCkgPT4gc2V0T3BlbighaXNPcGVuKVxuICB9KSwganN4KFwic3BhblwiLCB7XG4gICAgY3NzOiB7XG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9XG4gIH0sIHNvcnQgPyBgJHtsaXN0LmZpZWxkc1tzb3J0LmZpZWxkXS5sYWJlbH0gJHt7XG4gICAgQVNDOiAnYXNjZW5kaW5nJyxcbiAgICBERVNDOiAnZGVzY2VuZGluZydcbiAgfVtzb3J0LmRpcmVjdGlvbl19YCA6ICdObyBmaWVsZCcsIGpzeChDaGV2cm9uRG93bkljb24sIHtcbiAgICBzaXplOiBcInNtYWxsaXNoXCJcbiAgfSkpKSwganN4KFBvcG92ZXJEaWFsb2csIF9leHRlbmRzKHtcbiAgICBcImFyaWEtbGFiZWxcIjogYFNvcnQgb3B0aW9ucywgbGlzdCBvZiBzb3J0aW5nIHBhcmFtZXRlcnMgdG8gYXBwbHkgdG8gdGhlICR7bGlzdC5rZXl9IGxpc3RgLFxuICAgIGFycm93OiBhcnJvdyxcbiAgICBpc1Zpc2libGU6IGlzT3BlblxuICB9LCBkaWFsb2cucHJvcHMsIHtcbiAgICByZWY6IGRpYWxvZy5yZWZcbiAgfSksIGlzT3BlbiAmJiBqc3goU29ydFNlbGVjdGlvblBvcG92ZXJDb250ZW50LCB7XG4gICAgb25DbG9zZTogKCkgPT4ge1xuICAgICAgc2V0T3BlbihmYWxzZSk7XG4gICAgfSxcbiAgICBsaXN0OiBsaXN0LFxuICAgIG9yZGVyYWJsZUZpZWxkczogb3JkZXJhYmxlRmllbGRzXG4gIH0pKSk7XG59XG5jb25zdCBub0ZpZWxkT3B0aW9uID0ge1xuICBsYWJlbDogJ05vIGZpZWxkJyxcbiAgdmFsdWU6ICdfX19fX19fX19fX05PX0ZJRUxEX19fX19fX19fX18nXG59O1xuZnVuY3Rpb24gU29ydFNlbGVjdGlvblBvcG92ZXJDb250ZW50KHtcbiAgb25DbG9zZSxcbiAgbGlzdCxcbiAgb3JkZXJhYmxlRmllbGRzXG59KSB7XG4gIGNvbnN0IHNvcnQgPSB1c2VTb3J0KGxpc3QsIG9yZGVyYWJsZUZpZWxkcyk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICByZXR1cm4ganN4KFN0YWNrLCB7XG4gICAgcGFkZGluZzogXCJtZWRpdW1cIixcbiAgICBjc3M6IHtcbiAgICAgIG1pbldpZHRoOiAzMjBcbiAgICB9LFxuICAgIGdhcDogXCJzbWFsbFwiXG4gIH0sIGpzeChcImRpdlwiLCB7XG4gICAgY3NzOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH1cbiAgfSwganN4KEhlYWRpbmcsIHtcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgdHlwZTogXCJoNVwiXG4gIH0sIFwiU29ydFwiKSksIGpzeChEaXZpZGVyLCBudWxsKSwganN4KE9wdGlvbnMsIHtcbiAgICB2YWx1ZTogc29ydCA/IHtcbiAgICAgIGxhYmVsOiBsaXN0LmZpZWxkc1tzb3J0LmZpZWxkXS5sYWJlbCxcbiAgICAgIHZhbHVlOiBzb3J0LmZpZWxkXG4gICAgfSA6IG5vRmllbGRPcHRpb24sXG4gICAgY29tcG9uZW50czogZmllbGRTZWxlY3Rpb25PcHRpb25zQ29tcG9uZW50cyxcbiAgICBvbkNoYW5nZTogbmV3VmFsID0+IHtcbiAgICAgIGNvbnN0IGZpZWxkUGF0aCA9IG5ld1ZhbC52YWx1ZTtcbiAgICAgIGlmIChmaWVsZFBhdGggPT09IG5vRmllbGRPcHRpb24udmFsdWUpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHNvcnRCeSxcbiAgICAgICAgICAuLi5yZXN0T2ZRdWVyeVxuICAgICAgICB9ID0gcm91dGVyLnF1ZXJ5O1xuICAgICAgICBpZiAobGlzdC5pbml0aWFsU29ydCkge1xuICAgICAgICAgIHJvdXRlci5wdXNoKHtcbiAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgIC4uLnJvdXRlci5xdWVyeSxcbiAgICAgICAgICAgICAgc29ydEJ5OiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdXRlci5wdXNoKHtcbiAgICAgICAgICAgIHF1ZXJ5OiByZXN0T2ZRdWVyeVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3V0ZXIucHVzaCh7XG4gICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgIC4uLnJvdXRlci5xdWVyeSxcbiAgICAgICAgICAgIHNvcnRCeTogKHNvcnQgPT09IG51bGwgfHwgc29ydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ydC5maWVsZCkgPT09IGZpZWxkUGF0aCAmJiBzb3J0LmRpcmVjdGlvbiA9PT0gJ0FTQycgPyBgLSR7c29ydC5maWVsZH1gIDogZmllbGRQYXRoXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG9uQ2xvc2UoKTtcbiAgICB9LFxuICAgIG9wdGlvbnM6IFsuLi5vcmRlcmFibGVGaWVsZHNdLm1hcChmaWVsZFBhdGggPT4gKHtcbiAgICAgIGxhYmVsOiBsaXN0LmZpZWxkc1tmaWVsZFBhdGhdLmxhYmVsLFxuICAgICAgdmFsdWU6IGZpZWxkUGF0aFxuICAgIH0pKS5jb25jYXQobm9GaWVsZE9wdGlvbilcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiB1c2VGaWx0ZXJzKGxpc3QsIGZpbHRlcmFibGVGaWVsZHMpIHtcbiAgY29uc3Qge1xuICAgIHF1ZXJ5XG4gIH0gPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgcG9zc2libGVGaWx0ZXJzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcG9zc2libGVGaWx0ZXJzID0ge307XG4gICAgT2JqZWN0LmVudHJpZXMobGlzdC5maWVsZHMpLmZvckVhY2goKFtmaWVsZFBhdGgsIGZpZWxkXSkgPT4ge1xuICAgICAgaWYgKGZpZWxkLmNvbnRyb2xsZXIuZmlsdGVyICYmIGZpbHRlcmFibGVGaWVsZHMuaGFzKGZpZWxkUGF0aCkpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZmllbGQuY29udHJvbGxlci5maWx0ZXIudHlwZXMpLmZvckVhY2godHlwZSA9PiB7XG4gICAgICAgICAgcG9zc2libGVGaWx0ZXJzW2AhJHtmaWVsZFBhdGh9XyR7dHlwZX1gXSA9IHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBmaWVsZDogZmllbGRQYXRoXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHBvc3NpYmxlRmlsdGVycztcbiAgfSwgW2xpc3QsIGZpbHRlcmFibGVGaWVsZHNdKTtcbiAgY29uc3QgZmlsdGVycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGZpbHRlcnMgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhxdWVyeSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgZmlsdGVyID0gcG9zc2libGVGaWx0ZXJzW2tleV07XG4gICAgICBjb25zdCB2YWwgPSBxdWVyeVtrZXldO1xuICAgICAgaWYgKGZpbHRlciAmJiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFsdWUgPSBKU09OLnBhcnNlKHZhbCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge31cbiAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZmlsdGVycy5wdXNoKHtcbiAgICAgICAgICAgIC4uLmZpbHRlcixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCB3aGVyZSA9IGZpbHRlcnMucmVkdWNlKChfd2hlcmUsIGZpbHRlcikgPT4ge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oX3doZXJlLCBsaXN0LmZpZWxkc1tmaWx0ZXIuZmllbGRdLmNvbnRyb2xsZXIuZmlsdGVyLmdyYXBocWwoe1xuICAgICAgICB0eXBlOiBmaWx0ZXIudHlwZSxcbiAgICAgICAgdmFsdWU6IGZpbHRlci52YWx1ZVxuICAgICAgfSkpO1xuICAgIH0sIHt9KTtcbiAgICBpZiAobGlzdC5pc1NpbmdsZXRvbikgcmV0dXJuIHtcbiAgICAgIGZpbHRlcnMsXG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDoge1xuICAgICAgICAgIGVxdWFsczogMVxuICAgICAgICB9LFxuICAgICAgICBBTkQ6IFt3aGVyZV1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBmaWx0ZXJzLFxuICAgICAgd2hlcmVcbiAgICB9O1xuICB9LCBbcXVlcnksIHBvc3NpYmxlRmlsdGVycywgbGlzdF0pO1xuICByZXR1cm4gZmlsdGVycztcbn1cblxuY29uc3QgbGlzdE1ldGFHcmFwaHFsUXVlcnkgPSBncWxgXG4gIHF1ZXJ5ICgkbGlzdEtleTogU3RyaW5nISkge1xuICAgIGtleXN0b25lIHtcbiAgICAgIGFkbWluTWV0YSB7XG4gICAgICAgIGxpc3Qoa2V5OiAkbGlzdEtleSkge1xuICAgICAgICAgIGhpZGVEZWxldGVcbiAgICAgICAgICBoaWRlQ3JlYXRlXG4gICAgICAgICAgZmllbGRzIHtcbiAgICAgICAgICAgIHBhdGhcbiAgICAgICAgICAgIGlzT3JkZXJhYmxlXG4gICAgICAgICAgICBpc0ZpbHRlcmFibGVcbiAgICAgICAgICAgIGxpc3RWaWV3IHtcbiAgICAgICAgICAgICAgZmllbGRNb2RlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5gO1xuY29uc3Qgc3RvcmVhYmxlUXVlcmllcyA9IFsnc29ydEJ5JywgJ2ZpZWxkcyddO1xuZnVuY3Rpb24gdXNlUXVlcnlQYXJhbXNGcm9tTG9jYWxTdG9yYWdlKGxpc3RLZXkpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IGxvY2FsU3RvcmFnZUtleSA9IGBrZXlzdG9uZS5saXN0LiR7bGlzdEtleX0ubGlzdC5wYWdlLmluZm9gO1xuICBjb25zdCByZXNldFRvRGVmYXVsdHMgPSAoKSA9PiB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obG9jYWxTdG9yYWdlS2V5KTtcbiAgICByb3V0ZXIucmVwbGFjZSh7XG4gICAgICBwYXRobmFtZTogcm91dGVyLnBhdGhuYW1lXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gR0VUIFFVRVJZIEZST00gQ0FDSEUgSUYgQ09ORElUSU9OUyBBUkUgUklHSFRcbiAgLy8gTUVSR0UgUVVFUlkgUEFSQU1TIEZST00gQ0FDSEUgV0lUSCBRVUVSWSBQQVJBTVMgRlJPTSBST1VURVJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYXNTb21lUXVlcnlQYXJhbXNXaGljaEFyZUFib3V0TGlzdFBhZ2UgPSBPYmplY3Qua2V5cyhyb3V0ZXIucXVlcnkpLnNvbWUoeCA9PiB7XG4gICAgICByZXR1cm4geC5zdGFydHNXaXRoKCchJykgfHwgc3RvcmVhYmxlUXVlcmllcy5pbmNsdWRlcyh4KTtcbiAgICB9KTtcbiAgICBpZiAoIWhhc1NvbWVRdWVyeVBhcmFtc1doaWNoQXJlQWJvdXRMaXN0UGFnZSAmJiByb3V0ZXIuaXNSZWFkeSkge1xuICAgICAgY29uc3QgcXVlcnlQYXJhbXNGcm9tTG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obG9jYWxTdG9yYWdlS2V5KTtcbiAgICAgIGxldCBwYXJzZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBwYXJzZWQgPSBKU09OLnBhcnNlKHF1ZXJ5UGFyYW1zRnJvbUxvY2FsU3RvcmFnZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgIHJvdXRlci5yZXBsYWNlKHtcbiAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgLi4ucm91dGVyLnF1ZXJ5LFxuICAgICAgICAgICAgLi4ucGFyc2VkXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtsb2NhbFN0b3JhZ2VLZXksIHJvdXRlci5pc1JlYWR5XSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcXVlcnlQYXJhbXNUb1NlcmlhbGl6ZSA9IHt9O1xuICAgIE9iamVjdC5rZXlzKHJvdXRlci5xdWVyeSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCchJykgfHwgc3RvcmVhYmxlUXVlcmllcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zVG9TZXJpYWxpemVba2V5XSA9IHJvdXRlci5xdWVyeVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChPYmplY3Qua2V5cyhxdWVyeVBhcmFtc1RvU2VyaWFsaXplKS5sZW5ndGgpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkocXVlcnlQYXJhbXNUb1NlcmlhbGl6ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShsb2NhbFN0b3JhZ2VLZXkpO1xuICAgIH1cbiAgfSwgW2xvY2FsU3RvcmFnZUtleSwgcm91dGVyXSk7XG4gIHJldHVybiB7XG4gICAgcmVzZXRUb0RlZmF1bHRzXG4gIH07XG59XG5jb25zdCBnZXRMaXN0UGFnZSA9IHByb3BzID0+ICgpID0+IGpzeChMaXN0UGFnZSwgcHJvcHMpO1xuZnVuY3Rpb24gTGlzdFBhZ2Uoe1xuICBsaXN0S2V5XG59KSB7XG4gIHZhciBfbWV0YVF1ZXJ5JGRhdGEyLCBfbWV0YVF1ZXJ5JGRhdGEka2V5c3QsIF9tZXRhUXVlcnkkZGF0YTM7XG4gIGNvbnN0IGtleXN0b25lID0gdXNlS2V5c3RvbmUoKTtcbiAgY29uc3QgbGlzdCA9IHVzZUxpc3QobGlzdEtleSk7XG4gIGNvbnN0IHtcbiAgICBxdWVyeSxcbiAgICBwdXNoXG4gIH0gPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3Qge1xuICAgIHJlc2V0VG9EZWZhdWx0c1xuICB9ID0gdXNlUXVlcnlQYXJhbXNGcm9tTG9jYWxTdG9yYWdlKGxpc3RLZXkpO1xuICBjb25zdCB7XG4gICAgY3VycmVudFBhZ2UsXG4gICAgcGFnZVNpemVcbiAgfSA9IHVzZVBhZ2luYXRpb25QYXJhbXMoe1xuICAgIGRlZmF1bHRQYWdlU2l6ZTogbGlzdC5wYWdlU2l6ZVxuICB9KTtcbiAgY29uc3QgbWV0YVF1ZXJ5ID0gdXNlUXVlcnkobGlzdE1ldGFHcmFwaHFsUXVlcnksIHtcbiAgICB2YXJpYWJsZXM6IHtcbiAgICAgIGxpc3RLZXlcbiAgICB9XG4gIH0pO1xuICBjb25zdCB7XG4gICAgbGlzdFZpZXdGaWVsZE1vZGVzQnlGaWVsZCxcbiAgICBmaWx0ZXJhYmxlRmllbGRzLFxuICAgIG9yZGVyYWJsZUZpZWxkc1xuICB9ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgbGlzdFZpZXdGaWVsZE1vZGVzQnlGaWVsZCA9IHt9O1xuICAgIGNvbnN0IG9yZGVyYWJsZUZpZWxkcyA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBmaWx0ZXJhYmxlRmllbGRzID0gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3QgZmllbGQgb2YgKChfbWV0YVF1ZXJ5JGRhdGEgPSBtZXRhUXVlcnkuZGF0YSkgPT09IG51bGwgfHwgX21ldGFRdWVyeSRkYXRhID09PSB2b2lkIDAgfHwgKF9tZXRhUXVlcnkkZGF0YSA9IF9tZXRhUXVlcnkkZGF0YS5rZXlzdG9uZS5hZG1pbk1ldGEubGlzdCkgPT09IG51bGwgfHwgX21ldGFRdWVyeSRkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWV0YVF1ZXJ5JGRhdGEuZmllbGRzKSB8fCBbXSkge1xuICAgICAgdmFyIF9tZXRhUXVlcnkkZGF0YTtcbiAgICAgIGxpc3RWaWV3RmllbGRNb2Rlc0J5RmllbGRbZmllbGQucGF0aF0gPSBmaWVsZC5saXN0Vmlldy5maWVsZE1vZGU7XG4gICAgICBpZiAoZmllbGQuaXNPcmRlcmFibGUpIHtcbiAgICAgICAgb3JkZXJhYmxlRmllbGRzLmFkZChmaWVsZC5wYXRoKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWVsZC5pc0ZpbHRlcmFibGUpIHtcbiAgICAgICAgZmlsdGVyYWJsZUZpZWxkcy5hZGQoZmllbGQucGF0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBsaXN0Vmlld0ZpZWxkTW9kZXNCeUZpZWxkLFxuICAgICAgb3JkZXJhYmxlRmllbGRzLFxuICAgICAgZmlsdGVyYWJsZUZpZWxkc1xuICAgIH07XG4gIH0sIFsoX21ldGFRdWVyeSRkYXRhMiA9IG1ldGFRdWVyeS5kYXRhKSA9PT0gbnVsbCB8fCBfbWV0YVF1ZXJ5JGRhdGEyID09PSB2b2lkIDAgfHwgKF9tZXRhUXVlcnkkZGF0YTIgPSBfbWV0YVF1ZXJ5JGRhdGEyLmtleXN0b25lLmFkbWluTWV0YS5saXN0KSA9PT0gbnVsbCB8fCBfbWV0YVF1ZXJ5JGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWV0YVF1ZXJ5JGRhdGEyLmZpZWxkc10pO1xuICBjb25zdCBzb3J0ID0gdXNlU29ydChsaXN0LCBvcmRlcmFibGVGaWVsZHMpO1xuICBjb25zdCBmaWx0ZXJzID0gdXNlRmlsdGVycyhsaXN0LCBmaWx0ZXJhYmxlRmllbGRzKTtcbiAgY29uc3Qgc2VhcmNoTGFiZWxzID0gbGlzdC5pbml0aWFsU2VhcmNoRmllbGRzLm1hcChrZXkgPT4gbGlzdC5maWVsZHNba2V5XS5sYWJlbCk7XG4gIGNvbnN0IHNlYXJjaFBhcmFtID0gdHlwZW9mIHF1ZXJ5LnNlYXJjaCA9PT0gJ3N0cmluZycgPyBxdWVyeS5zZWFyY2ggOiAnJztcbiAgY29uc3QgW3NlYXJjaFN0cmluZywgdXBkYXRlU2VhcmNoU3RyaW5nXSA9IHVzZVN0YXRlKHNlYXJjaFBhcmFtKTtcbiAgY29uc3Qgc2VhcmNoID0gdXNlU2VhcmNoRmlsdGVyKHNlYXJjaFBhcmFtLCBsaXN0LCBsaXN0LmluaXRpYWxTZWFyY2hGaWVsZHMsIGtleXN0b25lLmFkbWluTWV0YS5saXN0cyk7XG4gIGNvbnN0IHVwZGF0ZVNlYXJjaCA9IHZhbHVlID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzZWFyY2gsXG4gICAgICAuLi5xdWVyaWVzXG4gICAgfSA9IHF1ZXJ5O1xuICAgIGlmICh2YWx1ZS50cmltKCkpIHtcbiAgICAgIHB1c2goe1xuICAgICAgICBxdWVyeToge1xuICAgICAgICAgIC4uLnF1ZXJpZXMsXG4gICAgICAgICAgc2VhcmNoOiB2YWx1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHVzaCh7XG4gICAgICAgIHF1ZXJ5OiBxdWVyaWVzXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNlbGVjdGVkRmllbGRzID0gdXNlU2VsZWN0ZWRGaWVsZHMobGlzdCwgbGlzdFZpZXdGaWVsZE1vZGVzQnlGaWVsZCk7XG4gIGNvbnN0IHtcbiAgICBkYXRhOiBuZXdEYXRhLFxuICAgIGVycm9yOiBuZXdFcnJvcixcbiAgICByZWZldGNoXG4gIH0gPSB1c2VRdWVyeSh1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZEdxbEZpZWxkcyA9IFsuLi5zZWxlY3RlZEZpZWxkc10ubWFwKGZpZWxkUGF0aCA9PiBsaXN0LmZpZWxkc1tmaWVsZFBhdGhdLmNvbnRyb2xsZXIuZ3JhcGhxbFNlbGVjdGlvbikuam9pbignXFxuJyk7XG5cbiAgICAvLyBUT0RPOiBGSVhNRTogdGhpcyBpcyBiYWRcbiAgICByZXR1cm4gZ3FsYFxuICAgICAgICBxdWVyeSAoXG4gICAgICAgICAgJHdoZXJlOiAke2xpc3QuZ3FsTmFtZXMud2hlcmVJbnB1dE5hbWV9LFxuICAgICAgICAgICR0YWtlOiBJbnQhLFxuICAgICAgICAgICRza2lwOiBJbnQhLFxuICAgICAgICAgICRvcmRlckJ5OiBbJHtsaXN0LmdxbE5hbWVzLmxpc3RPcmRlck5hbWV9IV1cbiAgICAgICAgKSB7XG4gICAgICAgICAgaXRlbXM6ICR7bGlzdC5ncWxOYW1lcy5saXN0UXVlcnlOYW1lfShcbiAgICAgICAgICAgIHdoZXJlOiAkd2hlcmUsXG4gICAgICAgICAgICB0YWtlOiAkdGFrZSxcbiAgICAgICAgICAgIHNraXA6ICRza2lwLFxuICAgICAgICAgICAgb3JkZXJCeTogJG9yZGVyQnlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgICR7XG4gICAgLy8gVE9ETzogbWF5YmUgbmFtZXNwYWNlIGFsbCB0aGUgZmllbGRzIGluc3RlYWQgb2YgZG9pbmcgdGhpc1xuICAgIHNlbGVjdGVkRmllbGRzLmhhcygnaWQnKSA/ICcnIDogJ2lkJ31cbiAgICAgICAgICAgICR7c2VsZWN0ZWRHcWxGaWVsZHN9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdW50OiAke2xpc3QuZ3FsTmFtZXMubGlzdFF1ZXJ5Q291bnROYW1lfSh3aGVyZTogJHdoZXJlKVxuICAgICAgICB9XG4gICAgICBgO1xuICB9LCBbbGlzdCwgc2VsZWN0ZWRGaWVsZHNdKSwge1xuICAgIGZldGNoUG9saWN5OiAnY2FjaGUtYW5kLW5ldHdvcmsnLFxuICAgIGVycm9yUG9saWN5OiAnYWxsJyxcbiAgICBza2lwOiAhbWV0YVF1ZXJ5LmRhdGEsXG4gICAgdmFyaWFibGVzOiB7XG4gICAgICB3aGVyZToge1xuICAgICAgICAuLi5maWx0ZXJzLndoZXJlLFxuICAgICAgICAuLi5zZWFyY2hcbiAgICAgIH0sXG4gICAgICB0YWtlOiBwYWdlU2l6ZSxcbiAgICAgIHNraXA6IChjdXJyZW50UGFnZSAtIDEpICogcGFnZVNpemUsXG4gICAgICBvcmRlckJ5OiBzb3J0ID8gW3tcbiAgICAgICAgW3NvcnQuZmllbGRdOiBzb3J0LmRpcmVjdGlvbi50b0xvd2VyQ2FzZSgpXG4gICAgICB9XSA6IHVuZGVmaW5lZFxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IFtkYXRhU3RhdGUsIHNldERhdGFTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgZGF0YTogbmV3RGF0YSxcbiAgICBlcnJvcjogbmV3RXJyb3JcbiAgfSk7XG4gIGlmIChuZXdEYXRhICYmIGRhdGFTdGF0ZS5kYXRhICE9PSBuZXdEYXRhKSB7XG4gICAgc2V0RGF0YVN0YXRlKHtcbiAgICAgIGRhdGE6IG5ld0RhdGEsXG4gICAgICBlcnJvcjogbmV3RXJyb3JcbiAgICB9KTtcbiAgfVxuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBlcnJvclxuICB9ID0gZGF0YVN0YXRlO1xuICBjb25zdCBkYXRhR2V0dGVyID0gbWFrZURhdGFHZXR0ZXIoZGF0YSwgZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLmdyYXBoUUxFcnJvcnMpO1xuICBjb25zdCBbc2VsZWN0ZWRJdGVtc1N0YXRlLCBzZXRTZWxlY3RlZEl0ZW1zXSA9IHVzZVN0YXRlKCgpID0+ICh7XG4gICAgaXRlbXNGcm9tU2VydmVyOiB1bmRlZmluZWQsXG4gICAgc2VsZWN0ZWRJdGVtczogbmV3IFNldCgpXG4gIH0pKTtcblxuICAvLyB0aGlzIHJlbW92ZXMgdGhlIHNlbGVjdGVkIGl0ZW1zIHdoaWNoIG5vIGxvbmdlciBleGlzdCB3aGVuIHRoZSBkYXRhIGNoYW5nZXNcbiAgLy8gYmVjYXVzZSBzb21lb25lIGdvZXMgdG8gYW5vdGhlciBwYWdlLCBjaGFuZ2VzIGZpbHRlcnMgb3IgZXRjLlxuICBpZiAoZGF0YSAmJiBkYXRhLml0ZW1zICYmIHNlbGVjdGVkSXRlbXNTdGF0ZS5pdGVtc0Zyb21TZXJ2ZXIgIT09IGRhdGEuaXRlbXMpIHtcbiAgICBjb25zdCBuZXdTZWxlY3RlZEl0ZW1zID0gbmV3IFNldCgpO1xuICAgIGRhdGEuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGlmIChzZWxlY3RlZEl0ZW1zU3RhdGUuc2VsZWN0ZWRJdGVtcy5oYXMoaXRlbS5pZCkpIHtcbiAgICAgICAgbmV3U2VsZWN0ZWRJdGVtcy5hZGQoaXRlbS5pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2V0U2VsZWN0ZWRJdGVtcyh7XG4gICAgICBpdGVtc0Zyb21TZXJ2ZXI6IGRhdGEuaXRlbXMsXG4gICAgICBzZWxlY3RlZEl0ZW1zOiBuZXdTZWxlY3RlZEl0ZW1zXG4gICAgfSk7XG4gIH1cbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICBjb25zdCBzaG93Q3JlYXRlID0gISgoX21ldGFRdWVyeSRkYXRhJGtleXN0ID0gKF9tZXRhUXVlcnkkZGF0YTMgPSBtZXRhUXVlcnkuZGF0YSkgPT09IG51bGwgfHwgX21ldGFRdWVyeSRkYXRhMyA9PT0gdm9pZCAwIHx8IChfbWV0YVF1ZXJ5JGRhdGEzID0gX21ldGFRdWVyeSRkYXRhMy5rZXlzdG9uZS5hZG1pbk1ldGEubGlzdCkgPT09IG51bGwgfHwgX21ldGFRdWVyeSRkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21ldGFRdWVyeSRkYXRhMy5oaWRlQ3JlYXRlKSAhPT0gbnVsbCAmJiBfbWV0YVF1ZXJ5JGRhdGEka2V5c3QgIT09IHZvaWQgMCA/IF9tZXRhUXVlcnkkZGF0YSRrZXlzdCA6IHRydWUpIHx8IG51bGw7XG4gIHJldHVybiBqc3goUGFnZUNvbnRhaW5lciwge1xuICAgIGhlYWRlcjoganN4KExpc3RQYWdlSGVhZGVyLCB7XG4gICAgICBsaXN0S2V5OiBsaXN0S2V5XG4gICAgfSksXG4gICAgdGl0bGU6IGxpc3QubGFiZWxcbiAgfSwgZXJyb3IgIT09IG51bGwgJiYgZXJyb3IgIT09IHZvaWQgMCAmJiBlcnJvci5ncmFwaFFMRXJyb3JzLmxlbmd0aCB8fCBlcnJvciAhPT0gbnVsbCAmJiBlcnJvciAhPT0gdm9pZCAwICYmIGVycm9yLm5ldHdvcmtFcnJvciA/IGpzeChHcmFwaFFMRXJyb3JOb3RpY2UsIHtcbiAgICBlcnJvcnM6IGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5ncmFwaFFMRXJyb3JzLFxuICAgIG5ldHdvcmtFcnJvcjogZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLm5ldHdvcmtFcnJvclxuICB9KSA6IG51bGwsIG1ldGFRdWVyeS5lcnJvciA/ICdFcnJvci4uLicgOiBudWxsLCBkYXRhICYmIG1ldGFRdWVyeS5kYXRhID8ganN4KEZyYWdtZW50LCBudWxsLCBsaXN0LmRlc2NyaXB0aW9uICE9PSBudWxsICYmIGpzeChcInBcIiwge1xuICAgIGNzczoge1xuICAgICAgbWFyZ2luVG9wOiAnMjRweCcsXG4gICAgICBtYXhXaWR0aDogJzcwNHB4J1xuICAgIH1cbiAgfSwgbGlzdC5kZXNjcmlwdGlvbiksIGpzeChTdGFjaywge1xuICAgIGFjcm9zczogdHJ1ZSxcbiAgICBnYXA6IFwibWVkaXVtXCIsXG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgbWFyZ2luVG9wOiBcInhsYXJnZVwiXG4gIH0sIGpzeChcImZvcm1cIiwge1xuICAgIG9uU3VibWl0OiBlID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHVwZGF0ZVNlYXJjaChzZWFyY2hTdHJpbmcpO1xuICAgIH1cbiAgfSwganN4KFN0YWNrLCB7XG4gICAgYWNyb3NzOiB0cnVlXG4gIH0sIGpzeChUZXh0SW5wdXQsIHtcbiAgICBjc3M6IHtcbiAgICAgIGJvcmRlclJhZGl1czogJzRweCAwcHggMHB4IDRweCdcbiAgICB9LFxuICAgIGF1dG9Gb2N1czogdHJ1ZSxcbiAgICB2YWx1ZTogc2VhcmNoU3RyaW5nLFxuICAgIG9uQ2hhbmdlOiBlID0+IHVwZGF0ZVNlYXJjaFN0cmluZyhlLnRhcmdldC52YWx1ZSksXG4gICAgcGxhY2Vob2xkZXI6IGBTZWFyY2ggYnkgJHtzZWFyY2hMYWJlbHMubGVuZ3RoID8gc2VhcmNoTGFiZWxzLmpvaW4oJywgJykgOiAnSUQnfWBcbiAgfSksIGpzeChCdXR0b24sIHtcbiAgICBjc3M6IHtcbiAgICAgIGJvcmRlclJhZGl1czogJzBweCA0cHggNHB4IDBweCdcbiAgICB9LFxuICAgIHR5cGU6IFwic3VibWl0XCJcbiAgfSwganN4KFNlYXJjaEljb24sIG51bGwpKSkpLCBzaG93Q3JlYXRlICYmIGpzeChDcmVhdGVCdXR0b25MaW5rLCB7XG4gICAgbGlzdDogbGlzdFxuICB9KSwgZGF0YS5jb3VudCB8fCBmaWx0ZXJzLmZpbHRlcnMubGVuZ3RoID8ganN4KEZpbHRlckFkZCwge1xuICAgIGxpc3RLZXk6IGxpc3RLZXksXG4gICAgZmlsdGVyYWJsZUZpZWxkczogZmlsdGVyYWJsZUZpZWxkc1xuICB9KSA6IG51bGwsIGZpbHRlcnMuZmlsdGVycy5sZW5ndGggPyBqc3goRmlsdGVyTGlzdCwge1xuICAgIGZpbHRlcnM6IGZpbHRlcnMuZmlsdGVycyxcbiAgICBsaXN0OiBsaXN0XG4gIH0pIDogbnVsbCwgQm9vbGVhbihmaWx0ZXJzLmZpbHRlcnMubGVuZ3RoIHx8IHF1ZXJ5LnNvcnRCeSAhPT0gdW5kZWZpbmVkIHx8IHF1ZXJ5LmZpZWxkcyB8fCBxdWVyeS5zZWFyY2gpICYmIGpzeChCdXR0b24sIHtcbiAgICBzaXplOiBcInNtYWxsXCIsXG4gICAgb25DbGljazogcmVzZXRUb0RlZmF1bHRzXG4gIH0sIFwiUmVzZXQgdG8gZGVmYXVsdHNcIikpLCBkYXRhLmNvdW50ID8ganN4KEZyYWdtZW50LCBudWxsLCBqc3goUmVzdWx0c1N1bW1hcnlDb250YWluZXIsIG51bGwsICgoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IHNlbGVjdGVkSXRlbXNTdGF0ZS5zZWxlY3RlZEl0ZW1zO1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXNDb3VudCA9IHNlbGVjdGVkSXRlbXMuc2l6ZTtcbiAgICBpZiAoc2VsZWN0ZWRJdGVtc0NvdW50KSB7XG4gICAgICB2YXIgX21ldGFRdWVyeSRkYXRhJGtleXN0MiwgX21ldGFRdWVyeSRkYXRhNDtcbiAgICAgIHJldHVybiBqc3goRnJhZ21lbnQsIG51bGwsIGpzeChcInNwYW5cIiwge1xuICAgICAgICBjc3M6IHtcbiAgICAgICAgICBtYXJnaW5SaWdodDogdGhlbWUuc3BhY2luZy5zbWFsbFxuICAgICAgICB9XG4gICAgICB9LCBcIlNlbGVjdGVkIFwiLCBzZWxlY3RlZEl0ZW1zQ291bnQsIFwiIG9mIFwiLCBkYXRhLml0ZW1zLmxlbmd0aCksICEoKF9tZXRhUXVlcnkkZGF0YSRrZXlzdDIgPSAoX21ldGFRdWVyeSRkYXRhNCA9IG1ldGFRdWVyeS5kYXRhKSA9PT0gbnVsbCB8fCBfbWV0YVF1ZXJ5JGRhdGE0ID09PSB2b2lkIDAgfHwgKF9tZXRhUXVlcnkkZGF0YTQgPSBfbWV0YVF1ZXJ5JGRhdGE0LmtleXN0b25lLmFkbWluTWV0YS5saXN0KSA9PT0gbnVsbCB8fCBfbWV0YVF1ZXJ5JGRhdGE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWV0YVF1ZXJ5JGRhdGE0LmhpZGVEZWxldGUpICE9PSBudWxsICYmIF9tZXRhUXVlcnkkZGF0YSRrZXlzdDIgIT09IHZvaWQgMCA/IF9tZXRhUXVlcnkkZGF0YSRrZXlzdDIgOiB0cnVlKSAmJiBqc3goRGVsZXRlTWFueUJ1dHRvbiwge1xuICAgICAgICBsaXN0OiBsaXN0LFxuICAgICAgICBzZWxlY3RlZEl0ZW1zOiBzZWxlY3RlZEl0ZW1zLFxuICAgICAgICByZWZldGNoOiByZWZldGNoXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBqc3goRnJhZ21lbnQsIG51bGwsIGpzeChQYWdpbmF0aW9uTGFiZWwsIHtcbiAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSxcbiAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZSxcbiAgICAgIHBsdXJhbDogbGlzdC5wbHVyYWwsXG4gICAgICBzaW5ndWxhcjogbGlzdC5zaW5ndWxhcixcbiAgICAgIHRvdGFsOiBkYXRhLmNvdW50XG4gICAgfSksIFwiLCBzb3J0ZWQgYnkgXCIsIGpzeChTb3J0U2VsZWN0aW9uLCB7XG4gICAgICBsaXN0OiBsaXN0LFxuICAgICAgb3JkZXJhYmxlRmllbGRzOiBvcmRlcmFibGVGaWVsZHNcbiAgICB9KSwgXCJ3aXRoXCIsICcgJywganN4KEZpZWxkU2VsZWN0aW9uLCB7XG4gICAgICBsaXN0OiBsaXN0LFxuICAgICAgZmllbGRNb2Rlc0J5RmllbGRQYXRoOiBsaXN0Vmlld0ZpZWxkTW9kZXNCeUZpZWxkXG4gICAgfSksICcgJyk7XG4gIH0pKCkpLCBqc3goTGlzdFRhYmxlLCB7XG4gICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlLFxuICAgIGl0ZW1zR2V0dGVyOiBkYXRhR2V0dGVyLmdldCgnaXRlbXMnKSxcbiAgICBsaXN0S2V5OiBsaXN0S2V5LFxuICAgIHBhZ2VTaXplOiBwYWdlU2l6ZSxcbiAgICBzZWxlY3RlZEZpZWxkczogc2VsZWN0ZWRGaWVsZHMsXG4gICAgc29ydDogc29ydCxcbiAgICBzZWxlY3RlZEl0ZW1zOiBzZWxlY3RlZEl0ZW1zU3RhdGUuc2VsZWN0ZWRJdGVtcyxcbiAgICBvblNlbGVjdGVkSXRlbXNDaGFuZ2U6IHNlbGVjdGVkSXRlbXMgPT4ge1xuICAgICAgc2V0U2VsZWN0ZWRJdGVtcyh7XG4gICAgICAgIGl0ZW1zRnJvbVNlcnZlcjogc2VsZWN0ZWRJdGVtc1N0YXRlLml0ZW1zRnJvbVNlcnZlcixcbiAgICAgICAgc2VsZWN0ZWRJdGVtc1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvcmRlcmFibGVGaWVsZHM6IG9yZGVyYWJsZUZpZWxkc1xuICB9KSkgOiBqc3goUmVzdWx0c1N1bW1hcnlDb250YWluZXIsIG51bGwsIFwiTm8gXCIsIGxpc3QucGx1cmFsLCBcIiBmb3VuZC5cIikpIDoganN4KENlbnRlciwge1xuICAgIGNzczoge1xuICAgICAgaGVpZ2h0OiBgY2FsYygxMDB2aCAtICR7SEVBREVSX0hFSUdIVH1weClgXG4gICAgfVxuICB9LCBqc3goTG9hZGluZ0RvdHMsIHtcbiAgICBsYWJlbDogXCJMb2FkaW5nIGl0ZW0gZGF0YVwiLFxuICAgIHNpemU6IFwibGFyZ2VcIixcbiAgICB0b25lOiBcInBhc3NpdmVcIlxuICB9KSkpO1xufVxuZnVuY3Rpb24gTGlzdFBhZ2VIZWFkZXIoe1xuICBsaXN0S2V5XG59KSB7XG4gIGNvbnN0IGxpc3QgPSB1c2VMaXN0KGxpc3RLZXkpO1xuICByZXR1cm4ganN4KEZyYWdtZW50LCBudWxsLCBqc3goXCJkaXZcIiwge1xuICAgIGNzczoge1xuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4OiAxLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJ1xuICAgIH1cbiAgfSwganN4KEhlYWRpbmcsIHtcbiAgICB0eXBlOiBcImgzXCJcbiAgfSwgbGlzdC5sYWJlbCkpKTtcbn1cbmZ1bmN0aW9uIFJlc3VsdHNTdW1tYXJ5Q29udGFpbmVyKHtcbiAgY2hpbGRyZW5cbn0pIHtcbiAgcmV0dXJuIGpzeChcInBcIiwge1xuICAgIGNzczoge1xuICAgICAgLy8gVE9ETzogZG9uJ3QgZG8gdGhpc1xuICAgICAgLy8gKHRoaXMgaXMgdG8gbWFrZSBpdCBzbyB0aGluZ3MgZG9uJ3QgbW92ZSB3aGVuIGEgdXNlciBzZWxlY3RzIGFuIGl0ZW0pXG4gICAgICBtaW5IZWlnaHQ6IDM4LFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9XG4gIH0sIGNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIFNvcnREaXJlY3Rpb25BcnJvdyh7XG4gIGRpcmVjdGlvblxufSkge1xuICBjb25zdCBzaXplID0gJzAuMjVlbSc7XG4gIHJldHVybiBqc3goXCJzcGFuXCIsIHtcbiAgICBjc3M6IHtcbiAgICAgIGJvcmRlckxlZnQ6IGAke3NpemV9IHNvbGlkIHRyYW5zcGFyZW50YCxcbiAgICAgIGJvcmRlclJpZ2h0OiBgJHtzaXplfSBzb2xpZCB0cmFuc3BhcmVudGAsXG4gICAgICBib3JkZXJUb3A6IGAke3NpemV9IHNvbGlkYCxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgbWFyZ2luTGVmdDogJzAuMzNlbScsXG4gICAgICBtYXJnaW5Ub3A6ICctMC4xMjVlbScsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgdHJhbnNmb3JtOiBgcm90YXRlKCR7ZGlyZWN0aW9uID09PSAnREVTQycgPyAnMGRlZycgOiAnMTgwZGVnJ30pYFxuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBEZWxldGVNYW55QnV0dG9uKHtcbiAgc2VsZWN0ZWRJdGVtcyxcbiAgbGlzdCxcbiAgcmVmZXRjaFxufSkge1xuICBjb25zdCBbZGVsZXRlSXRlbXMsIGRlbGV0ZUl0ZW1zU3RhdGVdID0gdXNlTXV0YXRpb24odXNlTWVtbygoKSA9PiBncWxgXG4gICAgICAgIG11dGF0aW9uKCR3aGVyZTogWyR7bGlzdC5ncWxOYW1lcy53aGVyZVVuaXF1ZUlucHV0TmFtZX0hXSEpIHtcbiAgICAgICAgICAke2xpc3QuZ3FsTmFtZXMuZGVsZXRlTWFueU11dGF0aW9uTmFtZX0od2hlcmU6ICR3aGVyZSkge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICR7bGlzdC5sYWJlbEZpZWxkfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuYCwgW2xpc3RdKSwge1xuICAgIGVycm9yUG9saWN5OiAnYWxsJ1xuICB9KTtcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgdG9hc3RzID0gdXNlVG9hc3RzKCk7XG4gIHJldHVybiBqc3goRnJhZ21lbnQsIG51bGwsIGpzeChCdXR0b24sIHtcbiAgICBpc0xvYWRpbmc6IGRlbGV0ZUl0ZW1zU3RhdGUubG9hZGluZyxcbiAgICB0b25lOiBcIm5lZ2F0aXZlXCIsXG4gICAgb25DbGljazogYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0SXNPcGVuKHRydWUpO1xuICAgIH1cbiAgfSwgXCJEZWxldGVcIiksIGpzeChBbGVydERpYWxvZ1xuICAvLyBUT0RPOiBjaGFuZ2UgdGhlIGNvcHkgaW4gdGhlIHRpdGxlIGFuZCBib2R5IG9mIHRoZSBtb2RhbFxuICAsIHtcbiAgICBpc09wZW46IGlzT3BlbixcbiAgICB0aXRsZTogXCJEZWxldGUgQ29uZmlybWF0aW9uXCIsXG4gICAgdG9uZTogXCJuZWdhdGl2ZVwiLFxuICAgIGFjdGlvbnM6IHtcbiAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgbGFiZWw6ICdEZWxldGUnLFxuICAgICAgICBhY3Rpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgZXJyb3JzXG4gICAgICAgICAgfSA9IGF3YWl0IGRlbGV0ZUl0ZW1zKHtcbiAgICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgICB3aGVyZTogWy4uLnNlbGVjdGVkSXRlbXNdLm1hcChpZCA9PiAoe1xuICAgICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8qXG4gICAgICAgICAgICBEYXRhIHJldHVybnMgYW4gYXJyYXkgd2hlcmUgc3VjY2Vzc2Z1bCBkZWxldGlvbnMgYXJlIGl0ZW0gb2JqZWN0c1xuICAgICAgICAgICAgYW5kIHVuc3VjY2Vzc2Z1bCBkZWxldGlvbnMgYXJlIG51bGwgdmFsdWVzLlxuICAgICAgICAgICAgUnVuIGEgcmVkdWNlIHRvIGNvdW50IHN1Y2Nlc3MgYW5kIGZhaWx1cmUgYXMgd2VsbCBhc1xuICAgICAgICAgICAgdG8gZ2VuZXJhdGUgdGhlIHN1Y2Nlc3MgbWVzc2FnZSB0byBiZSBwYXNzZWQgdG8gdGhlIHN1Y2Nlc3MgdG9hc3RcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzdWNjZXNzZnVsSXRlbXMsXG4gICAgICAgICAgICB1bnN1Y2Nlc3NmdWxJdGVtcyxcbiAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlXG4gICAgICAgICAgfSA9IGRhdGFbbGlzdC5ncWxOYW1lcy5kZWxldGVNYW55TXV0YXRpb25OYW1lXS5yZWR1Y2UoKGFjYywgY3VycikgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnIpIHtcbiAgICAgICAgICAgICAgYWNjLnN1Y2Nlc3NmdWxJdGVtcysrO1xuICAgICAgICAgICAgICBhY2Muc3VjY2Vzc01lc3NhZ2UgPSBhY2Muc3VjY2Vzc01lc3NhZ2UgPT09ICcnID8gYWNjLnN1Y2Nlc3NNZXNzYWdlICs9IGN1cnJbbGlzdC5sYWJlbEZpZWxkXSA6IGFjYy5zdWNjZXNzTWVzc2FnZSArPSBgLCAke2N1cnJbbGlzdC5sYWJlbEZpZWxkXX1gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWNjLnVuc3VjY2Vzc2Z1bEl0ZW1zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIHN1Y2Nlc3NmdWxJdGVtczogMCxcbiAgICAgICAgICAgIHVuc3VjY2Vzc2Z1bEl0ZW1zOiAwLFxuICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6ICcnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgZXJyb3JzXG4gICAgICAgICAgaWYgKGVycm9ycyAhPT0gbnVsbCAmJiBlcnJvcnMgIT09IHZvaWQgMCAmJiBlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG91dCBob3cgbWFueSBpdGVtcyBmYWlsZWQgdG8gZGVsZXRlLlxuICAgICAgICAgICAgLy8gUmVkdWNlIGVycm9yIG1lc3NhZ2VzIGRvd24gdG8gdW5pcXVlIGluc3RhbmNlcywgYW5kIGFwcGVuZCB0byB0aGUgdG9hc3QgYXMgYSBtZXNzYWdlLlxuICAgICAgICAgICAgdG9hc3RzLmFkZFRvYXN0KHtcbiAgICAgICAgICAgICAgdG9uZTogJ25lZ2F0aXZlJyxcbiAgICAgICAgICAgICAgdGl0bGU6IGBGYWlsZWQgdG8gZGVsZXRlICR7dW5zdWNjZXNzZnVsSXRlbXN9IG9mICR7ZGF0YVtsaXN0LmdxbE5hbWVzLmRlbGV0ZU1hbnlNdXRhdGlvbk5hbWVdLmxlbmd0aH0gJHtsaXN0LnBsdXJhbH1gLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvcnMucmVkdWNlKChhY2MsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFjYy5pbmRleE9mKGVycm9yLm1lc3NhZ2UpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgYWNjLnB1c2goZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgIH0sIFtdKS5qb2luKCdcXG4nKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdWNjZXNzZnVsSXRlbXMpIHtcbiAgICAgICAgICAgIHRvYXN0cy5hZGRUb2FzdCh7XG4gICAgICAgICAgICAgIHRvbmU6ICdwb3NpdGl2ZScsXG4gICAgICAgICAgICAgIHRpdGxlOiBgRGVsZXRlZCAke3N1Y2Nlc3NmdWxJdGVtc30gb2YgJHtkYXRhW2xpc3QuZ3FsTmFtZXMuZGVsZXRlTWFueU11dGF0aW9uTmFtZV0ubGVuZ3RofSAke2xpc3QucGx1cmFsfSBzdWNjZXNzZnVsbHlgLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBzdWNjZXNzTWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZWZldGNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYW5jZWw6IHtcbiAgICAgICAgbGFiZWw6ICdDYW5jZWwnLFxuICAgICAgICBhY3Rpb246ICgpID0+IHtcbiAgICAgICAgICBzZXRJc09wZW4oZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgXCIsIHNlbGVjdGVkSXRlbXMuc2l6ZSwgJyAnLCBzZWxlY3RlZEl0ZW1zLnNpemUgPT09IDEgPyBsaXN0LnNpbmd1bGFyIDogbGlzdC5wbHVyYWwsIFwiP1wiKSk7XG59XG5mdW5jdGlvbiBMaXN0VGFibGUoe1xuICBzZWxlY3RlZEZpZWxkcyxcbiAgbGlzdEtleSxcbiAgaXRlbXNHZXR0ZXIsXG4gIGNvdW50LFxuICBzb3J0LFxuICBjdXJyZW50UGFnZSxcbiAgcGFnZVNpemUsXG4gIHNlbGVjdGVkSXRlbXMsXG4gIG9uU2VsZWN0ZWRJdGVtc0NoYW5nZSxcbiAgb3JkZXJhYmxlRmllbGRzXG59KSB7XG4gIHZhciBfaXRlbXNHZXR0ZXIkZGF0YSwgX2l0ZW1zR2V0dGVyJGRhdGE0O1xuICBjb25zdCBsaXN0ID0gdXNlTGlzdChsaXN0S2V5KTtcbiAgY29uc3Qge1xuICAgIHF1ZXJ5XG4gIH0gPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3Qgc2hvdWxkU2hvd0xpbmtJY29uID0gWy4uLnNlbGVjdGVkRmllbGRzXS5zb21lKChrLCBpKSA9PiAhbGlzdC5maWVsZHNba10udmlld3MuQ2VsbC5zdXBwb3J0c0xpbmtUbyAmJiBpID09PSAwKTtcbiAgcmV0dXJuIGpzeChCb3gsIHtcbiAgICBwYWRkaW5nQm90dG9tOiBcInhsYXJnZVwiXG4gIH0sIGpzeChUYWJsZUNvbnRhaW5lciwgbnVsbCwganN4KFZpc3VhbGx5SGlkZGVuLCB7XG4gICAgYXM6IFwiY2FwdGlvblwiXG4gIH0sIGxpc3QubGFiZWwsIFwiIGxpc3RcIiksIGpzeChcImNvbGdyb3VwXCIsIG51bGwsIGpzeChcImNvbFwiLCB7XG4gICAgd2lkdGg6IFwiMzBcIlxuICB9KSwgc2hvdWxkU2hvd0xpbmtJY29uICYmIGpzeChcImNvbFwiLCB7XG4gICAgd2lkdGg6IFwiMzBcIlxuICB9KSwgWy4uLnNlbGVjdGVkRmllbGRzXS5tYXAocGF0aCA9PiBqc3goXCJjb2xcIiwge1xuICAgIGtleTogcGF0aFxuICB9KSkpLCBqc3goVGFibGVIZWFkZXJSb3csIG51bGwsIGpzeChUYWJsZUhlYWRlckNlbGwsIHtcbiAgICBjc3M6IHtcbiAgICAgIHBhZGRpbmdMZWZ0OiAwXG4gICAgfVxuICB9LCBqc3goXCJsYWJlbFwiLCB7XG4gICAgY3NzOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3RhcnQnLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICB9XG4gIH0sIGpzeChDaGVja2JveENvbnRyb2wsIHtcbiAgICBzaXplOiBcInNtYWxsXCIsXG4gICAgY2hlY2tlZDogc2VsZWN0ZWRJdGVtcy5zaXplID09PSAoKF9pdGVtc0dldHRlciRkYXRhID0gaXRlbXNHZXR0ZXIuZGF0YSkgPT09IG51bGwgfHwgX2l0ZW1zR2V0dGVyJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtc0dldHRlciRkYXRhLmxlbmd0aCksXG4gICAgY3NzOiB7XG4gICAgICBjdXJzb3I6ICdkZWZhdWx0J1xuICAgIH0sXG4gICAgb25DaGFuZ2U6ICgpID0+IHtcbiAgICAgIHZhciBfaXRlbXNHZXR0ZXIkZGF0YTI7XG4gICAgICBjb25zdCBuZXdTZWxlY3RlZEl0ZW1zID0gbmV3IFNldCgpO1xuICAgICAgaWYgKHNlbGVjdGVkSXRlbXMuc2l6ZSAhPT0gKChfaXRlbXNHZXR0ZXIkZGF0YTIgPSBpdGVtc0dldHRlci5kYXRhKSA9PT0gbnVsbCB8fCBfaXRlbXNHZXR0ZXIkZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtc0dldHRlciRkYXRhMi5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBfaXRlbXNHZXR0ZXIkZGF0YTM7XG4gICAgICAgIChfaXRlbXNHZXR0ZXIkZGF0YTMgPSBpdGVtc0dldHRlci5kYXRhKSA9PT0gbnVsbCB8fCBfaXRlbXNHZXR0ZXIkZGF0YTMgPT09IHZvaWQgMCB8fCBfaXRlbXNHZXR0ZXIkZGF0YTMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBpZiAoaXRlbSAhPT0gbnVsbCAmJiBpdGVtLmlkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuZXdTZWxlY3RlZEl0ZW1zLmFkZChpdGVtLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgb25TZWxlY3RlZEl0ZW1zQ2hhbmdlKG5ld1NlbGVjdGVkSXRlbXMpO1xuICAgIH1cbiAgfSkpKSwgc2hvdWxkU2hvd0xpbmtJY29uICYmIGpzeChUYWJsZUhlYWRlckNlbGwsIG51bGwpLCBbLi4uc2VsZWN0ZWRGaWVsZHNdLm1hcChwYXRoID0+IHtcbiAgICBjb25zdCBsYWJlbCA9IGxpc3QuZmllbGRzW3BhdGhdLmxhYmVsO1xuICAgIGlmICghb3JkZXJhYmxlRmllbGRzLmhhcyhwYXRoKSkgcmV0dXJuIGpzeChUYWJsZUhlYWRlckNlbGwsIHtcbiAgICAgIGtleTogcGF0aFxuICAgIH0sIGxhYmVsKTtcbiAgICByZXR1cm4ganN4KFRhYmxlSGVhZGVyQ2VsbCwge1xuICAgICAga2V5OiBwYXRoXG4gICAgfSwganN4KExpbmssIHtcbiAgICAgIGNzczoge1xuICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICAnOmhvdmVyJzoge1xuICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhyZWY6IHtcbiAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgICBzb3J0Qnk6IChzb3J0ID09PSBudWxsIHx8IHNvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvcnQuZmllbGQpID09PSBwYXRoICYmIHNvcnQuZGlyZWN0aW9uID09PSAnQVNDJyA/IGAtJHtwYXRofWAgOiBwYXRoXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBsYWJlbCwgKHNvcnQgPT09IG51bGwgfHwgc29ydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ydC5maWVsZCkgPT09IHBhdGggJiYganN4KFNvcnREaXJlY3Rpb25BcnJvdywge1xuICAgICAgZGlyZWN0aW9uOiBzb3J0LmRpcmVjdGlvblxuICAgIH0pKSk7XG4gIH0pKSwganN4KFwidGJvZHlcIiwgbnVsbCwgKChfaXRlbXNHZXR0ZXIkZGF0YTQgPSBpdGVtc0dldHRlci5kYXRhKSAhPT0gbnVsbCAmJiBfaXRlbXNHZXR0ZXIkZGF0YTQgIT09IHZvaWQgMCA/IF9pdGVtc0dldHRlciRkYXRhNCA6IFtdKS5tYXAoKF8sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaXRlbUdldHRlciA9IGl0ZW1zR2V0dGVyLmdldChpbmRleCk7XG4gICAgaWYgKGl0ZW1HZXR0ZXIuZGF0YSA9PT0gbnVsbCB8fCBpdGVtR2V0dGVyLmRhdGEuaWQgPT09IG51bGwpIHtcbiAgICAgIGlmIChpdGVtR2V0dGVyLmVycm9ycykge1xuICAgICAgICByZXR1cm4ganN4KFwidHJcIiwge1xuICAgICAgICAgIGNzczoge1xuICAgICAgICAgICAgY29sb3I6ICdyZWQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXk6IGBpbmRleDoke2luZGV4fWBcbiAgICAgICAgfSwgaXRlbUdldHRlci5lcnJvcnNbMF0ubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaXRlbUlkID0gaXRlbUdldHRlci5kYXRhLmlkO1xuICAgIHJldHVybiBqc3goXCJ0clwiLCB7XG4gICAgICBrZXk6IGl0ZW1JZCB8fCBgaW5kZXg6JHtpbmRleH1gXG4gICAgfSwganN4KFRhYmxlQm9keUNlbGwsIG51bGwsIGpzeChcImxhYmVsXCIsIHtcbiAgICAgIGNzczoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIG1pbkhlaWdodDogMzgsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3N0YXJ0J1xuICAgICAgfVxuICAgIH0sIGpzeChDaGVja2JveENvbnRyb2wsIHtcbiAgICAgIHNpemU6IFwic21hbGxcIixcbiAgICAgIGNoZWNrZWQ6IHNlbGVjdGVkSXRlbXMuaGFzKGl0ZW1JZCksXG4gICAgICBjc3M6IHtcbiAgICAgICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgICAgIH0sXG4gICAgICBvbkNoYW5nZTogKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdTZWxlY3RlZEl0ZW1zID0gbmV3IFNldChzZWxlY3RlZEl0ZW1zKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkSXRlbXMuaGFzKGl0ZW1JZCkpIHtcbiAgICAgICAgICBuZXdTZWxlY3RlZEl0ZW1zLmRlbGV0ZShpdGVtSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1NlbGVjdGVkSXRlbXMuYWRkKGl0ZW1JZCk7XG4gICAgICAgIH1cbiAgICAgICAgb25TZWxlY3RlZEl0ZW1zQ2hhbmdlKG5ld1NlbGVjdGVkSXRlbXMpO1xuICAgICAgfVxuICAgIH0pKSksIHNob3VsZFNob3dMaW5rSWNvbiAmJiBqc3goVGFibGVCb2R5Q2VsbCwgbnVsbCwganN4KExpbmssIHtcbiAgICAgIGNzczoge1xuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAgICAgICBtaW5IZWlnaHQ6IDM4LFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICAgIH0sXG4gICAgICBocmVmOiBgLyR7bGlzdC5wYXRofS9baWRdYCxcbiAgICAgIGFzOiBgLyR7bGlzdC5wYXRofS8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWBcbiAgICB9LCBqc3goQXJyb3dSaWdodENpcmNsZUljb24sIHtcbiAgICAgIHNpemU6IFwic21hbGxpc2hcIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIkdvIHRvIGl0ZW1cIlxuICAgIH0pKSksIFsuLi5zZWxlY3RlZEZpZWxkc10ubWFwKChwYXRoLCBpKSA9PiB7XG4gICAgICBjb25zdCBmaWVsZCA9IGxpc3QuZmllbGRzW3BhdGhdO1xuICAgICAgY29uc3Qge1xuICAgICAgICBDZWxsXG4gICAgICB9ID0gbGlzdC5maWVsZHNbcGF0aF0udmlld3M7XG4gICAgICBjb25zdCBpdGVtRm9yRmllbGQgPSB7fTtcbiAgICAgIGZvciAoY29uc3QgZ3JhcGhxbEZpZWxkIG9mIGdldFJvb3RHcmFwaFFMRmllbGRzRnJvbUZpZWxkQ29udHJvbGxlcihmaWVsZC5jb250cm9sbGVyKSkge1xuICAgICAgICBjb25zdCBmaWVsZEdldHRlciA9IGl0ZW1HZXR0ZXIuZ2V0KGdyYXBocWxGaWVsZCk7XG4gICAgICAgIGlmIChmaWVsZEdldHRlci5lcnJvcnMpIHtcbiAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBmaWVsZEdldHRlci5lcnJvcnNbMF0ubWVzc2FnZTtcbiAgICAgICAgICByZXR1cm4ganN4KFRhYmxlQm9keUNlbGwsIHtcbiAgICAgICAgICAgIGNzczoge1xuICAgICAgICAgICAgICBjb2xvcjogJ3JlZCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXk6IHBhdGhcbiAgICAgICAgICB9LCBpID09PSAwICYmIENlbGwuc3VwcG9ydHNMaW5rVG8gPyBqc3goQ2VsbExpbmssIHtcbiAgICAgICAgICAgIGhyZWY6IGAvJHtsaXN0LnBhdGh9L1tpZF1gLFxuICAgICAgICAgICAgYXM6IGAvJHtsaXN0LnBhdGh9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YFxuICAgICAgICAgIH0sIGVycm9yTWVzc2FnZSkgOiBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW1Gb3JGaWVsZFtncmFwaHFsRmllbGRdID0gZmllbGRHZXR0ZXIuZGF0YTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBqc3goVGFibGVCb2R5Q2VsbCwge1xuICAgICAgICBrZXk6IHBhdGhcbiAgICAgIH0sIGpzeChDZWxsLCB7XG4gICAgICAgIGZpZWxkOiBmaWVsZC5jb250cm9sbGVyLFxuICAgICAgICBpdGVtOiBpdGVtRm9yRmllbGQsXG4gICAgICAgIGxpbmtUbzogaSA9PT0gMCAmJiBDZWxsLnN1cHBvcnRzTGlua1RvID8ge1xuICAgICAgICAgIGhyZWY6IGAvJHtsaXN0LnBhdGh9L1tpZF1gLFxuICAgICAgICAgIGFzOiBgLyR7bGlzdC5wYXRofS8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWBcbiAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgfSkpO1xuICAgIH0pKTtcbiAgfSkpKSwganN4KFBhZ2luYXRpb24sIHtcbiAgICBzaW5ndWxhcjogbGlzdC5zaW5ndWxhcixcbiAgICBwbHVyYWw6IGxpc3QucGx1cmFsLFxuICAgIHRvdGFsOiBjb3VudCxcbiAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsXG4gICAgcGFnZVNpemU6IHBhZ2VTaXplXG4gIH0pKTtcbn1cbmZ1bmN0aW9uIFRhYmxlQ29udGFpbmVyKHtcbiAgY2hpbGRyZW5cbn0pIHtcbiAgcmV0dXJuIGpzeChcInRhYmxlXCIsIHtcbiAgICBjc3M6IHtcbiAgICAgIG1pbldpZHRoOiAnMTAwJScsXG4gICAgICB0YWJsZUxheW91dDogJ2ZpeGVkJyxcbiAgICAgICd0cjpsYXN0LWNoaWxkIHRkJzoge1xuICAgICAgICBib3JkZXJCb3R0b21XaWR0aDogMFxuICAgICAgfVxuICAgIH0sXG4gICAgY2VsbFBhZGRpbmc6IFwiMFwiLFxuICAgIGNlbGxTcGFjaW5nOiBcIjBcIlxuICB9LCBjaGlsZHJlbik7XG59XG5mdW5jdGlvbiBUYWJsZUhlYWRlclJvdyh7XG4gIGNoaWxkcmVuXG59KSB7XG4gIHJldHVybiBqc3goXCJ0aGVhZFwiLCBudWxsLCBqc3goXCJ0clwiLCBudWxsLCBjaGlsZHJlbikpO1xufVxuZnVuY3Rpb24gVGFibGVIZWFkZXJDZWxsKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjb2xvcnMsXG4gICAgc3BhY2luZyxcbiAgICB0eXBvZ3JhcGh5XG4gIH0gPSB1c2VUaGVtZSgpO1xuICByZXR1cm4ganN4KFwidGhcIiwgX2V4dGVuZHMoe1xuICAgIGNzczoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnMuYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlckJvdHRvbTogYDJweCBzb2xpZCAke2NvbG9ycy5ib3JkZXJ9YCxcbiAgICAgIGNvbG9yOiBjb2xvcnMuZm9yZWdyb3VuZERpbSxcbiAgICAgIGZvbnRTaXplOiB0eXBvZ3JhcGh5LmZvbnRTaXplLm1lZGl1bSxcbiAgICAgIGZvbnRXZWlnaHQ6IHR5cG9ncmFwaHkuZm9udFdlaWdodC5tZWRpdW0sXG4gICAgICBwYWRkaW5nOiBzcGFjaW5nLnNtYWxsLFxuICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICBwb3NpdGlvbjogJ3N0aWNreScsXG4gICAgICB0b3A6IDBcbiAgICB9XG4gIH0sIHByb3BzKSk7XG59XG5mdW5jdGlvbiBUYWJsZUJvZHlDZWxsKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjb2xvcnMsXG4gICAgdHlwb2dyYXBoeVxuICB9ID0gdXNlVGhlbWUoKTtcbiAgcmV0dXJuIGpzeChcInRkXCIsIF9leHRlbmRzKHtcbiAgICBjc3M6IHtcbiAgICAgIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke2NvbG9ycy5ib3JkZXJ9YCxcbiAgICAgIGZvbnRTaXplOiB0eXBvZ3JhcGh5LmZvbnRTaXplLm1lZGl1bVxuICAgIH1cbiAgfSwgcHJvcHMpKTtcbn1cblxuZXhwb3J0IHsgZ2V0TGlzdFBhZ2UgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@keystone-6/core/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/dist/keystone-6-core-___internal-do-not-use-will-break-in-patch-admin-ui-pages-ListPage.esm.js\n"));

/***/ }),

/***/ "../../node_modules/@keystone-6/core/dist/CreateButtonLink-5ceff7b7.esm.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@keystone-6/core/dist/CreateButtonLink-5ceff7b7.esm.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: function() { return /* binding */ CreateButtonLink; }\n/* harmony export */ });\n/* harmony import */ var _keystone_ui_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @keystone-ui/button */ \"../../node_modules/@keystone-ui/button/dist/keystone-ui-button.esm.js\");\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystone-ui/core */ \"../../node_modules/@keystone-ui/core/dist/keystone-ui-core.esm.js\");\n/* harmony import */ var _admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../admin-ui/router/dist/keystone-6-core-admin-ui-router.esm.js */ \"../../node_modules/@keystone-6/core/admin-ui/router/dist/keystone-6-core-admin-ui-router.esm.js\");\n\n\n\n\n/** @jsxRuntime classic */\nfunction CreateButtonLink(props) {\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_0__.Button, {\n    css: {\n      textDecoration: 'none',\n      ':hover': {\n        color: 'white'\n      }\n    },\n    as: _admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_2__.Link,\n    href: `/${props.list.path}/create`,\n    tone: \"active\",\n    size: \"small\",\n    weight: \"bold\"\n  }, \"Create \", props.list.singular);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZGlzdC9DcmVhdGVCdXR0b25MaW5rLTVjZWZmN2I3LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTZDO0FBQ0w7QUFDOEM7O0FBRXRGO0FBQ0E7QUFDQSxTQUFTLHNEQUFHLENBQUMsdURBQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxRQUFRLDhGQUFJO0FBQ1osY0FBYyxnQkFBZ0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZGlzdC9DcmVhdGVCdXR0b25MaW5rLTVjZWZmN2I3LmVzbS5qcz9mNzUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0BrZXlzdG9uZS11aS9idXR0b24nO1xuaW1wb3J0IHsganN4IH0gZnJvbSAnQGtleXN0b25lLXVpL2NvcmUnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJy4uL2FkbWluLXVpL3JvdXRlci9kaXN0L2tleXN0b25lLTYtY29yZS1hZG1pbi11aS1yb3V0ZXIuZXNtLmpzJztcblxuLyoqIEBqc3hSdW50aW1lIGNsYXNzaWMgKi9cbmZ1bmN0aW9uIENyZWF0ZUJ1dHRvbkxpbmsocHJvcHMpIHtcbiAgcmV0dXJuIGpzeChCdXR0b24sIHtcbiAgICBjc3M6IHtcbiAgICAgIHRleHREZWNvcmF0aW9uOiAnbm9uZScsXG4gICAgICAnOmhvdmVyJzoge1xuICAgICAgICBjb2xvcjogJ3doaXRlJ1xuICAgICAgfVxuICAgIH0sXG4gICAgYXM6IExpbmssXG4gICAgaHJlZjogYC8ke3Byb3BzLmxpc3QucGF0aH0vY3JlYXRlYCxcbiAgICB0b25lOiBcImFjdGl2ZVwiLFxuICAgIHNpemU6IFwic21hbGxcIixcbiAgICB3ZWlnaHQ6IFwiYm9sZFwiXG4gIH0sIFwiQ3JlYXRlIFwiLCBwcm9wcy5saXN0LnNpbmd1bGFyKTtcbn1cblxuZXhwb3J0IHsgQ3JlYXRlQnV0dG9uTGluayBhcyBDIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@keystone-6/core/dist/CreateButtonLink-5ceff7b7.esm.js\n"));

/***/ }),

/***/ "../../node_modules/@keystone-6/core/dist/GraphQLErrorNotice-53983da1.esm.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/@keystone-6/core/dist/GraphQLErrorNotice-53983da1.esm.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   G: function() { return /* binding */ GraphQLErrorNotice; }\n/* harmony export */ });\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @keystone-ui/core */ \"../../node_modules/@keystone-ui/core/dist/keystone-ui-core.esm.js\");\n/* harmony import */ var _keystone_ui_notice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystone-ui/notice */ \"../../node_modules/@keystone-ui/notice/dist/keystone-ui-notice.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nfunction GraphQLErrorNotice({\n  errors,\n  networkError\n}) {\n  if (networkError) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_keystone_ui_notice__WEBPACK_IMPORTED_MODULE_1__.Notice, {\n      tone: \"negative\",\n      marginBottom: \"large\"\n    }, networkError.message);\n  }\n  if (errors !== null && errors !== void 0 && errors.length) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_0__.Stack, {\n      gap: \"small\",\n      marginBottom: \"large\"\n    }, errors.map((err, idx) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_keystone_ui_notice__WEBPACK_IMPORTED_MODULE_1__.Notice, {\n      tone: \"negative\",\n      key: idx\n    }, err.message)));\n  }\n  return null;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZGlzdC9HcmFwaFFMRXJyb3JOb3RpY2UtNTM5ODNkYTEuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBDO0FBQ0c7QUFDbkI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLHdCQUF3QiwwREFBbUIsQ0FBQyx1REFBTTtBQUNsRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0IsMERBQW1CLENBQUMsb0RBQUs7QUFDakQ7QUFDQTtBQUNBLEtBQUssd0NBQXdDLDBEQUFtQixDQUFDLHVEQUFNO0FBQ3ZFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVtQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZGlzdC9HcmFwaFFMRXJyb3JOb3RpY2UtNTM5ODNkYTEuZXNtLmpzPzExOTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhY2sgfSBmcm9tICdAa2V5c3RvbmUtdWkvY29yZSc7XG5pbXBvcnQgeyBOb3RpY2UgfSBmcm9tICdAa2V5c3RvbmUtdWkvbm90aWNlJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIEdyYXBoUUxFcnJvck5vdGljZSh7XG4gIGVycm9ycyxcbiAgbmV0d29ya0Vycm9yXG59KSB7XG4gIGlmIChuZXR3b3JrRXJyb3IpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTm90aWNlLCB7XG4gICAgICB0b25lOiBcIm5lZ2F0aXZlXCIsXG4gICAgICBtYXJnaW5Cb3R0b206IFwibGFyZ2VcIlxuICAgIH0sIG5ldHdvcmtFcnJvci5tZXNzYWdlKTtcbiAgfVxuICBpZiAoZXJyb3JzICE9PSBudWxsICYmIGVycm9ycyAhPT0gdm9pZCAwICYmIGVycm9ycy5sZW5ndGgpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhY2ssIHtcbiAgICAgIGdhcDogXCJzbWFsbFwiLFxuICAgICAgbWFyZ2luQm90dG9tOiBcImxhcmdlXCJcbiAgICB9LCBlcnJvcnMubWFwKChlcnIsIGlkeCkgPT4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTm90aWNlLCB7XG4gICAgICB0b25lOiBcIm5lZ2F0aXZlXCIsXG4gICAgICBrZXk6IGlkeFxuICAgIH0sIGVyci5tZXNzYWdlKSkpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyBHcmFwaFFMRXJyb3JOb3RpY2UgYXMgRyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@keystone-6/core/dist/GraphQLErrorNotice-53983da1.esm.js\n"));

/***/ }),

/***/ "../../node_modules/@keystone-6/core/dist/PageContainer-4946e9c2.esm.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@keystone-6/core/dist/PageContainer-4946e9c2.esm.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   H: function() { return /* binding */ HEADER_HEIGHT; },\n/* harmony export */   L: function() { return /* binding */ Logo; },\n/* harmony export */   N: function() { return /* binding */ Navigation; },\n/* harmony export */   P: function() { return /* binding */ PageContainer; },\n/* harmony export */   a: function() { return /* binding */ NavigationContainer; },\n/* harmony export */   b: function() { return /* binding */ NavItem; },\n/* harmony export */   c: function() { return /* binding */ ListNavItems; },\n/* harmony export */   d: function() { return /* binding */ ListNavItem; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"../../node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystone-ui/core */ \"../../node_modules/@keystone-ui/core/dist/keystone-ui-core.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _keystone_ui_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystone-ui/icons */ \"../../node_modules/@keystone-ui/icons/dist/keystone-ui-icons.esm.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/router */ \"../../node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _keystone_ui_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystone-ui/button */ \"../../node_modules/@keystone-ui/button/dist/keystone-ui-button.esm.js\");\n/* harmony import */ var _keystone_ui_popover__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystone-ui/popover */ \"../../node_modules/@keystone-ui/popover/dist/keystone-ui-popover.esm.js\");\n/* harmony import */ var _keystone_ui_icons_icons_MoreHorizontalIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystone-ui/icons/icons/MoreHorizontalIcon */ \"../../node_modules/@keystone-ui/icons/icons/MoreHorizontalIcon/dist/keystone-ui-icons-icons-MoreHorizontalIcon.esm.js\");\n/* harmony import */ var _keystone_ui_icons_icons_ChevronRightIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystone-ui/icons/icons/ChevronRightIcon */ \"../../node_modules/@keystone-ui/icons/icons/ChevronRightIcon/dist/keystone-ui-icons-icons-ChevronRightIcon.esm.js\");\n/* harmony import */ var _admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../admin-ui/context/dist/keystone-6-core-admin-ui-context.esm.js */ \"../../node_modules/@keystone-6/core/admin-ui/context/dist/keystone-6-core-admin-ui-context.esm.js\");\n/* harmony import */ var _admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../admin-ui/router/dist/keystone-6-core-admin-ui-router.esm.js */ \"../../node_modules/@keystone-6/core/admin-ui/router/dist/keystone-6-core-admin-ui-router.esm.js\");\n/* harmony import */ var _SignoutButton_ca58d8c9_esm_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./SignoutButton-ca58d8c9.esm.js */ \"../../node_modules/@keystone-6/core/dist/SignoutButton-ca58d8c9.esm.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/link */ \"../../node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_12__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** @jsxRuntime classic */\nconst Logo = () => {\n  var _adminConfig$componen;\n  const {\n    spacing\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n  const {\n    adminConfig\n  } = (0,_admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_9__.useKeystone)();\n  if ((_adminConfig$componen = adminConfig.components) !== null && _adminConfig$componen !== void 0 && _adminConfig$componen.Logo) {\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(adminConfig.components.Logo, null);\n  }\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.H3, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_12___default()), {\n    href: \"/\",\n    css: {\n      // TODO: we dont' have colors in our design-system for this.\n      backgroundImage: `linear-gradient(to right, #0ea5e9, #6366f1)`,\n      backgroundClip: 'text',\n      lineHeight: '1.75rem',\n      color: 'transparent',\n      verticalAlign: 'middle',\n      transition: 'color 0.3s ease',\n      textDecoration: 'none'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 220\",\n    css: {\n      display: 'inline-block',\n      width: '2rem',\n      height: '2rem',\n      margin: `0  ${spacing.medium}px ${spacing.xsmall}px 0`,\n      verticalAlign: 'middle'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"defs\", null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"linearGradient\", {\n    id: \"logo-a\",\n    x1: \"0%\",\n    x2: \"50%\",\n    y1: \"0%\",\n    y2: \"71.9%\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"stop\", {\n    offset: \"0%\",\n    stopColor: \"#5AE8FA\"\n  }), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"stop\", {\n    offset: \"100%\",\n    stopColor: \"#2684FF\"\n  }))), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n    fill: \"url(#logo-a)\",\n    fillRule: \"evenodd\",\n    d: \"M290.1 47h117.5c17.8 0 24.3 1.9 30.8 5.3a36.3 36.3 0 0115.1 15.2c3.5 6.5 5.4 13 5.4 30.8v117.4c0 17.9-1.9 24.3-5.4 30.8a36.3 36.3 0 01-15.1 15.2c-6.5 3.4-13 5.3-30.8 5.3H290c-17.8 0-24.3-1.9-30.8-5.3a36.3 36.3 0 01-15.1-15.2c-3.5-6.5-5.3-13-5.3-30.8V98.3c0-17.9 1.8-24.3 5.3-30.8a36.3 36.3 0 0115.1-15.2c6.5-3.4 13-5.3 30.8-5.3zm11.8 56.8V218H327v-36.8l14.4-14.6 34.4 51.4h31.5l-49-69.1 44.7-45.1h-31.3L327 151v-47.3H302z\",\n    transform: \"translate(-238.9 -47)\"\n  })), \"Keystone 6\"));\n};\n\nconst NavItem = ({\n  href,\n  children,\n  isSelected: _isSelected\n}) => {\n  const {\n    colors,\n    palette,\n    spacing,\n    radii,\n    typography\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n  const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n  const isSelected = _isSelected !== undefined ? _isSelected : router.pathname === href;\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_10__.Link, {\n    \"aria-current\": isSelected ? 'location' : false,\n    href: href,\n    css: {\n      background: 'transparent',\n      borderBottomRightRadius: radii.xsmall,\n      borderTopRightRadius: radii.xsmall,\n      color: palette.neutral700,\n      display: 'block',\n      fontWeight: typography.fontWeight.medium,\n      marginBottom: spacing.xsmall,\n      marginRight: spacing.xlarge,\n      padding: `${spacing.small}px ${spacing.xlarge}px`,\n      position: 'relative',\n      textDecoration: 'none',\n      ':hover': {\n        background: colors.backgroundHover,\n        color: colors.linkHoverColor\n      },\n      '&[aria-current=location]': {\n        background: palette.neutral200,\n        color: palette.neutral900\n      }\n    }\n  }, children));\n};\nconst AuthenticatedItemDialog = ({\n  item\n}) => {\n  const {\n    apiPath\n  } = (0,_admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_9__.useKeystone)();\n  const {\n    spacing,\n    typography\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      margin: spacing.xlarge,\n      marginBottom: 0\n    }\n  }, item && item.state === 'authenticated' ? (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    css: {\n      fontSize: typography.fontSize.small\n    }\n  }, \"Signed in as \", (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n    css: {\n      display: 'block'\n    }\n  }, item.label)) :  true && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    css: {\n      fontSize: typography.fontSize.small\n    }\n  }, \"GraphQL Playground and Docs\"),  false ? 0 : (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_6__.Popover, {\n    placement: \"bottom\",\n    triggerRenderer: ({\n      triggerProps\n    }) => (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      size: \"small\",\n      style: {\n        padding: 0,\n        width: 36\n      },\n      \"aria-label\": \"Links and signout\"\n    }, triggerProps), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_icons_icons_MoreHorizontalIcon__WEBPACK_IMPORTED_MODULE_7__.MoreHorizontalIcon, null))\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.Stack, {\n    gap: \"medium\",\n    padding: \"large\",\n    dividers: \"between\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(PopoverLink, {\n    target: \"_blank\",\n    href: apiPath\n  }, \"API Explorer\"), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(PopoverLink, {\n    target: \"_blank\",\n    href: \"https://github.com/keystonejs/keystone\"\n  }, \"GitHub Repository\"), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(PopoverLink, {\n    target: \"_blank\",\n    href: \"https://keystonejs.com\"\n  }, \"Keystone Documentation\"), item && item.state === 'authenticated' && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_SignoutButton_ca58d8c9_esm_js__WEBPACK_IMPORTED_MODULE_11__.S, null))));\n};\nconst PopoverLink = ({\n  children,\n  ...props\n}) => {\n  const {\n    typography\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"a\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      fontSize: typography.fontSize.small,\n      textDecoration: 'none'\n    }\n  }, props), children, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_icons_icons_ChevronRightIcon__WEBPACK_IMPORTED_MODULE_8__.ChevronRightIcon, {\n    size: \"small\"\n  }));\n};\nconst NavigationContainer = ({\n  authenticatedItem,\n  children\n}) => {\n  const {\n    spacing\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    css: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      position: 'relative'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(AuthenticatedItemDialog, {\n    item: authenticatedItem\n  }), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"nav\", {\n    role: \"navigation\",\n    \"aria-label\": \"Side Navigation\",\n    css: {\n      marginTop: spacing.xlarge\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n    css: {\n      padding: 0,\n      margin: 0,\n      li: {\n        listStyle: 'none'\n      }\n    }\n  }, children)));\n};\nconst ListNavItem = ({\n  list\n}) => {\n  const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(NavItem, {\n    isSelected: router.pathname.split('/')[1] === `/${list.path}`.split('/')[1],\n    href: `/${list.path}${list.isSingleton ? '/1' : ''}`\n  }, list.label);\n};\nconst ListNavItems = ({\n  lists = [],\n  include = []\n}) => {\n  const renderedList = include.length > 0 ? lists.filter(i => include.includes(i.key)) : lists;\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, null, renderedList.map(list => {\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(ListNavItem, {\n      key: list.key,\n      list: list\n    });\n  }));\n};\nfunction Navigation() {\n  var _adminConfig$componen;\n  const {\n    adminMeta: {\n      lists\n    },\n    adminConfig,\n    authenticatedItem,\n    visibleLists\n  } = (0,_admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_9__.useKeystone)();\n  if (visibleLists.state === 'loading') return null;\n  // This visible lists error is critical and likely to result in a server restart\n  // if it happens, we'll show the error and not render the navigation component/s\n  if (visibleLists.state === 'error') {\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.Text, {\n      as: \"span\",\n      paddingLeft: \"xlarge\",\n      css: {\n        color: 'red'\n      }\n    }, visibleLists.error instanceof Error ? visibleLists.error.message : visibleLists.error[0].message);\n  }\n  const renderableLists = Object.keys(lists).map(key => {\n    if (!visibleLists.lists.has(key)) return null;\n    return lists[key];\n  }).filter(x => Boolean(x));\n  if (adminConfig !== null && adminConfig !== void 0 && (_adminConfig$componen = adminConfig.components) !== null && _adminConfig$componen !== void 0 && _adminConfig$componen.Navigation) {\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(adminConfig.components.Navigation, {\n      authenticatedItem: authenticatedItem,\n      lists: renderableLists\n    });\n  }\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(NavigationContainer, {\n    authenticatedItem: authenticatedItem\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(NavItem, {\n    href: \"/\"\n  }, \"Dashboard\"), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(ListNavItems, {\n    lists: renderableLists\n  }));\n}\n\nconst HEADER_HEIGHT = 80;\nconst PageWrapper = props => {\n  // const { colors } = useTheme();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"style\", null, `body { overflow: hidden; }`), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    css: {\n      // background: colors.background,\n      display: 'grid',\n      gridTemplateColumns: `minmax(300px, 1fr)`,\n      gridTemplateRows: `repeat(2,${HEADER_HEIGHT}px) auto`,\n      height: '100vh',\n      isolation: 'isolate',\n      '@media (min-width: 576px)': {\n        gridTemplateColumns: `minmax(300px, 1fr) 4fr`,\n        gridTemplateRows: `${HEADER_HEIGHT}px auto`\n      }\n    }\n  }, props)));\n};\nconst Sidebar = ({\n  isSidebarOpen,\n  ...props\n}) => {\n  // const { colors } = useTheme();\n\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    css: {\n      gridColumn: '1/2',\n      gridRow: '2/4',\n      display: isSidebarOpen ? 'block' : 'none',\n      height: '100vh',\n      '@media (min-width: 576px)': {\n        gridColumn: '1/2',\n        gridRow: '2/3',\n        display: 'block',\n        height: '100%'\n      },\n      overflowY: 'auto',\n      WebkitOverflowScrolling: 'touch'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"aside\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    css: {\n      // borderRight: `1px solid ${colors.border}`,\n      minWidth: 0,\n      // resolves collapsing issues in children\n      WebkitOverflowScrolling: 'touch'\n    }\n  }, props)));\n};\nconst Content = props => {\n  const {\n    colors,\n    spacing\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"main\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    css: {\n      backgroundColor: colors.background,\n      boxSizing: 'border-box',\n      minWidth: 0,\n      // resolves collapsing issues in children\n      paddingLeft: spacing.xlarge,\n      paddingRight: spacing.xlarge,\n      overflowY: 'auto',\n      WebkitOverflowScrolling: 'touch',\n      position: 'relative'\n    }\n  }, props));\n};\nconst PageContainer = ({\n  children,\n  header,\n  title\n}) => {\n  const {\n    colors,\n    spacing\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n  const [isSidebarOpen, setIsSidebarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(PageWrapper, null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    css: {\n      alignItems: 'center',\n      // borderRight: `1px solid ${colors.border}`,\n      borderBottom: `1px solid ${colors.border}`,\n      display: 'flex',\n      justifyContent: 'space-between',\n      paddingLeft: spacing.xlarge,\n      paddingRight: spacing.xlarge\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(Logo, null), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    onClick: () => {\n      setIsSidebarOpen(!isSidebarOpen);\n    },\n    css: {\n      display: 'block',\n      '@media (min-width: 576px)': {\n        display: 'none'\n      }\n    }\n  }, isSidebarOpen ? (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_icons__WEBPACK_IMPORTED_MODULE_3__.XCircleIcon, null) : (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_icons__WEBPACK_IMPORTED_MODULE_3__.MenuIcon, null))), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"header\", {\n    css: {\n      alignItems: 'center',\n      backgroundColor: colors.background,\n      borderBottom: `1px solid ${colors.border}`,\n      display: 'flex',\n      justifyContent: 'space-between',\n      minWidth: 0,\n      // fix flex text truncation\n      paddingLeft: spacing.xlarge,\n      paddingRight: spacing.xlarge,\n      visibility: isSidebarOpen ? 'hidden' : 'visible'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"title\", null, title ? `Keystone - ${title}` : 'Keystone'), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0\"\n  }), header), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(Sidebar, {\n    isSidebarOpen: isSidebarOpen\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(Navigation, null)), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(Content, null, children));\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZGlzdC9QYWdlQ29udGFpbmVyLTQ5NDZlOWMyLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDUztBQUN4QjtBQUNnQjtBQUNuQjtBQUNLO0FBQ0U7QUFDa0M7QUFDSjtBQUNrQjtBQUNUO0FBQ2pCO0FBQ3BDOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxFQUFFLDJEQUFRO0FBQ2Q7QUFDQTtBQUNBLElBQUksRUFBRSwyR0FBVztBQUNqQjtBQUNBLFdBQVcsc0RBQUc7QUFDZDtBQUNBLFNBQVMsc0RBQUcsQ0FBQyxpREFBRSxRQUFRLHNEQUFHLENBQUMsbURBQVE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRSxzREFBRztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlLEtBQUssZUFBZTtBQUN2RDtBQUNBO0FBQ0EsR0FBRyxFQUFFLHNEQUFHLGVBQWUsc0RBQUc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRSxzREFBRztBQUNSO0FBQ0E7QUFDQSxHQUFHLEdBQUcsc0RBQUc7QUFDVDtBQUNBO0FBQ0EsR0FBRyxLQUFLLHNEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxFQUFFLDJEQUFRO0FBQ2QsaUJBQWlCLHNEQUFTO0FBQzFCO0FBQ0EsU0FBUyxzREFBRyxhQUFhLHNEQUFHLENBQUMsK0ZBQUk7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixjQUFjLEtB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aUJBQWlCLHNEQUFHO0FBQ3hFO0FBQ0E7QUFDQSxHQUFHLFlBQVksc0RBQUc7QUFDbEI7QUFDQSxHQUFHLEVBQUUsc0RBQUcscUJBQXFCLHNEQUFHO0FBQ2hDOztBQUUySiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZGlzdC9QYWdlQ29udGFpbmVyLTQ5NDZlOWMyLmVzbS5qcz8zN2U2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCB7IHVzZVRoZW1lLCBqc3gsIEgzLCBUZXh0LCBTdGFjayB9IGZyb20gJ0BrZXlzdG9uZS11aS9jb3JlJztcbmltcG9ydCB7IEZyYWdtZW50LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFhDaXJjbGVJY29uLCBNZW51SWNvbiB9IGZyb20gJ0BrZXlzdG9uZS11aS9pY29ucyc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAa2V5c3RvbmUtdWkvYnV0dG9uJztcbmltcG9ydCB7IFBvcG92ZXIgfSBmcm9tICdAa2V5c3RvbmUtdWkvcG9wb3Zlcic7XG5pbXBvcnQgeyBNb3JlSG9yaXpvbnRhbEljb24gfSBmcm9tICdAa2V5c3RvbmUtdWkvaWNvbnMvaWNvbnMvTW9yZUhvcml6b250YWxJY29uJztcbmltcG9ydCB7IENoZXZyb25SaWdodEljb24gfSBmcm9tICdAa2V5c3RvbmUtdWkvaWNvbnMvaWNvbnMvQ2hldnJvblJpZ2h0SWNvbic7XG5pbXBvcnQgeyB1c2VLZXlzdG9uZSB9IGZyb20gJy4uL2FkbWluLXVpL2NvbnRleHQvZGlzdC9rZXlzdG9uZS02LWNvcmUtYWRtaW4tdWktY29udGV4dC5lc20uanMnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJy4uL2FkbWluLXVpL3JvdXRlci9kaXN0L2tleXN0b25lLTYtY29yZS1hZG1pbi11aS1yb3V0ZXIuZXNtLmpzJztcbmltcG9ydCB7IFMgYXMgU2lnbm91dEJ1dHRvbiB9IGZyb20gJy4vU2lnbm91dEJ1dHRvbi1jYTU4ZDhjOS5lc20uanMnO1xuaW1wb3J0IE5leHRMaW5rIGZyb20gJ25leHQvbGluayc7XG5cbi8qKiBAanN4UnVudGltZSBjbGFzc2ljICovXG5jb25zdCBMb2dvID0gKCkgPT4ge1xuICB2YXIgX2FkbWluQ29uZmlnJGNvbXBvbmVuO1xuICBjb25zdCB7XG4gICAgc3BhY2luZ1xuICB9ID0gdXNlVGhlbWUoKTtcbiAgY29uc3Qge1xuICAgIGFkbWluQ29uZmlnXG4gIH0gPSB1c2VLZXlzdG9uZSgpO1xuICBpZiAoKF9hZG1pbkNvbmZpZyRjb21wb25lbiA9IGFkbWluQ29uZmlnLmNvbXBvbmVudHMpICE9PSBudWxsICYmIF9hZG1pbkNvbmZpZyRjb21wb25lbiAhPT0gdm9pZCAwICYmIF9hZG1pbkNvbmZpZyRjb21wb25lbi5Mb2dvKSB7XG4gICAgcmV0dXJuIGpzeChhZG1pbkNvbmZpZy5jb21wb25lbnRzLkxvZ28sIG51bGwpO1xuICB9XG4gIHJldHVybiBqc3goSDMsIG51bGwsIGpzeChOZXh0TGluaywge1xuICAgIGhyZWY6IFwiL1wiLFxuICAgIGNzczoge1xuICAgICAgLy8gVE9ETzogd2UgZG9udCcgaGF2ZSBjb2xvcnMgaW4gb3VyIGRlc2lnbi1zeXN0ZW0gZm9yIHRoaXMuXG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICMwZWE1ZTksICM2MzY2ZjEpYCxcbiAgICAgIGJhY2tncm91bmRDbGlwOiAndGV4dCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnMS43NXJlbScsXG4gICAgICBjb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLFxuICAgICAgdHJhbnNpdGlvbjogJ2NvbG9yIDAuM3MgZWFzZScsXG4gICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnXG4gICAgfVxuICB9LCBqc3goXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjIwIDIyMFwiLFxuICAgIGNzczoge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICB3aWR0aDogJzJyZW0nLFxuICAgICAgaGVpZ2h0OiAnMnJlbScsXG4gICAgICBtYXJnaW46IGAwICAke3NwYWNpbmcubWVkaXVtfXB4ICR7c3BhY2luZy54c21hbGx9cHggMGAsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJ1xuICAgIH1cbiAgfSwganN4KFwiZGVmc1wiLCBudWxsLCBqc3goXCJsaW5lYXJHcmFkaWVudFwiLCB7XG4gICAgaWQ6IFwibG9nby1hXCIsXG4gICAgeDE6IFwiMCVcIixcbiAgICB4MjogXCI1MCVcIixcbiAgICB5MTogXCIwJVwiLFxuICAgIHkyOiBcIjcxLjklXCJcbiAgfSwganN4KFwic3RvcFwiLCB7XG4gICAgb2Zmc2V0OiBcIjAlXCIsXG4gICAgc3RvcENvbG9yOiBcIiM1QUU4RkFcIlxuICB9KSwganN4KFwic3RvcFwiLCB7XG4gICAgb2Zmc2V0OiBcIjEwMCVcIixcbiAgICBzdG9wQ29sb3I6IFwiIzI2ODRGRlwiXG4gIH0pKSksIGpzeChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwidXJsKCNsb2dvLWEpXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTI5MC4xIDQ3aDExNy41YzE3LjggMCAyNC4zIDEuOSAzMC44IDUuM2EzNi4zIDM2LjMgMCAwMTE1LjEgMTUuMmMzLjUgNi41IDUuNCAxMyA1LjQgMzAuOHYxMTcuNGMwIDE3LjktMS45IDI0LjMtNS40IDMwLjhhMzYuMyAzNi4zIDAgMDEtMTUuMSAxNS4yYy02LjUgMy40LTEzIDUuMy0zMC44IDUuM0gyOTBjLTE3LjggMC0yNC4zLTEuOS0zMC44LTUuM2EzNi4zIDM2LjMgMCAwMS0xNS4xLTE1LjJjLTMuNS02LjUtNS4zLTEzLTUuMy0zMC44Vjk4LjNjMC0xNy45IDEuOC0yNC4zIDUuMy0zMC44YTM2LjMgMzYuMyAwIDAxMTUuMS0xNS4yYzYuNS0zLjQgMTMtNS4zIDMwLjgtNS4zem0xMS44IDU2LjhWMjE4SDMyN3YtMzYuOGwxNC40LTE0LjYgMzQuNCA1MS40aDMxLjVsLTQ5LTY5LjEgNDQuNy00NS4xaC0zMS4zTDMyNyAxNTF2LTQ3LjNIMzAyelwiLFxuICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTIzOC45IC00NylcIlxuICB9KSksIFwiS2V5c3RvbmUgNlwiKSk7XG59O1xuXG5jb25zdCBOYXZJdGVtID0gKHtcbiAgaHJlZixcbiAgY2hpbGRyZW4sXG4gIGlzU2VsZWN0ZWQ6IF9pc1NlbGVjdGVkXG59KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb2xvcnMsXG4gICAgcGFsZXR0ZSxcbiAgICBzcGFjaW5nLFxuICAgIHJhZGlpLFxuICAgIHR5cG9ncmFwaHlcbiAgfSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBpc1NlbGVjdGVkID0gX2lzU2VsZWN0ZWQgIT09IHVuZGVmaW5lZCA/IF9pc1NlbGVjdGVkIDogcm91dGVyLnBhdGhuYW1lID09PSBocmVmO1xuICByZXR1cm4ganN4KFwibGlcIiwgbnVsbCwganN4KExpbmssIHtcbiAgICBcImFyaWEtY3VycmVudFwiOiBpc1NlbGVjdGVkID8gJ2xvY2F0aW9uJyA6IGZhbHNlLFxuICAgIGhyZWY6IGhyZWYsXG4gICAgY3NzOiB7XG4gICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuICAgICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6IHJhZGlpLnhzbWFsbCxcbiAgICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzOiByYWRpaS54c21hbGwsXG4gICAgICBjb2xvcjogcGFsZXR0ZS5uZXV0cmFsNzAwLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIGZvbnRXZWlnaHQ6IHR5cG9ncmFwaHkuZm9udFdlaWdodC5tZWRpdW0sXG4gICAgICBtYXJnaW5Cb3R0b206IHNwYWNpbmcueHNtYWxsLFxuICAgICAgbWFyZ2luUmlnaHQ6IHNwYWNpbmcueGxhcmdlLFxuICAgICAgcGFkZGluZzogYCR7c3BhY2luZy5zbWFsbH1weCAke3NwYWNpbmcueGxhcmdlfXB4YCxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgICc6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9ycy5iYWNrZ3JvdW5kSG92ZXIsXG4gICAgICAgIGNvbG9yOiBjb2xvcnMubGlua0hvdmVyQ29sb3JcbiAgICAgIH0sXG4gICAgICAnJlthcmlhLWN1cnJlbnQ9bG9jYXRpb25dJzoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBwYWxldHRlLm5ldXRyYWwyMDAsXG4gICAgICAgIGNvbG9yOiBwYWxldHRlLm5ldXRyYWw5MDBcbiAgICAgIH1cbiAgICB9XG4gIH0sIGNoaWxkcmVuKSk7XG59O1xuY29uc3QgQXV0aGVudGljYXRlZEl0ZW1EaWFsb2cgPSAoe1xuICBpdGVtXG59KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBhcGlQYXRoXG4gIH0gPSB1c2VLZXlzdG9uZSgpO1xuICBjb25zdCB7XG4gICAgc3BhY2luZyxcbiAgICB0eXBvZ3JhcGh5XG4gIH0gPSB1c2VUaGVtZSgpO1xuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICBjc3M6IHtcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgbWFyZ2luOiBzcGFjaW5nLnhsYXJnZSxcbiAgICAgIG1hcmdpbkJvdHRvbTogMFxuICAgIH1cbiAgfSwgaXRlbSAmJiBpdGVtLnN0YXRlID09PSAnYXV0aGVudGljYXRlZCcgPyBqc3goXCJkaXZcIiwge1xuICAgIGNzczoge1xuICAgICAgZm9udFNpemU6IHR5cG9ncmFwaHkuZm9udFNpemUuc21hbGxcbiAgICB9XG4gIH0sIFwiU2lnbmVkIGluIGFzIFwiLCBqc3goXCJzdHJvbmdcIiwge1xuICAgIGNzczoge1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgIH1cbiAgfSwgaXRlbS5sYWJlbCkpIDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBqc3goXCJkaXZcIiwge1xuICAgIGNzczoge1xuICAgICAgZm9udFNpemU6IHR5cG9ncmFwaHkuZm9udFNpemUuc21hbGxcbiAgICB9XG4gIH0sIFwiR3JhcGhRTCBQbGF5Z3JvdW5kIGFuZCBEb2NzXCIpLCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gaXRlbSAmJiBpdGVtLnN0YXRlID09PSAnYXV0aGVudGljYXRlZCcgJiYganN4KFNpZ25vdXRCdXR0b24sIG51bGwpIDoganN4KFBvcG92ZXIsIHtcbiAgICBwbGFjZW1lbnQ6IFwiYm90dG9tXCIsXG4gICAgdHJpZ2dlclJlbmRlcmVyOiAoe1xuICAgICAgdHJpZ2dlclByb3BzXG4gICAgfSkgPT4ganN4KEJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgICAgc2l6ZTogXCJzbWFsbFwiLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgd2lkdGg6IDM2XG4gICAgICB9LFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiTGlua3MgYW5kIHNpZ25vdXRcIlxuICAgIH0sIHRyaWdnZXJQcm9wcyksIGpzeChNb3JlSG9yaXpvbnRhbEljb24sIG51bGwpKVxuICB9LCBqc3goU3RhY2ssIHtcbiAgICBnYXA6IFwibWVkaXVtXCIsXG4gICAgcGFkZGluZzogXCJsYXJnZVwiLFxuICAgIGRpdmlkZXJzOiBcImJldHdlZW5cIlxuICB9LCBqc3goUG9wb3ZlckxpbmssIHtcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgaHJlZjogYXBpUGF0aFxuICB9LCBcIkFQSSBFeHBsb3JlclwiKSwganN4KFBvcG92ZXJMaW5rLCB7XG4gICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgIGhyZWY6IFwiaHR0cHM6Ly9naXRodWIuY29tL2tleXN0b25lanMva2V5c3RvbmVcIlxuICB9LCBcIkdpdEh1YiBSZXBvc2l0b3J5XCIpLCBqc3goUG9wb3ZlckxpbmssIHtcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgaHJlZjogXCJodHRwczovL2tleXN0b25lanMuY29tXCJcbiAgfSwgXCJLZXlzdG9uZSBEb2N1bWVudGF0aW9uXCIpLCBpdGVtICYmIGl0ZW0uc3RhdGUgPT09ICdhdXRoZW50aWNhdGVkJyAmJiBqc3goU2lnbm91dEJ1dHRvbiwgbnVsbCkpKSk7XG59O1xuY29uc3QgUG9wb3ZlckxpbmsgPSAoe1xuICBjaGlsZHJlbixcbiAgLi4ucHJvcHNcbn0pID0+IHtcbiAgY29uc3Qge1xuICAgIHR5cG9ncmFwaHlcbiAgfSA9IHVzZVRoZW1lKCk7XG4gIHJldHVybiBqc3goXCJhXCIsIF9leHRlbmRzKHtcbiAgICBjc3M6IHtcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZm9udFNpemU6IHR5cG9ncmFwaHkuZm9udFNpemUuc21hbGwsXG4gICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnXG4gICAgfVxuICB9LCBwcm9wcyksIGNoaWxkcmVuLCBqc3goQ2hldnJvblJpZ2h0SWNvbiwge1xuICAgIHNpemU6IFwic21hbGxcIlxuICB9KSk7XG59O1xuY29uc3QgTmF2aWdhdGlvbkNvbnRhaW5lciA9ICh7XG4gIGF1dGhlbnRpY2F0ZWRJdGVtLFxuICBjaGlsZHJlblxufSkgPT4ge1xuICBjb25zdCB7XG4gICAgc3BhY2luZ1xuICB9ID0gdXNlVGhlbWUoKTtcbiAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgY3NzOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgfVxuICB9LCBqc3goQXV0aGVudGljYXRlZEl0ZW1EaWFsb2csIHtcbiAgICBpdGVtOiBhdXRoZW50aWNhdGVkSXRlbVxuICB9KSwganN4KFwibmF2XCIsIHtcbiAgICByb2xlOiBcIm5hdmlnYXRpb25cIixcbiAgICBcImFyaWEtbGFiZWxcIjogXCJTaWRlIE5hdmlnYXRpb25cIixcbiAgICBjc3M6IHtcbiAgICAgIG1hcmdpblRvcDogc3BhY2luZy54bGFyZ2VcbiAgICB9XG4gIH0sIGpzeChcInVsXCIsIHtcbiAgICBjc3M6IHtcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBtYXJnaW46IDAsXG4gICAgICBsaToge1xuICAgICAgICBsaXN0U3R5bGU6ICdub25lJ1xuICAgICAgfVxuICAgIH1cbiAgfSwgY2hpbGRyZW4pKSk7XG59O1xuY29uc3QgTGlzdE5hdkl0ZW0gPSAoe1xuICBsaXN0XG59KSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICByZXR1cm4ganN4KE5hdkl0ZW0sIHtcbiAgICBpc1NlbGVjdGVkOiByb3V0ZXIucGF0aG5hbWUuc3BsaXQoJy8nKVsxXSA9PT0gYC8ke2xpc3QucGF0aH1gLnNwbGl0KCcvJylbMV0sXG4gICAgaHJlZjogYC8ke2xpc3QucGF0aH0ke2xpc3QuaXNTaW5nbGV0b24gPyAnLzEnIDogJyd9YFxuICB9LCBsaXN0LmxhYmVsKTtcbn07XG5jb25zdCBMaXN0TmF2SXRlbXMgPSAoe1xuICBsaXN0cyA9IFtdLFxuICBpbmNsdWRlID0gW11cbn0pID0+IHtcbiAgY29uc3QgcmVuZGVyZWRMaXN0ID0gaW5jbHVkZS5sZW5ndGggPiAwID8gbGlzdHMuZmlsdGVyKGkgPT4gaW5jbHVkZS5pbmNsdWRlcyhpLmtleSkpIDogbGlzdHM7XG4gIHJldHVybiBqc3goRnJhZ21lbnQsIG51bGwsIHJlbmRlcmVkTGlzdC5tYXAobGlzdCA9PiB7XG4gICAgcmV0dXJuIGpzeChMaXN0TmF2SXRlbSwge1xuICAgICAga2V5OiBsaXN0LmtleSxcbiAgICAgIGxpc3Q6IGxpc3RcbiAgICB9KTtcbiAgfSkpO1xufTtcbmZ1bmN0aW9uIE5hdmlnYXRpb24oKSB7XG4gIHZhciBfYWRtaW5Db25maWckY29tcG9uZW47XG4gIGNvbnN0IHtcbiAgICBhZG1pbk1ldGE6IHtcbiAgICAgIGxpc3RzXG4gICAgfSxcbiAgICBhZG1pbkNvbmZpZyxcbiAgICBhdXRoZW50aWNhdGVkSXRlbSxcbiAgICB2aXNpYmxlTGlzdHNcbiAgfSA9IHVzZUtleXN0b25lKCk7XG4gIGlmICh2aXNpYmxlTGlzdHMuc3RhdGUgPT09ICdsb2FkaW5nJykgcmV0dXJuIG51bGw7XG4gIC8vIFRoaXMgdmlzaWJsZSBsaXN0cyBlcnJvciBpcyBjcml0aWNhbCBhbmQgbGlrZWx5IHRvIHJlc3VsdCBpbiBhIHNlcnZlciByZXN0YXJ0XG4gIC8vIGlmIGl0IGhhcHBlbnMsIHdlJ2xsIHNob3cgdGhlIGVycm9yIGFuZCBub3QgcmVuZGVyIHRoZSBuYXZpZ2F0aW9uIGNvbXBvbmVudC9zXG4gIGlmICh2aXNpYmxlTGlzdHMuc3RhdGUgPT09ICdlcnJvcicpIHtcbiAgICByZXR1cm4ganN4KFRleHQsIHtcbiAgICAgIGFzOiBcInNwYW5cIixcbiAgICAgIHBhZGRpbmdMZWZ0OiBcInhsYXJnZVwiLFxuICAgICAgY3NzOiB7XG4gICAgICAgIGNvbG9yOiAncmVkJ1xuICAgICAgfVxuICAgIH0sIHZpc2libGVMaXN0cy5lcnJvciBpbnN0YW5jZW9mIEVycm9yID8gdmlzaWJsZUxpc3RzLmVycm9yLm1lc3NhZ2UgOiB2aXNpYmxlTGlzdHMuZXJyb3JbMF0ubWVzc2FnZSk7XG4gIH1cbiAgY29uc3QgcmVuZGVyYWJsZUxpc3RzID0gT2JqZWN0LmtleXMobGlzdHMpLm1hcChrZXkgPT4ge1xuICAgIGlmICghdmlzaWJsZUxpc3RzLmxpc3RzLmhhcyhrZXkpKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gbGlzdHNba2V5XTtcbiAgfSkuZmlsdGVyKHggPT4gQm9vbGVhbih4KSk7XG4gIGlmIChhZG1pbkNvbmZpZyAhPT0gbnVsbCAmJiBhZG1pbkNvbmZpZyAhPT0gdm9pZCAwICYmIChfYWRtaW5Db25maWckY29tcG9uZW4gPSBhZG1pbkNvbmZpZy5jb21wb25lbnRzKSAhPT0gbnVsbCAmJiBfYWRtaW5Db25maWckY29tcG9uZW4gIT09IHZvaWQgMCAmJiBfYWRtaW5Db25maWckY29tcG9uZW4uTmF2aWdhdGlvbikge1xuICAgIHJldHVybiBqc3goYWRtaW5Db25maWcuY29tcG9uZW50cy5OYXZpZ2F0aW9uLCB7XG4gICAgICBhdXRoZW50aWNhdGVkSXRlbTogYXV0aGVudGljYXRlZEl0ZW0sXG4gICAgICBsaXN0czogcmVuZGVyYWJsZUxpc3RzXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGpzeChOYXZpZ2F0aW9uQ29udGFpbmVyLCB7XG4gICAgYXV0aGVudGljYXRlZEl0ZW06IGF1dGhlbnRpY2F0ZWRJdGVtXG4gIH0sIGpzeChOYXZJdGVtLCB7XG4gICAgaHJlZjogXCIvXCJcbiAgfSwgXCJEYXNoYm9hcmRcIiksIGpzeChMaXN0TmF2SXRlbXMsIHtcbiAgICBsaXN0czogcmVuZGVyYWJsZUxpc3RzXG4gIH0pKTtcbn1cblxuY29uc3QgSEVBREVSX0hFSUdIVCA9IDgwO1xuY29uc3QgUGFnZVdyYXBwZXIgPSBwcm9wcyA9PiB7XG4gIC8vIGNvbnN0IHsgY29sb3JzIH0gPSB1c2VUaGVtZSgpO1xuICByZXR1cm4ganN4KEZyYWdtZW50LCBudWxsLCBqc3goXCJzdHlsZVwiLCBudWxsLCBgYm9keSB7IG92ZXJmbG93OiBoaWRkZW47IH1gKSwganN4KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICBjc3M6IHtcbiAgICAgIC8vIGJhY2tncm91bmQ6IGNvbG9ycy5iYWNrZ3JvdW5kLFxuICAgICAgZGlzcGxheTogJ2dyaWQnLFxuICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogYG1pbm1heCgzMDBweCwgMWZyKWAsXG4gICAgICBncmlkVGVtcGxhdGVSb3dzOiBgcmVwZWF0KDIsJHtIRUFERVJfSEVJR0hUfXB4KSBhdXRvYCxcbiAgICAgIGhlaWdodDogJzEwMHZoJyxcbiAgICAgIGlzb2xhdGlvbjogJ2lzb2xhdGUnLFxuICAgICAgJ0BtZWRpYSAobWluLXdpZHRoOiA1NzZweCknOiB7XG4gICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IGBtaW5tYXgoMzAwcHgsIDFmcikgNGZyYCxcbiAgICAgICAgZ3JpZFRlbXBsYXRlUm93czogYCR7SEVBREVSX0hFSUdIVH1weCBhdXRvYFxuICAgICAgfVxuICAgIH1cbiAgfSwgcHJvcHMpKSk7XG59O1xuY29uc3QgU2lkZWJhciA9ICh7XG4gIGlzU2lkZWJhck9wZW4sXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIC8vIGNvbnN0IHsgY29sb3JzIH0gPSB1c2VUaGVtZSgpO1xuXG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNzczoge1xuICAgICAgZ3JpZENvbHVtbjogJzEvMicsXG4gICAgICBncmlkUm93OiAnMi80JyxcbiAgICAgIGRpc3BsYXk6IGlzU2lkZWJhck9wZW4gPyAnYmxvY2snIDogJ25vbmUnLFxuICAgICAgaGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgJ0BtZWRpYSAobWluLXdpZHRoOiA1NzZweCknOiB7XG4gICAgICAgIGdyaWRDb2x1bW46ICcxLzInLFxuICAgICAgICBncmlkUm93OiAnMi8zJyxcbiAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJSdcbiAgICAgIH0sXG4gICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnXG4gICAgfVxuICB9LCBqc3goXCJhc2lkZVwiLCBfZXh0ZW5kcyh7XG4gICAgY3NzOiB7XG4gICAgICAvLyBib3JkZXJSaWdodDogYDFweCBzb2xpZCAke2NvbG9ycy5ib3JkZXJ9YCxcbiAgICAgIG1pbldpZHRoOiAwLFxuICAgICAgLy8gcmVzb2x2ZXMgY29sbGFwc2luZyBpc3N1ZXMgaW4gY2hpbGRyZW5cbiAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnXG4gICAgfVxuICB9LCBwcm9wcykpKTtcbn07XG5jb25zdCBDb250ZW50ID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgY29sb3JzLFxuICAgIHNwYWNpbmdcbiAgfSA9IHVzZVRoZW1lKCk7XG4gIHJldHVybiBqc3goXCJtYWluXCIsIF9leHRlbmRzKHtcbiAgICBjc3M6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzLmJhY2tncm91bmQsXG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIG1pbldpZHRoOiAwLFxuICAgICAgLy8gcmVzb2x2ZXMgY29sbGFwc2luZyBpc3N1ZXMgaW4gY2hpbGRyZW5cbiAgICAgIHBhZGRpbmdMZWZ0OiBzcGFjaW5nLnhsYXJnZSxcbiAgICAgIHBhZGRpbmdSaWdodDogc3BhY2luZy54bGFyZ2UsXG4gICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9XG4gIH0sIHByb3BzKSk7XG59O1xuY29uc3QgUGFnZUNvbnRhaW5lciA9ICh7XG4gIGNoaWxkcmVuLFxuICBoZWFkZXIsXG4gIHRpdGxlXG59KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb2xvcnMsXG4gICAgc3BhY2luZ1xuICB9ID0gdXNlVGhlbWUoKTtcbiAgY29uc3QgW2lzU2lkZWJhck9wZW4sIHNldElzU2lkZWJhck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICByZXR1cm4ganN4KFBhZ2VXcmFwcGVyLCBudWxsLCBqc3goXCJkaXZcIiwge1xuICAgIGNzczoge1xuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAvLyBib3JkZXJSaWdodDogYDFweCBzb2xpZCAke2NvbG9ycy5ib3JkZXJ9YCxcbiAgICAgIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke2NvbG9ycy5ib3JkZXJ9YCxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICBwYWRkaW5nTGVmdDogc3BhY2luZy54bGFyZ2UsXG4gICAgICBwYWRkaW5nUmlnaHQ6IHNwYWNpbmcueGxhcmdlXG4gICAgfVxuICB9LCBqc3goTG9nbywgbnVsbCksIGpzeChcImRpdlwiLCB7XG4gICAgb25DbGljazogKCkgPT4ge1xuICAgICAgc2V0SXNTaWRlYmFyT3BlbighaXNTaWRlYmFyT3Blbik7XG4gICAgfSxcbiAgICBjc3M6IHtcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAnQG1lZGlhIChtaW4td2lkdGg6IDU3NnB4KSc6IHtcbiAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICB9XG4gICAgfVxuICB9LCBpc1NpZGViYXJPcGVuID8ganN4KFhDaXJjbGVJY29uLCBudWxsKSA6IGpzeChNZW51SWNvbiwgbnVsbCkpKSwganN4KFwiaGVhZGVyXCIsIHtcbiAgICBjc3M6IHtcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnMuYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke2NvbG9ycy5ib3JkZXJ9YCxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICBtaW5XaWR0aDogMCxcbiAgICAgIC8vIGZpeCBmbGV4IHRleHQgdHJ1bmNhdGlvblxuICAgICAgcGFkZGluZ0xlZnQ6IHNwYWNpbmcueGxhcmdlLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBzcGFjaW5nLnhsYXJnZSxcbiAgICAgIHZpc2liaWxpdHk6IGlzU2lkZWJhck9wZW4gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJ1xuICAgIH1cbiAgfSwganN4KFwidGl0bGVcIiwgbnVsbCwgdGl0bGUgPyBgS2V5c3RvbmUgLSAke3RpdGxlfWAgOiAnS2V5c3RvbmUnKSwganN4KFwibWV0YVwiLCB7XG4gICAgbmFtZTogXCJ2aWV3cG9ydFwiLFxuICAgIGNvbnRlbnQ6IFwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiXG4gIH0pLCBoZWFkZXIpLCBqc3goU2lkZWJhciwge1xuICAgIGlzU2lkZWJhck9wZW46IGlzU2lkZWJhck9wZW5cbiAgfSwganN4KE5hdmlnYXRpb24sIG51bGwpKSwganN4KENvbnRlbnQsIG51bGwsIGNoaWxkcmVuKSk7XG59O1xuXG5leHBvcnQgeyBIRUFERVJfSEVJR0hUIGFzIEgsIExvZ28gYXMgTCwgTmF2aWdhdGlvbiBhcyBOLCBQYWdlQ29udGFpbmVyIGFzIFAsIE5hdmlnYXRpb25Db250YWluZXIgYXMgYSwgTmF2SXRlbSBhcyBiLCBMaXN0TmF2SXRlbXMgYXMgYywgTGlzdE5hdkl0ZW0gYXMgZCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@keystone-6/core/dist/PageContainer-4946e9c2.esm.js\n"));

/***/ }),

/***/ "../../node_modules/@keystone-6/core/dist/Pagination-38e6736f.esm.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@keystone-6/core/dist/Pagination-38e6736f.esm.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   P: function() { return /* binding */ Pagination; },\n/* harmony export */   a: function() { return /* binding */ PaginationLabel; },\n/* harmony export */   u: function() { return /* binding */ usePaginationParams; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystone-ui/core */ \"../../node_modules/@keystone-ui/core/dist/keystone-ui-core.esm.js\");\n/* harmony import */ var _keystone_ui_fields__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystone-ui/fields */ \"../../node_modules/@keystone-ui/fields/dist/keystone-ui-fields.esm.js\");\n/* harmony import */ var _keystone_ui_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystone-ui/icons */ \"../../node_modules/@keystone-ui/icons/dist/keystone-ui-icons.esm.js\");\n/* harmony import */ var _admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../admin-ui/router/dist/keystone-6-core-admin-ui-router.esm.js */ \"../../node_modules/@keystone-6/core/admin-ui/router/dist/keystone-6-core-admin-ui-router.esm.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/router */ \"../../node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\n/** @jsxRuntime classic */\nfunction usePaginationParams({\n  defaultPageSize\n}) {\n  const {\n    query\n  } = (0,next_router__WEBPACK_IMPORTED_MODULE_5__.useRouter)();\n  const currentPage = Math.max(typeof query.page === 'string' && !Number.isNaN(parseInt(query.page)) ? Number(query.page) : 1, 1);\n  const pageSize = typeof query.pageSize === 'string' && !Number.isNaN(parseInt(query.pageSize)) ? parseInt(query.pageSize) : defaultPageSize;\n  return {\n    currentPage,\n    pageSize\n  };\n}\nfunction getPaginationStats({\n  singular,\n  plural,\n  pageSize,\n  currentPage,\n  total\n}) {\n  let stats = '';\n  if (total > pageSize) {\n    const start = pageSize * (currentPage - 1) + 1;\n    const end = Math.min(start + pageSize - 1, total);\n    stats = `${start} - ${end} of ${total} ${plural}`;\n  } else {\n    if (total > 1 && plural) {\n      stats = `${total} ${plural}`;\n    } else if (total === 1 && singular) {\n      stats = `${total} ${singular}`;\n    }\n  }\n  return {\n    stats\n  };\n}\nfunction Pagination({\n  currentPage,\n  total,\n  pageSize,\n  singular,\n  plural\n}) {\n  const {\n    query,\n    pathname,\n    push\n  } = (0,next_router__WEBPACK_IMPORTED_MODULE_5__.useRouter)();\n  const {\n    stats\n  } = getPaginationStats({\n    singular,\n    plural,\n    currentPage,\n    total,\n    pageSize\n  });\n  const {\n    opacity\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n  const nextPage = currentPage + 1;\n  const prevPage = currentPage - 1;\n  const minPage = 1;\n  const nxtQuery = {\n    ...query,\n    page: nextPage\n  };\n  const prevQuery = {\n    ...query,\n    page: prevPage\n  };\n  const limit = Math.ceil(total / pageSize);\n  const pages = [];\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    // Check if the current page is larger than\n    // the maximal page given the total and associated page size value.\n    // (This could happen due to a deletion event, in which case we want to reroute the user to a previous page).\n    if (currentPage > Math.ceil(total / pageSize)) {\n      push({\n        pathname,\n        query: {\n          ...query,\n          page: Math.ceil(total / pageSize)\n        }\n      });\n    }\n  }, [total, pageSize, currentPage, pathname, query, push]);\n\n  // Don't render the pagination component if the pageSize is greater than the total number of items in the list.\n  if (total <= pageSize) return null;\n  const onChange = selectedOption => {\n    push({\n      pathname,\n      query: {\n        ...query,\n        page: selectedOption.value\n      }\n    });\n  };\n  for (let page = minPage; page <= limit; page++) {\n    pages.push({\n      label: String(page),\n      value: String(page)\n    });\n  }\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.Stack, {\n    as: \"nav\",\n    role: \"navigation\",\n    \"aria-label\": \"Pagination\",\n    paddingLeft: \"medium\",\n    paddingRight: \"medium\",\n    paddingTop: \"large\",\n    paddingBottom: \"large\",\n    across: true,\n    align: \"center\",\n    css: {\n      width: '100%',\n      justifyContent: 'space-between'\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.Stack, {\n    across: true,\n    gap: \"xxlarge\",\n    align: \"center\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", null, `${plural} per page: ${pageSize}`), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", null, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", null, stats))), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.Stack, {\n    gap: \"medium\",\n    across: true,\n    align: \"center\"\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_fields__WEBPACK_IMPORTED_MODULE_2__.Select, {\n    width: \"medium\",\n    value: {\n      label: String(currentPage),\n      value: String(currentPage)\n    },\n    options: pages,\n    styles: {\n      valueContainer: provided => ({\n        ...provided,\n        paddingLeft: '12px',\n        paddingRight: '16px'\n      })\n    },\n    menuPortalTarget: document.body,\n    onChange: onChange\n  }), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", null, \"of \", limit), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_4__.Link, {\n    \"aria-label\": \"Previous page\",\n    css: {\n      color: '#415269',\n      ...(prevPage < minPage && {\n        pointerEvents: 'none',\n        opacity: opacity.disabled\n      })\n    },\n    href: {\n      query: prevQuery\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_icons__WEBPACK_IMPORTED_MODULE_3__.ChevronLeftIcon, null)), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_admin_ui_router_dist_keystone_6_core_admin_ui_router_esm_js__WEBPACK_IMPORTED_MODULE_4__.Link, {\n    \"aria-label\": \"Next page\",\n    css: {\n      color: '#415269',\n      ...(nextPage > limit && {\n        pointerEvents: 'none',\n        opacity: opacity.disabled\n      })\n    },\n    href: {\n      query: nxtQuery\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_keystone_ui_icons__WEBPACK_IMPORTED_MODULE_3__.ChevronRightIcon, null))));\n}\nfunction PaginationLabel({\n  currentPage,\n  pageSize,\n  plural,\n  singular,\n  total\n}) {\n  const {\n    stats\n  } = getPaginationStats({\n    plural,\n    singular,\n    currentPage,\n    total,\n    pageSize\n  });\n  if (!total) {\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", null, \"No \", plural);\n  }\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", null, \"Showing \", (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", null, stats));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZGlzdC9QYWdpbmF0aW9uLTM4ZTY3MzZmLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFrQztBQUN1QjtBQUNaO0FBQzBCO0FBQ2U7QUFDOUM7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsSUFBSSxFQUFFLHNEQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU8sSUFBSSxLQUFLLEtBQUssT0FBTyxFQUFFLE9BQU87QUFDcEQsSUFBSTtBQUNKO0FBQ0EsaUJBQWlCLE9BQU8sRUFBRSxPQUFPO0FBQ2pDLE1BQU07QUFDTixpQkFBaUIsT0FBTyxFQUFFLFNBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxFQUFFLHNEQUFTO0FBQ2Y7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxJQUFJLEVBQUUsMkRBQVE7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLGVBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsU0FBUyxzREFBRyxDQUFDLG9EQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLHNEQUFHLENBQUMsb0RBQUs7QUFDZDtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUsc0RBQUcsa0JBQWtCLFFBQVEsWUFBWSxTQUFTLElBQUksc0RBQUcsZUFBZSxzREFBRywyQkFBMkIsc0RBQUcsQ0FBQyxvREFBSztBQUNwSDtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUsc0RBQUcsQ0FBQyx1REFBTTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUcsR0FBRyxzREFBRyw4QkFBOEIsc0RBQUcsQ0FBQyw4RkFBSTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRSxzREFBRyxDQUFDLCtEQUFlLFVBQVUsc0RBQUcsQ0FBQyw4RkFBSTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRSxzREFBRyxDQUFDLGdFQUFnQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLHNEQUFHO0FBQ2Q7QUFDQSxTQUFTLHNEQUFHLDJCQUEyQixzREFBRztBQUMxQzs7QUFFMkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uL25vZGVfbW9kdWxlcy9Aa2V5c3RvbmUtNi9jb3JlL2Rpc3QvUGFnaW5hdGlvbi0zOGU2NzM2Zi5lc20uanM/M2EyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUaGVtZSwganN4LCBTdGFjayB9IGZyb20gJ0BrZXlzdG9uZS11aS9jb3JlJztcbmltcG9ydCB7IFNlbGVjdCB9IGZyb20gJ0BrZXlzdG9uZS11aS9maWVsZHMnO1xuaW1wb3J0IHsgQ2hldnJvbkxlZnRJY29uLCBDaGV2cm9uUmlnaHRJY29uIH0gZnJvbSAnQGtleXN0b25lLXVpL2ljb25zJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICcuLi9hZG1pbi11aS9yb3V0ZXIvZGlzdC9rZXlzdG9uZS02LWNvcmUtYWRtaW4tdWktcm91dGVyLmVzbS5qcyc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5cbi8qKiBAanN4UnVudGltZSBjbGFzc2ljICovXG5mdW5jdGlvbiB1c2VQYWdpbmF0aW9uUGFyYW1zKHtcbiAgZGVmYXVsdFBhZ2VTaXplXG59KSB7XG4gIGNvbnN0IHtcbiAgICBxdWVyeVxuICB9ID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IGN1cnJlbnRQYWdlID0gTWF0aC5tYXgodHlwZW9mIHF1ZXJ5LnBhZ2UgPT09ICdzdHJpbmcnICYmICFOdW1iZXIuaXNOYU4ocGFyc2VJbnQocXVlcnkucGFnZSkpID8gTnVtYmVyKHF1ZXJ5LnBhZ2UpIDogMSwgMSk7XG4gIGNvbnN0IHBhZ2VTaXplID0gdHlwZW9mIHF1ZXJ5LnBhZ2VTaXplID09PSAnc3RyaW5nJyAmJiAhTnVtYmVyLmlzTmFOKHBhcnNlSW50KHF1ZXJ5LnBhZ2VTaXplKSkgPyBwYXJzZUludChxdWVyeS5wYWdlU2l6ZSkgOiBkZWZhdWx0UGFnZVNpemU7XG4gIHJldHVybiB7XG4gICAgY3VycmVudFBhZ2UsXG4gICAgcGFnZVNpemVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhZ2luYXRpb25TdGF0cyh7XG4gIHNpbmd1bGFyLFxuICBwbHVyYWwsXG4gIHBhZ2VTaXplLFxuICBjdXJyZW50UGFnZSxcbiAgdG90YWxcbn0pIHtcbiAgbGV0IHN0YXRzID0gJyc7XG4gIGlmICh0b3RhbCA+IHBhZ2VTaXplKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBwYWdlU2l6ZSAqIChjdXJyZW50UGFnZSAtIDEpICsgMTtcbiAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzdGFydCArIHBhZ2VTaXplIC0gMSwgdG90YWwpO1xuICAgIHN0YXRzID0gYCR7c3RhcnR9IC0gJHtlbmR9IG9mICR7dG90YWx9ICR7cGx1cmFsfWA7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRvdGFsID4gMSAmJiBwbHVyYWwpIHtcbiAgICAgIHN0YXRzID0gYCR7dG90YWx9ICR7cGx1cmFsfWA7XG4gICAgfSBlbHNlIGlmICh0b3RhbCA9PT0gMSAmJiBzaW5ndWxhcikge1xuICAgICAgc3RhdHMgPSBgJHt0b3RhbH0gJHtzaW5ndWxhcn1gO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHN0YXRzXG4gIH07XG59XG5mdW5jdGlvbiBQYWdpbmF0aW9uKHtcbiAgY3VycmVudFBhZ2UsXG4gIHRvdGFsLFxuICBwYWdlU2l6ZSxcbiAgc2luZ3VsYXIsXG4gIHBsdXJhbFxufSkge1xuICBjb25zdCB7XG4gICAgcXVlcnksXG4gICAgcGF0aG5hbWUsXG4gICAgcHVzaFxuICB9ID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHtcbiAgICBzdGF0c1xuICB9ID0gZ2V0UGFnaW5hdGlvblN0YXRzKHtcbiAgICBzaW5ndWxhcixcbiAgICBwbHVyYWwsXG4gICAgY3VycmVudFBhZ2UsXG4gICAgdG90YWwsXG4gICAgcGFnZVNpemVcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBvcGFjaXR5XG4gIH0gPSB1c2VUaGVtZSgpO1xuICBjb25zdCBuZXh0UGFnZSA9IGN1cnJlbnRQYWdlICsgMTtcbiAgY29uc3QgcHJldlBhZ2UgPSBjdXJyZW50UGFnZSAtIDE7XG4gIGNvbnN0IG1pblBhZ2UgPSAxO1xuICBjb25zdCBueHRRdWVyeSA9IHtcbiAgICAuLi5xdWVyeSxcbiAgICBwYWdlOiBuZXh0UGFnZVxuICB9O1xuICBjb25zdCBwcmV2UXVlcnkgPSB7XG4gICAgLi4ucXVlcnksXG4gICAgcGFnZTogcHJldlBhZ2VcbiAgfTtcbiAgY29uc3QgbGltaXQgPSBNYXRoLmNlaWwodG90YWwgLyBwYWdlU2l6ZSk7XG4gIGNvbnN0IHBhZ2VzID0gW107XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgcGFnZSBpcyBsYXJnZXIgdGhhblxuICAgIC8vIHRoZSBtYXhpbWFsIHBhZ2UgZ2l2ZW4gdGhlIHRvdGFsIGFuZCBhc3NvY2lhdGVkIHBhZ2Ugc2l6ZSB2YWx1ZS5cbiAgICAvLyAoVGhpcyBjb3VsZCBoYXBwZW4gZHVlIHRvIGEgZGVsZXRpb24gZXZlbnQsIGluIHdoaWNoIGNhc2Ugd2Ugd2FudCB0byByZXJvdXRlIHRoZSB1c2VyIHRvIGEgcHJldmlvdXMgcGFnZSkuXG4gICAgaWYgKGN1cnJlbnRQYWdlID4gTWF0aC5jZWlsKHRvdGFsIC8gcGFnZVNpemUpKSB7XG4gICAgICBwdXNoKHtcbiAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgLi4ucXVlcnksXG4gICAgICAgICAgcGFnZTogTWF0aC5jZWlsKHRvdGFsIC8gcGFnZVNpemUpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3RvdGFsLCBwYWdlU2l6ZSwgY3VycmVudFBhZ2UsIHBhdGhuYW1lLCBxdWVyeSwgcHVzaF0pO1xuXG4gIC8vIERvbid0IHJlbmRlciB0aGUgcGFnaW5hdGlvbiBjb21wb25lbnQgaWYgdGhlIHBhZ2VTaXplIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBsaXN0LlxuICBpZiAodG90YWwgPD0gcGFnZVNpemUpIHJldHVybiBudWxsO1xuICBjb25zdCBvbkNoYW5nZSA9IHNlbGVjdGVkT3B0aW9uID0+IHtcbiAgICBwdXNoKHtcbiAgICAgIHBhdGhuYW1lLFxuICAgICAgcXVlcnk6IHtcbiAgICAgICAgLi4ucXVlcnksXG4gICAgICAgIHBhZ2U6IHNlbGVjdGVkT3B0aW9uLnZhbHVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGZvciAobGV0IHBhZ2UgPSBtaW5QYWdlOyBwYWdlIDw9IGxpbWl0OyBwYWdlKyspIHtcbiAgICBwYWdlcy5wdXNoKHtcbiAgICAgIGxhYmVsOiBTdHJpbmcocGFnZSksXG4gICAgICB2YWx1ZTogU3RyaW5nKHBhZ2UpXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGpzeChTdGFjaywge1xuICAgIGFzOiBcIm5hdlwiLFxuICAgIHJvbGU6IFwibmF2aWdhdGlvblwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBcIlBhZ2luYXRpb25cIixcbiAgICBwYWRkaW5nTGVmdDogXCJtZWRpdW1cIixcbiAgICBwYWRkaW5nUmlnaHQ6IFwibWVkaXVtXCIsXG4gICAgcGFkZGluZ1RvcDogXCJsYXJnZVwiLFxuICAgIHBhZGRpbmdCb3R0b206IFwibGFyZ2VcIixcbiAgICBhY3Jvc3M6IHRydWUsXG4gICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgY3NzOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJ1xuICAgIH1cbiAgfSwganN4KFN0YWNrLCB7XG4gICAgYWNyb3NzOiB0cnVlLFxuICAgIGdhcDogXCJ4eGxhcmdlXCIsXG4gICAgYWxpZ246IFwiY2VudGVyXCJcbiAgfSwganN4KFwic3BhblwiLCBudWxsLCBgJHtwbHVyYWx9IHBlciBwYWdlOiAke3BhZ2VTaXplfWApLCBqc3goXCJzcGFuXCIsIG51bGwsIGpzeChcInN0cm9uZ1wiLCBudWxsLCBzdGF0cykpKSwganN4KFN0YWNrLCB7XG4gICAgZ2FwOiBcIm1lZGl1bVwiLFxuICAgIGFjcm9zczogdHJ1ZSxcbiAgICBhbGlnbjogXCJjZW50ZXJcIlxuICB9LCBqc3goU2VsZWN0LCB7XG4gICAgd2lkdGg6IFwibWVkaXVtXCIsXG4gICAgdmFsdWU6IHtcbiAgICAgIGxhYmVsOiBTdHJpbmcoY3VycmVudFBhZ2UpLFxuICAgICAgdmFsdWU6IFN0cmluZyhjdXJyZW50UGFnZSlcbiAgICB9LFxuICAgIG9wdGlvbnM6IHBhZ2VzLFxuICAgIHN0eWxlczoge1xuICAgICAgdmFsdWVDb250YWluZXI6IHByb3ZpZGVkID0+ICh7XG4gICAgICAgIC4uLnByb3ZpZGVkLFxuICAgICAgICBwYWRkaW5nTGVmdDogJzEycHgnLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6ICcxNnB4J1xuICAgICAgfSlcbiAgICB9LFxuICAgIG1lbnVQb3J0YWxUYXJnZXQ6IGRvY3VtZW50LmJvZHksXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlXG4gIH0pLCBqc3goXCJzcGFuXCIsIG51bGwsIFwib2YgXCIsIGxpbWl0KSwganN4KExpbmssIHtcbiAgICBcImFyaWEtbGFiZWxcIjogXCJQcmV2aW91cyBwYWdlXCIsXG4gICAgY3NzOiB7XG4gICAgICBjb2xvcjogJyM0MTUyNjknLFxuICAgICAgLi4uKHByZXZQYWdlIDwgbWluUGFnZSAmJiB7XG4gICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgb3BhY2l0eTogb3BhY2l0eS5kaXNhYmxlZFxuICAgICAgfSlcbiAgICB9LFxuICAgIGhyZWY6IHtcbiAgICAgIHF1ZXJ5OiBwcmV2UXVlcnlcbiAgICB9XG4gIH0sIGpzeChDaGV2cm9uTGVmdEljb24sIG51bGwpKSwganN4KExpbmssIHtcbiAgICBcImFyaWEtbGFiZWxcIjogXCJOZXh0IHBhZ2VcIixcbiAgICBjc3M6IHtcbiAgICAgIGNvbG9yOiAnIzQxNTI2OScsXG4gICAgICAuLi4obmV4dFBhZ2UgPiBsaW1pdCAmJiB7XG4gICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgb3BhY2l0eTogb3BhY2l0eS5kaXNhYmxlZFxuICAgICAgfSlcbiAgICB9LFxuICAgIGhyZWY6IHtcbiAgICAgIHF1ZXJ5OiBueHRRdWVyeVxuICAgIH1cbiAgfSwganN4KENoZXZyb25SaWdodEljb24sIG51bGwpKSkpO1xufVxuZnVuY3Rpb24gUGFnaW5hdGlvbkxhYmVsKHtcbiAgY3VycmVudFBhZ2UsXG4gIHBhZ2VTaXplLFxuICBwbHVyYWwsXG4gIHNpbmd1bGFyLFxuICB0b3RhbFxufSkge1xuICBjb25zdCB7XG4gICAgc3RhdHNcbiAgfSA9IGdldFBhZ2luYXRpb25TdGF0cyh7XG4gICAgcGx1cmFsLFxuICAgIHNpbmd1bGFyLFxuICAgIGN1cnJlbnRQYWdlLFxuICAgIHRvdGFsLFxuICAgIHBhZ2VTaXplXG4gIH0pO1xuICBpZiAoIXRvdGFsKSB7XG4gICAgcmV0dXJuIGpzeChcInNwYW5cIiwgbnVsbCwgXCJObyBcIiwgcGx1cmFsKTtcbiAgfVxuICByZXR1cm4ganN4KFwic3BhblwiLCBudWxsLCBcIlNob3dpbmcgXCIsIGpzeChcInN0cm9uZ1wiLCBudWxsLCBzdGF0cykpO1xufVxuXG5leHBvcnQgeyBQYWdpbmF0aW9uIGFzIFAsIFBhZ2luYXRpb25MYWJlbCBhcyBhLCB1c2VQYWdpbmF0aW9uUGFyYW1zIGFzIHUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@keystone-6/core/dist/Pagination-38e6736f.esm.js\n"));

/***/ }),

/***/ "../../node_modules/@keystone-6/core/dist/getRootGraphQLFieldsFromFieldController-3d1a0f41.esm.js":
/*!********************************************************************************************************!*\
  !*** ../../node_modules/@keystone-6/core/dist/getRootGraphQLFieldsFromFieldController-3d1a0f41.esm.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: function() { return /* binding */ getRootGraphQLFieldsFromFieldController; }\n/* harmony export */ });\n/* harmony import */ var _emotion_weak_memoize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/weak-memoize */ \"../../node_modules/@emotion/weak-memoize/dist/emotion-weak-memoize.esm.js\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! graphql */ \"../../node_modules/graphql/index.mjs\");\n\n\n\nfunction extractRootFields(selectedFields, selectionSet) {\n  selectionSet.selections.forEach(selection => {\n    if (selection.kind === 'Field') {\n      selectedFields.add(selection.alias ? selection.alias.value : selection.name.value);\n    }\n    if (selection.kind === 'InlineFragment') {\n      extractRootFields(selectedFields, selection.selectionSet);\n    }\n    // FragmentSpread will never happen for the use cases of getRootFieldsFromSelection\n  });\n}\nconst getRootGraphQLFieldsFromFieldController = (0,_emotion_weak_memoize__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(controller => {\n  const ast = (0,graphql__WEBPACK_IMPORTED_MODULE_1__.parse)(`fragment X on Y {\n  id\n  ${controller.graphqlSelection}\n  }`);\n  const selectedFields = new Set();\n  const fragmentNode = ast.definitions[0];\n  extractRootFields(selectedFields, fragmentNode.selectionSet);\n  return [...selectedFields];\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZGlzdC9nZXRSb290R3JhcGhRTEZpZWxkc0Zyb21GaWVsZENvbnRyb2xsZXItM2QxYTBmNDEuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDtBQUNoQjs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZ0RBQWdELGlFQUFXO0FBQzNELGNBQWMsOENBQUs7QUFDbkI7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFdUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uL25vZGVfbW9kdWxlcy9Aa2V5c3RvbmUtNi9jb3JlL2Rpc3QvZ2V0Um9vdEdyYXBoUUxGaWVsZHNGcm9tRmllbGRDb250cm9sbGVyLTNkMWEwZjQxLmVzbS5qcz84YzEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB3ZWFrTWVtb2l6ZSBmcm9tICdAZW1vdGlvbi93ZWFrLW1lbW9pemUnO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICdncmFwaHFsJztcblxuZnVuY3Rpb24gZXh0cmFjdFJvb3RGaWVsZHMoc2VsZWN0ZWRGaWVsZHMsIHNlbGVjdGlvblNldCkge1xuICBzZWxlY3Rpb25TZXQuc2VsZWN0aW9ucy5mb3JFYWNoKHNlbGVjdGlvbiA9PiB7XG4gICAgaWYgKHNlbGVjdGlvbi5raW5kID09PSAnRmllbGQnKSB7XG4gICAgICBzZWxlY3RlZEZpZWxkcy5hZGQoc2VsZWN0aW9uLmFsaWFzID8gc2VsZWN0aW9uLmFsaWFzLnZhbHVlIDogc2VsZWN0aW9uLm5hbWUudmFsdWUpO1xuICAgIH1cbiAgICBpZiAoc2VsZWN0aW9uLmtpbmQgPT09ICdJbmxpbmVGcmFnbWVudCcpIHtcbiAgICAgIGV4dHJhY3RSb290RmllbGRzKHNlbGVjdGVkRmllbGRzLCBzZWxlY3Rpb24uc2VsZWN0aW9uU2V0KTtcbiAgICB9XG4gICAgLy8gRnJhZ21lbnRTcHJlYWQgd2lsbCBuZXZlciBoYXBwZW4gZm9yIHRoZSB1c2UgY2FzZXMgb2YgZ2V0Um9vdEZpZWxkc0Zyb21TZWxlY3Rpb25cbiAgfSk7XG59XG5jb25zdCBnZXRSb290R3JhcGhRTEZpZWxkc0Zyb21GaWVsZENvbnRyb2xsZXIgPSB3ZWFrTWVtb2l6ZShjb250cm9sbGVyID0+IHtcbiAgY29uc3QgYXN0ID0gcGFyc2UoYGZyYWdtZW50IFggb24gWSB7XG4gIGlkXG4gICR7Y29udHJvbGxlci5ncmFwaHFsU2VsZWN0aW9ufVxuICB9YCk7XG4gIGNvbnN0IHNlbGVjdGVkRmllbGRzID0gbmV3IFNldCgpO1xuICBjb25zdCBmcmFnbWVudE5vZGUgPSBhc3QuZGVmaW5pdGlvbnNbMF07XG4gIGV4dHJhY3RSb290RmllbGRzKHNlbGVjdGVkRmllbGRzLCBmcmFnbWVudE5vZGUuc2VsZWN0aW9uU2V0KTtcbiAgcmV0dXJuIFsuLi5zZWxlY3RlZEZpZWxkc107XG59KTtcblxuZXhwb3J0IHsgZ2V0Um9vdEdyYXBoUUxGaWVsZHNGcm9tRmllbGRDb250cm9sbGVyIGFzIGcgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@keystone-6/core/dist/getRootGraphQLFieldsFromFieldController-3d1a0f41.esm.js\n"));

/***/ }),

/***/ "../../node_modules/@keystone-6/core/fields/types/relationship/views/RelationshipSelect/dist/keystone-6-core-fields-types-relationship-views-RelationshipSelect.esm.js":
/*!*****************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/@keystone-6/core/fields/types/relationship/views/RelationshipSelect/dist/keystone-6-core-fields-types-relationship-views-RelationshipSelect.esm.js ***!
  \*****************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RelationshipSelect: function() { return /* binding */ RelationshipSelect; },\n/* harmony export */   useSearchFilter: function() { return /* binding */ useSearchFilter; }\n/* harmony export */ });\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! intersection-observer */ \"../../node_modules/intersection-observer/intersection-observer.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(intersection_observer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystone-ui/core */ \"../../node_modules/@keystone-ui/core/dist/keystone-ui-core.esm.js\");\n/* harmony import */ var _keystone_ui_fields__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystone-ui/fields */ \"../../node_modules/@keystone-ui/fields/dist/keystone-ui-fields.esm.js\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @apollo/client */ \"../../node_modules/@apollo/client/index.js\");\n/* harmony import */ var _admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../admin-ui/context/dist/keystone-6-core-admin-ui-context.esm.js */ \"../../node_modules/@keystone-6/core/admin-ui/context/dist/keystone-6-core-admin-ui-context.esm.js\");\n/* harmony import */ var _keystone_ui_toast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystone-ui/toast */ \"../../node_modules/@keystone-ui/toast/dist/keystone-ui-toast.esm.js\");\n/* harmony import */ var _keystone_ui_loading__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystone-ui/loading */ \"../../node_modules/@keystone-ui/loading/dist/keystone-ui-loading.esm.js\");\n/* harmony import */ var _keystone_ui_modals__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystone-ui/modals */ \"../../node_modules/@keystone-ui/modals/dist/keystone-ui-modals.esm.js\");\n/* harmony import */ var _emotion_hash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @emotion/hash */ \"../../node_modules/@emotion/hash/dist/emotion-hash.esm.js\");\n/* harmony import */ var _dist_admin_meta_graphql_3524c137_esm_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../dist/admin-meta-graphql-3524c137.esm.js */ \"../../node_modules/@keystone-6/core/dist/admin-meta-graphql-3524c137.esm.js\");\n/* harmony import */ var _dist_dataGetter_54fa8f6b_esm_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../dist/dataGetter-54fa8f6b.esm.js */ \"../../node_modules/@keystone-6/core/dist/dataGetter-54fa8f6b.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** @jsxRuntime classic */\nfunction useIntersectionObserver(cb, ref) {\n  const cbRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(cb);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    cbRef.current = cb;\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const observer = new IntersectionObserver((...args) => cbRef.current(...args), {});\n    const node = ref.current;\n    if (node !== null) {\n      observer.observe(node);\n      return () => observer.unobserve(node);\n    }\n  }, [ref]);\n}\nfunction useDebouncedValue(value, limitMs) {\n  const [debouncedValue, setDebouncedValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => value);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const timeout = setTimeout(() => {\n      setDebouncedValue(() => value);\n    }, limitMs);\n    return () => clearTimeout(timeout);\n  }, [value, limitMs]);\n  return debouncedValue;\n}\nfunction isInt(x) {\n  return Number.isInteger(Number(x));\n}\nfunction isBigInt(x) {\n  try {\n    BigInt(x);\n    return true;\n  } catch {\n    return true;\n  }\n}\n\n// TODO: this is unfortunate, remove in breaking change?\nfunction isUuid(x) {\n  if (typeof x !== 'string') return;\n  if (x.length !== 36) return;\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(x);\n}\nfunction useSearchFilter(value, list, searchFields, lists) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const trimmedSearch = value.trim();\n    if (!trimmedSearch.length) return {\n      OR: []\n    };\n    const conditions = [];\n    const idField = list.fields.id.fieldMeta;\n    if (idField.type === 'String') {\n      // TODO: remove in breaking change?\n      if (idField.kind === 'uuid') {\n        if (isUuid(value)) {\n          conditions.push({\n            id: {\n              equals: trimmedSearch\n            }\n          });\n        }\n      } else {\n        conditions.push({\n          id: {\n            equals: trimmedSearch\n          }\n        });\n      }\n    } else if (idField.type === 'Int' && isInt(trimmedSearch)) {\n      conditions.push({\n        id: {\n          equals: Number(trimmedSearch)\n        }\n      });\n    } else if (idField.type === 'BigInt' && isBigInt(trimmedSearch)) {\n      conditions.push({\n        id: {\n          equals: trimmedSearch\n        }\n      });\n    }\n    for (const fieldKey of searchFields) {\n      var _field$fieldMeta;\n      const field = list.fields[fieldKey];\n\n      // @ts-expect-error TODO: fix fieldMeta type for relationship fields\n      if ((_field$fieldMeta = field.fieldMeta) !== null && _field$fieldMeta !== void 0 && _field$fieldMeta.refSearchFields) {\n        const {\n          // @ts-expect-error TODO: fix fieldMeta type for relationship fields\n          refListKey,\n          // @ts-expect-error TODO: fix fieldMeta type for relationship fields\n          refSearchFields,\n          // @ts-expect-error TODO: fix fieldMeta type for relationship fields\n          many = false\n        } = field.fieldMeta;\n        const refList = lists[refListKey];\n        for (const refFieldKey of refSearchFields) {\n          const refField = refList.fields[refFieldKey];\n          if (!refField.search) continue; // WARNING: we dont support depth > 2\n\n          if (many) {\n            conditions.push({\n              [fieldKey]: {\n                some: {\n                  [refFieldKey]: {\n                    contains: trimmedSearch,\n                    mode: refField.search === 'insensitive' ? 'insensitive' : undefined\n                  }\n                }\n              }\n            });\n            continue;\n          }\n          conditions.push({\n            [fieldKey]: {\n              [refFieldKey]: {\n                contains: trimmedSearch,\n                mode: refField.search === 'insensitive' ? 'insensitive' : undefined\n              }\n            }\n          });\n        }\n        continue;\n      }\n      conditions.push({\n        [field.path]: {\n          contains: trimmedSearch,\n          mode: field.search === 'insensitive' ? 'insensitive' : undefined\n        }\n      });\n    }\n    return {\n      OR: conditions\n    };\n  }, [value, list, searchFields]);\n}\nconst idFieldAlias = '____id____';\nconst labelFieldAlias = '____label____';\nconst LoadingIndicatorContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n  count: 0,\n  ref: () => {}\n});\nfunction RelationshipSelect({\n  autoFocus,\n  controlShouldRenderValue,\n  isDisabled,\n  isLoading,\n  labelField,\n  searchFields,\n  list,\n  placeholder,\n  portalMenu,\n  state,\n  extraSelection = ''\n}) {\n  var _data$items;\n  const keystone = (0,_admin_ui_context_dist_keystone_6_core_admin_ui_context_esm_js__WEBPACK_IMPORTED_MODULE_4__.useKeystone)();\n  const [search, setSearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n  // note it's important that this is in state rather than a ref\n  // because we want a re-render if the element changes\n  // so that we can register the intersection observer\n  // on the right element\n  const [loadingIndicatorElement, setLoadingIndicatorElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const QUERY = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_11__.gql)`\n    query RelationshipSelect($where: ${list.gqlNames.whereInputName}!, $take: Int!, $skip: Int!) {\n      items: ${list.gqlNames.listQueryName}(where: $where, take: $take, skip: $skip) {\n        ${idFieldAlias}: id\n        ${labelFieldAlias}: ${labelField}\n        ${extraSelection}\n      }\n      count: ${list.gqlNames.listQueryCountName}(where: $where)\n    }\n  `;\n  const debouncedSearch = useDebouncedValue(search, 200);\n  const where = useSearchFilter(debouncedSearch, list, searchFields, keystone.adminMeta.lists);\n  const link = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_11__.useApolloClient)().link;\n  // we're using a local apollo client here because writing a global implementation of the typePolicies\n  // would require making assumptions about how pagination should work which won't always be right\n  const apolloClient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => new _apollo_client__WEBPACK_IMPORTED_MODULE_11__.ApolloClient({\n    link,\n    cache: new _apollo_client__WEBPACK_IMPORTED_MODULE_11__.InMemoryCache({\n      typePolicies: {\n        Query: {\n          fields: {\n            [list.gqlNames.listQueryName]: {\n              keyArgs: ['where'],\n              merge: (existing, incoming, {\n                args\n              }) => {\n                const merged = existing ? existing.slice() : [];\n                const {\n                  skip\n                } = args;\n                for (let i = 0; i < incoming.length; ++i) {\n                  merged[skip + i] = incoming[i];\n                }\n                return merged;\n              }\n            }\n          }\n        }\n      }\n    })\n  }), [link, list.gqlNames.listQueryName]);\n  const initialItemsToLoad = Math.min(list.pageSize, 10);\n  const subsequentItemsToLoad = Math.min(list.pageSize, 50);\n  const {\n    data,\n    error,\n    loading,\n    fetchMore\n  } = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_11__.useQuery)(QUERY, {\n    fetchPolicy: 'network-only',\n    variables: {\n      where,\n      take: initialItemsToLoad,\n      skip: 0\n    },\n    client: apolloClient\n  });\n  const count = (data === null || data === void 0 ? void 0 : data.count) || 0;\n  const options = (data === null || data === void 0 || (_data$items = data.items) === null || _data$items === void 0 ? void 0 : _data$items.map(({\n    [idFieldAlias]: value,\n    [labelFieldAlias]: label,\n    ...data\n  }) => ({\n    value,\n    label: label || value,\n    data\n  }))) || [];\n  const loadingIndicatorContextVal = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({\n    count,\n    ref: setLoadingIndicatorElement\n  }), [count]);\n\n  // we want to avoid fetching more again and `loading` from Apollo\n  // doesn't seem to become true when fetching more\n  const [lastFetchMore, setLastFetchMore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  useIntersectionObserver(([{\n    isIntersecting\n  }]) => {\n    const skip = data === null || data === void 0 ? void 0 : data.items.length;\n    if (!loading && skip && isIntersecting && options.length < count && ((lastFetchMore === null || lastFetchMore === void 0 ? void 0 : lastFetchMore.extraSelection) !== extraSelection || (lastFetchMore === null || lastFetchMore === void 0 ? void 0 : lastFetchMore.where) !== where || (lastFetchMore === null || lastFetchMore === void 0 ? void 0 : lastFetchMore.list) !== list || (lastFetchMore === null || lastFetchMore === void 0 ? void 0 : lastFetchMore.skip) !== skip)) {\n      const QUERY = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_11__.gql)`\n          query RelationshipSelectMore($where: ${list.gqlNames.whereInputName}!, $take: Int!, $skip: Int!) {\n            items: ${list.gqlNames.listQueryName}(where: $where, take: $take, skip: $skip) {\n              ${labelFieldAlias}: ${labelField}\n              ${idFieldAlias}: id\n              ${extraSelection}\n            }\n          }\n        `;\n      setLastFetchMore({\n        extraSelection,\n        list,\n        skip,\n        where\n      });\n      fetchMore({\n        query: QUERY,\n        variables: {\n          where,\n          take: subsequentItemsToLoad,\n          skip\n        }\n      }).then(() => {\n        setLastFetchMore(null);\n      }).catch(() => {\n        setLastFetchMore(null);\n      });\n    }\n  }, {\n    current: loadingIndicatorElement\n  });\n\n  // TODO: better error UI\n  // TODO: Handle permission errors\n  // (ie; user has permission to read this relationship field, but\n  // not the related list, or some items on the list)\n  if (error) {\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", null, \"Error\");\n  }\n  if (state.kind === 'one') {\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicatorContext.Provider, {\n      value: loadingIndicatorContextVal\n    }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_2__.jsx)(_keystone_ui_fields__WEBPACK_IMPORTED_MODULE_3__.Select\n    // this is necessary because react-select passes a second argument to onInputChange\n    // and useState setters log a warning if a second argument is passed\n    , {\n      onInputChange: val => setSearch(val),\n      isLoading: loading || isLoading,\n      autoFocus: autoFocus,\n      components: relationshipSelectComponents,\n      portalMenu: portalMenu,\n      value: state.value ? {\n        value: state.value.id,\n        label: state.value.label,\n        // @ts-expect-error\n        data: state.value.data\n      } : null,\n      options: options,\n      onChange: value => {\n        state.onChange(value ? {\n          id: value.value,\n          label: value.label,\n          data: value.data\n        } : null);\n      },\n      placeholder: placeholder,\n      controlShouldRenderValue: controlShouldRenderValue,\n      isClearable: controlShouldRenderValue,\n      isDisabled: isDisabled\n    }));\n  }\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicatorContext.Provider, {\n    value: loadingIndicatorContextVal\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_2__.jsx)(_keystone_ui_fields__WEBPACK_IMPORTED_MODULE_3__.MultiSelect // this is necessary because react-select passes a second argument to onInputChange\n  // and useState setters log a warning if a second argument is passed\n  , {\n    onInputChange: val => setSearch(val),\n    isLoading: loading || isLoading,\n    autoFocus: autoFocus,\n    components: relationshipSelectComponents,\n    portalMenu: portalMenu,\n    value: state.value.map(value => ({\n      value: value.id,\n      label: value.label,\n      data: value.data\n    })),\n    options: options,\n    onChange: value => {\n      state.onChange(value.map(x => ({\n        id: x.value,\n        label: x.label,\n        data: x.data\n      })));\n    },\n    placeholder: placeholder,\n    controlShouldRenderValue: controlShouldRenderValue,\n    isClearable: controlShouldRenderValue,\n    isDisabled: isDisabled\n  }));\n}\nconst relationshipSelectComponents = {\n  MenuList: ({\n    children,\n    ...props\n  }) => {\n    const {\n      count,\n      ref\n    } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(LoadingIndicatorContext);\n    return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_2__.jsx)(_keystone_ui_fields__WEBPACK_IMPORTED_MODULE_3__.selectComponents.MenuList, props, children, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n      css: {\n        textAlign: 'center'\n      },\n      ref: ref\n    }, props.options.length < count && (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", {\n      css: {\n        padding: 8\n      }\n    }, \"Loading...\")));\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9SZWxhdGlvbnNoaXBTZWxlY3QvZGlzdC9rZXlzdG9uZS02LWNvcmUtZmllbGRzLXR5cGVzLXJlbGF0aW9uc2hpcC12aWV3cy1SZWxhdGlvbnNoaXBTZWxlY3QuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDeUQ7QUFDaEQ7QUFDb0M7QUFDaUI7QUFDaUI7QUFDbEY7QUFDRTtBQUNEO0FBQ0M7QUFDUDtBQUM0QztBQUNSOztBQUUzRDtBQUNBO0FBQ0EsZ0JBQWdCLDZDQUFNO0FBQ3RCLEVBQUUsZ0RBQVM7QUFDWDtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1gscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDhDQUE4QywrQ0FBUTtBQUN0RCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsVUFBVSxHQUFHO0FBQ3ZFO0FBQ0E7QUFDQSxTQUFTLDhDQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLEVBQUUsaURBQVU7QUFDbEIsV0FBVyxzREFBRyxDQUFDLGlFQUFnQiw0QkFBNEIsc0RBQUc7QUFDOUQ7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUssa0NBQWtDLHNEQUFHO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUUrQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS02L2NvcmUvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9SZWxhdGlvbnNoaXBTZWxlY3QvZGlzdC9rZXlzdG9uZS02LWNvcmUtZmllbGRzLXR5cGVzLXJlbGF0aW9uc2hpcC12aWV3cy1SZWxhdGlvbnNoaXBTZWxlY3QuZXNtLmpzP2ZjYmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdpbnRlcnNlY3Rpb24tb2JzZXJ2ZXInO1xuaW1wb3J0IHsgdXNlTWVtbywgdXNlU3RhdGUsIHVzZUNvbnRleHQsIHVzZVJlZiwgdXNlRWZmZWN0LCBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4IH0gZnJvbSAnQGtleXN0b25lLXVpL2NvcmUnO1xuaW1wb3J0IHsgU2VsZWN0LCBNdWx0aVNlbGVjdCwgc2VsZWN0Q29tcG9uZW50cyB9IGZyb20gJ0BrZXlzdG9uZS11aS9maWVsZHMnO1xuaW1wb3J0IHsgZ3FsLCB1c2VBcG9sbG9DbGllbnQsIEFwb2xsb0NsaWVudCwgSW5NZW1vcnlDYWNoZSwgdXNlUXVlcnkgfSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5pbXBvcnQgeyB1c2VLZXlzdG9uZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL2FkbWluLXVpL2NvbnRleHQvZGlzdC9rZXlzdG9uZS02LWNvcmUtYWRtaW4tdWktY29udGV4dC5lc20uanMnO1xuaW1wb3J0ICdAa2V5c3RvbmUtdWkvdG9hc3QnO1xuaW1wb3J0ICdAa2V5c3RvbmUtdWkvbG9hZGluZyc7XG5pbXBvcnQgJ0BrZXlzdG9uZS11aS9tb2RhbHMnO1xuaW1wb3J0ICdhcG9sbG8tdXBsb2FkLWNsaWVudCc7XG5pbXBvcnQgJ0BlbW90aW9uL2hhc2gnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi8uLi9kaXN0L2FkbWluLW1ldGEtZ3JhcGhxbC0zNTI0YzEzNy5lc20uanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi8uLi9kaXN0L2RhdGFHZXR0ZXItNTRmYThmNmIuZXNtLmpzJztcblxuLyoqIEBqc3hSdW50aW1lIGNsYXNzaWMgKi9cbmZ1bmN0aW9uIHVzZUludGVyc2VjdGlvbk9ic2VydmVyKGNiLCByZWYpIHtcbiAgY29uc3QgY2JSZWYgPSB1c2VSZWYoY2IpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNiUmVmLmN1cnJlbnQgPSBjYjtcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKC4uLmFyZ3MpID0+IGNiUmVmLmN1cnJlbnQoLi4uYXJncyksIHt9KTtcbiAgICBjb25zdCBub2RlID0gcmVmLmN1cnJlbnQ7XG4gICAgaWYgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSk7XG4gICAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIudW5vYnNlcnZlKG5vZGUpO1xuICAgIH1cbiAgfSwgW3JlZl0pO1xufVxuZnVuY3Rpb24gdXNlRGVib3VuY2VkVmFsdWUodmFsdWUsIGxpbWl0TXMpIHtcbiAgY29uc3QgW2RlYm91bmNlZFZhbHVlLCBzZXREZWJvdW5jZWRWYWx1ZV0gPSB1c2VTdGF0ZSgoKSA9PiB2YWx1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0RGVib3VuY2VkVmFsdWUoKCkgPT4gdmFsdWUpO1xuICAgIH0sIGxpbWl0TXMpO1xuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gIH0sIFt2YWx1ZSwgbGltaXRNc10pO1xuICByZXR1cm4gZGVib3VuY2VkVmFsdWU7XG59XG5mdW5jdGlvbiBpc0ludCh4KSB7XG4gIHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcih4KSk7XG59XG5mdW5jdGlvbiBpc0JpZ0ludCh4KSB7XG4gIHRyeSB7XG4gICAgQmlnSW50KHgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vLyBUT0RPOiB0aGlzIGlzIHVuZm9ydHVuYXRlLCByZW1vdmUgaW4gYnJlYWtpbmcgY2hhbmdlP1xuZnVuY3Rpb24gaXNVdWlkKHgpIHtcbiAgaWYgKHR5cGVvZiB4ICE9PSAnc3RyaW5nJykgcmV0dXJuO1xuICBpZiAoeC5sZW5ndGggIT09IDM2KSByZXR1cm47XG4gIHJldHVybiAvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezEyfSQvaS50ZXN0KHgpO1xufVxuZnVuY3Rpb24gdXNlU2VhcmNoRmlsdGVyKHZhbHVlLCBsaXN0LCBzZWFyY2hGaWVsZHMsIGxpc3RzKSB7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB0cmltbWVkU2VhcmNoID0gdmFsdWUudHJpbSgpO1xuICAgIGlmICghdHJpbW1lZFNlYXJjaC5sZW5ndGgpIHJldHVybiB7XG4gICAgICBPUjogW11cbiAgICB9O1xuICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBbXTtcbiAgICBjb25zdCBpZEZpZWxkID0gbGlzdC5maWVsZHMuaWQuZmllbGRNZXRhO1xuICAgIGlmIChpZEZpZWxkLnR5cGUgPT09ICdTdHJpbmcnKSB7XG4gICAgICAvLyBUT0RPOiByZW1vdmUgaW4gYnJlYWtpbmcgY2hhbmdlP1xuICAgICAgaWYgKGlkRmllbGQua2luZCA9PT0gJ3V1aWQnKSB7XG4gICAgICAgIGlmIChpc1V1aWQodmFsdWUpKSB7XG4gICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgIGVxdWFsczogdHJpbW1lZFNlYXJjaFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25kaXRpb25zLnB1c2goe1xuICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICBlcXVhbHM6IHRyaW1tZWRTZWFyY2hcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaWRGaWVsZC50eXBlID09PSAnSW50JyAmJiBpc0ludCh0cmltbWVkU2VhcmNoKSkge1xuICAgICAgY29uZGl0aW9ucy5wdXNoKHtcbiAgICAgICAgaWQ6IHtcbiAgICAgICAgICBlcXVhbHM6IE51bWJlcih0cmltbWVkU2VhcmNoKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGlkRmllbGQudHlwZSA9PT0gJ0JpZ0ludCcgJiYgaXNCaWdJbnQodHJpbW1lZFNlYXJjaCkpIHtcbiAgICAgIGNvbmRpdGlvbnMucHVzaCh7XG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgZXF1YWxzOiB0cmltbWVkU2VhcmNoXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGZpZWxkS2V5IG9mIHNlYXJjaEZpZWxkcykge1xuICAgICAgdmFyIF9maWVsZCRmaWVsZE1ldGE7XG4gICAgICBjb25zdCBmaWVsZCA9IGxpc3QuZmllbGRzW2ZpZWxkS2V5XTtcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiBmaXggZmllbGRNZXRhIHR5cGUgZm9yIHJlbGF0aW9uc2hpcCBmaWVsZHNcbiAgICAgIGlmICgoX2ZpZWxkJGZpZWxkTWV0YSA9IGZpZWxkLmZpZWxkTWV0YSkgIT09IG51bGwgJiYgX2ZpZWxkJGZpZWxkTWV0YSAhPT0gdm9pZCAwICYmIF9maWVsZCRmaWVsZE1ldGEucmVmU2VhcmNoRmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE86IGZpeCBmaWVsZE1ldGEgdHlwZSBmb3IgcmVsYXRpb25zaGlwIGZpZWxkc1xuICAgICAgICAgIHJlZkxpc3RLZXksXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiBmaXggZmllbGRNZXRhIHR5cGUgZm9yIHJlbGF0aW9uc2hpcCBmaWVsZHNcbiAgICAgICAgICByZWZTZWFyY2hGaWVsZHMsXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiBmaXggZmllbGRNZXRhIHR5cGUgZm9yIHJlbGF0aW9uc2hpcCBmaWVsZHNcbiAgICAgICAgICBtYW55ID0gZmFsc2VcbiAgICAgICAgfSA9IGZpZWxkLmZpZWxkTWV0YTtcbiAgICAgICAgY29uc3QgcmVmTGlzdCA9IGxpc3RzW3JlZkxpc3RLZXldO1xuICAgICAgICBmb3IgKGNvbnN0IHJlZkZpZWxkS2V5IG9mIHJlZlNlYXJjaEZpZWxkcykge1xuICAgICAgICAgIGNvbnN0IHJlZkZpZWxkID0gcmVmTGlzdC5maWVsZHNbcmVmRmllbGRLZXldO1xuICAgICAgICAgIGlmICghcmVmRmllbGQuc2VhcmNoKSBjb250aW51ZTsgLy8gV0FSTklORzogd2UgZG9udCBzdXBwb3J0IGRlcHRoID4gMlxuXG4gICAgICAgICAgaWYgKG1hbnkpIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgIFtmaWVsZEtleV06IHtcbiAgICAgICAgICAgICAgICBzb21lOiB7XG4gICAgICAgICAgICAgICAgICBbcmVmRmllbGRLZXldOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zOiB0cmltbWVkU2VhcmNoLFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiByZWZGaWVsZC5zZWFyY2ggPT09ICdpbnNlbnNpdGl2ZScgPyAnaW5zZW5zaXRpdmUnIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25kaXRpb25zLnB1c2goe1xuICAgICAgICAgICAgW2ZpZWxkS2V5XToge1xuICAgICAgICAgICAgICBbcmVmRmllbGRLZXldOiB7XG4gICAgICAgICAgICAgICAgY29udGFpbnM6IHRyaW1tZWRTZWFyY2gsXG4gICAgICAgICAgICAgICAgbW9kZTogcmVmRmllbGQuc2VhcmNoID09PSAnaW5zZW5zaXRpdmUnID8gJ2luc2Vuc2l0aXZlJyA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25kaXRpb25zLnB1c2goe1xuICAgICAgICBbZmllbGQucGF0aF06IHtcbiAgICAgICAgICBjb250YWluczogdHJpbW1lZFNlYXJjaCxcbiAgICAgICAgICBtb2RlOiBmaWVsZC5zZWFyY2ggPT09ICdpbnNlbnNpdGl2ZScgPyAnaW5zZW5zaXRpdmUnIDogdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgT1I6IGNvbmRpdGlvbnNcbiAgICB9O1xuICB9LCBbdmFsdWUsIGxpc3QsIHNlYXJjaEZpZWxkc10pO1xufVxuY29uc3QgaWRGaWVsZEFsaWFzID0gJ19fX19pZF9fX18nO1xuY29uc3QgbGFiZWxGaWVsZEFsaWFzID0gJ19fX19sYWJlbF9fX18nO1xuY29uc3QgTG9hZGluZ0luZGljYXRvckNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dCh7XG4gIGNvdW50OiAwLFxuICByZWY6ICgpID0+IHt9XG59KTtcbmZ1bmN0aW9uIFJlbGF0aW9uc2hpcFNlbGVjdCh7XG4gIGF1dG9Gb2N1cyxcbiAgY29udHJvbFNob3VsZFJlbmRlclZhbHVlLFxuICBpc0Rpc2FibGVkLFxuICBpc0xvYWRpbmcsXG4gIGxhYmVsRmllbGQsXG4gIHNlYXJjaEZpZWxkcyxcbiAgbGlzdCxcbiAgcGxhY2Vob2xkZXIsXG4gIHBvcnRhbE1lbnUsXG4gIHN0YXRlLFxuICBleHRyYVNlbGVjdGlvbiA9ICcnXG59KSB7XG4gIHZhciBfZGF0YSRpdGVtcztcbiAgY29uc3Qga2V5c3RvbmUgPSB1c2VLZXlzdG9uZSgpO1xuICBjb25zdCBbc2VhcmNoLCBzZXRTZWFyY2hdID0gdXNlU3RhdGUoJycpO1xuICAvLyBub3RlIGl0J3MgaW1wb3J0YW50IHRoYXQgdGhpcyBpcyBpbiBzdGF0ZSByYXRoZXIgdGhhbiBhIHJlZlxuICAvLyBiZWNhdXNlIHdlIHdhbnQgYSByZS1yZW5kZXIgaWYgdGhlIGVsZW1lbnQgY2hhbmdlc1xuICAvLyBzbyB0aGF0IHdlIGNhbiByZWdpc3RlciB0aGUgaW50ZXJzZWN0aW9uIG9ic2VydmVyXG4gIC8vIG9uIHRoZSByaWdodCBlbGVtZW50XG4gIGNvbnN0IFtsb2FkaW5nSW5kaWNhdG9yRWxlbWVudCwgc2V0TG9hZGluZ0luZGljYXRvckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFFVRVJZID0gZ3FsYFxuICAgIHF1ZXJ5IFJlbGF0aW9uc2hpcFNlbGVjdCgkd2hlcmU6ICR7bGlzdC5ncWxOYW1lcy53aGVyZUlucHV0TmFtZX0hLCAkdGFrZTogSW50ISwgJHNraXA6IEludCEpIHtcbiAgICAgIGl0ZW1zOiAke2xpc3QuZ3FsTmFtZXMubGlzdFF1ZXJ5TmFtZX0od2hlcmU6ICR3aGVyZSwgdGFrZTogJHRha2UsIHNraXA6ICRza2lwKSB7XG4gICAgICAgICR7aWRGaWVsZEFsaWFzfTogaWRcbiAgICAgICAgJHtsYWJlbEZpZWxkQWxpYXN9OiAke2xhYmVsRmllbGR9XG4gICAgICAgICR7ZXh0cmFTZWxlY3Rpb259XG4gICAgICB9XG4gICAgICBjb3VudDogJHtsaXN0LmdxbE5hbWVzLmxpc3RRdWVyeUNvdW50TmFtZX0od2hlcmU6ICR3aGVyZSlcbiAgICB9XG4gIGA7XG4gIGNvbnN0IGRlYm91bmNlZFNlYXJjaCA9IHVzZURlYm91bmNlZFZhbHVlKHNlYXJjaCwgMjAwKTtcbiAgY29uc3Qgd2hlcmUgPSB1c2VTZWFyY2hGaWx0ZXIoZGVib3VuY2VkU2VhcmNoLCBsaXN0LCBzZWFyY2hGaWVsZHMsIGtleXN0b25lLmFkbWluTWV0YS5saXN0cyk7XG4gIGNvbnN0IGxpbmsgPSB1c2VBcG9sbG9DbGllbnQoKS5saW5rO1xuICAvLyB3ZSdyZSB1c2luZyBhIGxvY2FsIGFwb2xsbyBjbGllbnQgaGVyZSBiZWNhdXNlIHdyaXRpbmcgYSBnbG9iYWwgaW1wbGVtZW50YXRpb24gb2YgdGhlIHR5cGVQb2xpY2llc1xuICAvLyB3b3VsZCByZXF1aXJlIG1ha2luZyBhc3N1bXB0aW9ucyBhYm91dCBob3cgcGFnaW5hdGlvbiBzaG91bGQgd29yayB3aGljaCB3b24ndCBhbHdheXMgYmUgcmlnaHRcbiAgY29uc3QgYXBvbGxvQ2xpZW50ID0gdXNlTWVtbygoKSA9PiBuZXcgQXBvbGxvQ2xpZW50KHtcbiAgICBsaW5rLFxuICAgIGNhY2hlOiBuZXcgSW5NZW1vcnlDYWNoZSh7XG4gICAgICB0eXBlUG9saWNpZXM6IHtcbiAgICAgICAgUXVlcnk6IHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIFtsaXN0LmdxbE5hbWVzLmxpc3RRdWVyeU5hbWVdOiB7XG4gICAgICAgICAgICAgIGtleUFyZ3M6IFsnd2hlcmUnXSxcbiAgICAgICAgICAgICAgbWVyZ2U6IChleGlzdGluZywgaW5jb21pbmcsIHtcbiAgICAgICAgICAgICAgICBhcmdzXG4gICAgICAgICAgICAgIH0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBleGlzdGluZyA/IGV4aXN0aW5nLnNsaWNlKCkgOiBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgICBza2lwXG4gICAgICAgICAgICAgICAgfSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmNvbWluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgbWVyZ2VkW3NraXAgKyBpXSA9IGluY29taW5nW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfSksIFtsaW5rLCBsaXN0LmdxbE5hbWVzLmxpc3RRdWVyeU5hbWVdKTtcbiAgY29uc3QgaW5pdGlhbEl0ZW1zVG9Mb2FkID0gTWF0aC5taW4obGlzdC5wYWdlU2l6ZSwgMTApO1xuICBjb25zdCBzdWJzZXF1ZW50SXRlbXNUb0xvYWQgPSBNYXRoLm1pbihsaXN0LnBhZ2VTaXplLCA1MCk7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIGVycm9yLFxuICAgIGxvYWRpbmcsXG4gICAgZmV0Y2hNb3JlXG4gIH0gPSB1c2VRdWVyeShRVUVSWSwge1xuICAgIGZldGNoUG9saWN5OiAnbmV0d29yay1vbmx5JyxcbiAgICB2YXJpYWJsZXM6IHtcbiAgICAgIHdoZXJlLFxuICAgICAgdGFrZTogaW5pdGlhbEl0ZW1zVG9Mb2FkLFxuICAgICAgc2tpcDogMFxuICAgIH0sXG4gICAgY2xpZW50OiBhcG9sbG9DbGllbnRcbiAgfSk7XG4gIGNvbnN0IGNvdW50ID0gKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5jb3VudCkgfHwgMDtcbiAgY29uc3Qgb3B0aW9ucyA9IChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCB8fCAoX2RhdGEkaXRlbXMgPSBkYXRhLml0ZW1zKSA9PT0gbnVsbCB8fCBfZGF0YSRpdGVtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RhdGEkaXRlbXMubWFwKCh7XG4gICAgW2lkRmllbGRBbGlhc106IHZhbHVlLFxuICAgIFtsYWJlbEZpZWxkQWxpYXNdOiBsYWJlbCxcbiAgICAuLi5kYXRhXG4gIH0pID0+ICh7XG4gICAgdmFsdWUsXG4gICAgbGFiZWw6IGxhYmVsIHx8IHZhbHVlLFxuICAgIGRhdGFcbiAgfSkpKSB8fCBbXTtcbiAgY29uc3QgbG9hZGluZ0luZGljYXRvckNvbnRleHRWYWwgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgY291bnQsXG4gICAgcmVmOiBzZXRMb2FkaW5nSW5kaWNhdG9yRWxlbWVudFxuICB9KSwgW2NvdW50XSk7XG5cbiAgLy8gd2Ugd2FudCB0byBhdm9pZCBmZXRjaGluZyBtb3JlIGFnYWluIGFuZCBgbG9hZGluZ2AgZnJvbSBBcG9sbG9cbiAgLy8gZG9lc24ndCBzZWVtIHRvIGJlY29tZSB0cnVlIHdoZW4gZmV0Y2hpbmcgbW9yZVxuICBjb25zdCBbbGFzdEZldGNoTW9yZSwgc2V0TGFzdEZldGNoTW9yZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKFt7XG4gICAgaXNJbnRlcnNlY3RpbmdcbiAgfV0pID0+IHtcbiAgICBjb25zdCBza2lwID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLml0ZW1zLmxlbmd0aDtcbiAgICBpZiAoIWxvYWRpbmcgJiYgc2tpcCAmJiBpc0ludGVyc2VjdGluZyAmJiBvcHRpb25zLmxlbmd0aCA8IGNvdW50ICYmICgobGFzdEZldGNoTW9yZSA9PT0gbnVsbCB8fCBsYXN0RmV0Y2hNb3JlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXN0RmV0Y2hNb3JlLmV4dHJhU2VsZWN0aW9uKSAhPT0gZXh0cmFTZWxlY3Rpb24gfHwgKGxhc3RGZXRjaE1vcmUgPT09IG51bGwgfHwgbGFzdEZldGNoTW9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGFzdEZldGNoTW9yZS53aGVyZSkgIT09IHdoZXJlIHx8IChsYXN0RmV0Y2hNb3JlID09PSBudWxsIHx8IGxhc3RGZXRjaE1vcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxhc3RGZXRjaE1vcmUubGlzdCkgIT09IGxpc3QgfHwgKGxhc3RGZXRjaE1vcmUgPT09IG51bGwgfHwgbGFzdEZldGNoTW9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGFzdEZldGNoTW9yZS5za2lwKSAhPT0gc2tpcCkpIHtcbiAgICAgIGNvbnN0IFFVRVJZID0gZ3FsYFxuICAgICAgICAgIHF1ZXJ5IFJlbGF0aW9uc2hpcFNlbGVjdE1vcmUoJHdoZXJlOiAke2xpc3QuZ3FsTmFtZXMud2hlcmVJbnB1dE5hbWV9ISwgJHRha2U6IEludCEsICRza2lwOiBJbnQhKSB7XG4gICAgICAgICAgICBpdGVtczogJHtsaXN0LmdxbE5hbWVzLmxpc3RRdWVyeU5hbWV9KHdoZXJlOiAkd2hlcmUsIHRha2U6ICR0YWtlLCBza2lwOiAkc2tpcCkge1xuICAgICAgICAgICAgICAke2xhYmVsRmllbGRBbGlhc306ICR7bGFiZWxGaWVsZH1cbiAgICAgICAgICAgICAgJHtpZEZpZWxkQWxpYXN9OiBpZFxuICAgICAgICAgICAgICAke2V4dHJhU2VsZWN0aW9ufVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgYDtcbiAgICAgIHNldExhc3RGZXRjaE1vcmUoe1xuICAgICAgICBleHRyYVNlbGVjdGlvbixcbiAgICAgICAgbGlzdCxcbiAgICAgICAgc2tpcCxcbiAgICAgICAgd2hlcmVcbiAgICAgIH0pO1xuICAgICAgZmV0Y2hNb3JlKHtcbiAgICAgICAgcXVlcnk6IFFVRVJZLFxuICAgICAgICB2YXJpYWJsZXM6IHtcbiAgICAgICAgICB3aGVyZSxcbiAgICAgICAgICB0YWtlOiBzdWJzZXF1ZW50SXRlbXNUb0xvYWQsXG4gICAgICAgICAgc2tpcFxuICAgICAgICB9XG4gICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgc2V0TGFzdEZldGNoTW9yZShudWxsKTtcbiAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgc2V0TGFzdEZldGNoTW9yZShudWxsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGN1cnJlbnQ6IGxvYWRpbmdJbmRpY2F0b3JFbGVtZW50XG4gIH0pO1xuXG4gIC8vIFRPRE86IGJldHRlciBlcnJvciBVSVxuICAvLyBUT0RPOiBIYW5kbGUgcGVybWlzc2lvbiBlcnJvcnNcbiAgLy8gKGllOyB1c2VyIGhhcyBwZXJtaXNzaW9uIHRvIHJlYWQgdGhpcyByZWxhdGlvbnNoaXAgZmllbGQsIGJ1dFxuICAvLyBub3QgdGhlIHJlbGF0ZWQgbGlzdCwgb3Igc29tZSBpdGVtcyBvbiB0aGUgbGlzdClcbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIGpzeChcInNwYW5cIiwgbnVsbCwgXCJFcnJvclwiKTtcbiAgfVxuICBpZiAoc3RhdGUua2luZCA9PT0gJ29uZScpIHtcbiAgICByZXR1cm4ganN4KExvYWRpbmdJbmRpY2F0b3JDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZTogbG9hZGluZ0luZGljYXRvckNvbnRleHRWYWxcbiAgICB9LCBqc3goU2VsZWN0XG4gICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSByZWFjdC1zZWxlY3QgcGFzc2VzIGEgc2Vjb25kIGFyZ3VtZW50IHRvIG9uSW5wdXRDaGFuZ2VcbiAgICAvLyBhbmQgdXNlU3RhdGUgc2V0dGVycyBsb2cgYSB3YXJuaW5nIGlmIGEgc2Vjb25kIGFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICwge1xuICAgICAgb25JbnB1dENoYW5nZTogdmFsID0+IHNldFNlYXJjaCh2YWwpLFxuICAgICAgaXNMb2FkaW5nOiBsb2FkaW5nIHx8IGlzTG9hZGluZyxcbiAgICAgIGF1dG9Gb2N1czogYXV0b0ZvY3VzLFxuICAgICAgY29tcG9uZW50czogcmVsYXRpb25zaGlwU2VsZWN0Q29tcG9uZW50cyxcbiAgICAgIHBvcnRhbE1lbnU6IHBvcnRhbE1lbnUsXG4gICAgICB2YWx1ZTogc3RhdGUudmFsdWUgPyB7XG4gICAgICAgIHZhbHVlOiBzdGF0ZS52YWx1ZS5pZCxcbiAgICAgICAgbGFiZWw6IHN0YXRlLnZhbHVlLmxhYmVsLFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIGRhdGE6IHN0YXRlLnZhbHVlLmRhdGFcbiAgICAgIH0gOiBudWxsLFxuICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgIG9uQ2hhbmdlOiB2YWx1ZSA9PiB7XG4gICAgICAgIHN0YXRlLm9uQ2hhbmdlKHZhbHVlID8ge1xuICAgICAgICAgIGlkOiB2YWx1ZS52YWx1ZSxcbiAgICAgICAgICBsYWJlbDogdmFsdWUubGFiZWwsXG4gICAgICAgICAgZGF0YTogdmFsdWUuZGF0YVxuICAgICAgICB9IDogbnVsbCk7XG4gICAgICB9LFxuICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgY29udHJvbFNob3VsZFJlbmRlclZhbHVlOiBjb250cm9sU2hvdWxkUmVuZGVyVmFsdWUsXG4gICAgICBpc0NsZWFyYWJsZTogY29udHJvbFNob3VsZFJlbmRlclZhbHVlLFxuICAgICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZFxuICAgIH0pKTtcbiAgfVxuICByZXR1cm4ganN4KExvYWRpbmdJbmRpY2F0b3JDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGxvYWRpbmdJbmRpY2F0b3JDb250ZXh0VmFsXG4gIH0sIGpzeChNdWx0aVNlbGVjdCAvLyB0aGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHJlYWN0LXNlbGVjdCBwYXNzZXMgYSBzZWNvbmQgYXJndW1lbnQgdG8gb25JbnB1dENoYW5nZVxuICAvLyBhbmQgdXNlU3RhdGUgc2V0dGVycyBsb2cgYSB3YXJuaW5nIGlmIGEgc2Vjb25kIGFyZ3VtZW50IGlzIHBhc3NlZFxuICAsIHtcbiAgICBvbklucHV0Q2hhbmdlOiB2YWwgPT4gc2V0U2VhcmNoKHZhbCksXG4gICAgaXNMb2FkaW5nOiBsb2FkaW5nIHx8IGlzTG9hZGluZyxcbiAgICBhdXRvRm9jdXM6IGF1dG9Gb2N1cyxcbiAgICBjb21wb25lbnRzOiByZWxhdGlvbnNoaXBTZWxlY3RDb21wb25lbnRzLFxuICAgIHBvcnRhbE1lbnU6IHBvcnRhbE1lbnUsXG4gICAgdmFsdWU6IHN0YXRlLnZhbHVlLm1hcCh2YWx1ZSA9PiAoe1xuICAgICAgdmFsdWU6IHZhbHVlLmlkLFxuICAgICAgbGFiZWw6IHZhbHVlLmxhYmVsLFxuICAgICAgZGF0YTogdmFsdWUuZGF0YVxuICAgIH0pKSxcbiAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgIG9uQ2hhbmdlOiB2YWx1ZSA9PiB7XG4gICAgICBzdGF0ZS5vbkNoYW5nZSh2YWx1ZS5tYXAoeCA9PiAoe1xuICAgICAgICBpZDogeC52YWx1ZSxcbiAgICAgICAgbGFiZWw6IHgubGFiZWwsXG4gICAgICAgIGRhdGE6IHguZGF0YVxuICAgICAgfSkpKTtcbiAgICB9LFxuICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcbiAgICBjb250cm9sU2hvdWxkUmVuZGVyVmFsdWU6IGNvbnRyb2xTaG91bGRSZW5kZXJWYWx1ZSxcbiAgICBpc0NsZWFyYWJsZTogY29udHJvbFNob3VsZFJlbmRlclZhbHVlLFxuICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWRcbiAgfSkpO1xufVxuY29uc3QgcmVsYXRpb25zaGlwU2VsZWN0Q29tcG9uZW50cyA9IHtcbiAgTWVudUxpc3Q6ICh7XG4gICAgY2hpbGRyZW4sXG4gICAgLi4ucHJvcHNcbiAgfSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvdW50LFxuICAgICAgcmVmXG4gICAgfSA9IHVzZUNvbnRleHQoTG9hZGluZ0luZGljYXRvckNvbnRleHQpO1xuICAgIHJldHVybiBqc3goc2VsZWN0Q29tcG9uZW50cy5NZW51TGlzdCwgcHJvcHMsIGNoaWxkcmVuLCBqc3goXCJkaXZcIiwge1xuICAgICAgY3NzOiB7XG4gICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgIH0sXG4gICAgICByZWY6IHJlZlxuICAgIH0sIHByb3BzLm9wdGlvbnMubGVuZ3RoIDwgY291bnQgJiYganN4KFwic3BhblwiLCB7XG4gICAgICBjc3M6IHtcbiAgICAgICAgcGFkZGluZzogOFxuICAgICAgfVxuICAgIH0sIFwiTG9hZGluZy4uLlwiKSkpO1xuICB9XG59O1xuXG5leHBvcnQgeyBSZWxhdGlvbnNoaXBTZWxlY3QsIHVzZVNlYXJjaEZpbHRlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@keystone-6/core/fields/types/relationship/views/RelationshipSelect/dist/keystone-6-core-fields-types-relationship-views-RelationshipSelect.esm.js\n"));

/***/ }),

/***/ "../../node_modules/@keystone-ui/options/dist/keystone-ui-options.esm.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@keystone-ui/options/dist/keystone-ui-options.esm.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CheckMark: function() { return /* binding */ CheckMark; },\n/* harmony export */   OptionPrimitive: function() { return /* binding */ OptionPrimitive; },\n/* harmony export */   Options: function() { return /* binding */ Options; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"../../node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystone-ui/core */ \"../../node_modules/@keystone-ui/core/dist/keystone-ui-core.esm.js\");\n/* harmony import */ var _keystone_ui_fields__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystone-ui/fields */ \"../../node_modules/@keystone-ui/fields/dist/keystone-ui-fields.esm.js\");\n/* harmony import */ var _keystone_ui_icons_icons_CheckIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystone-ui/icons/icons/CheckIcon */ \"../../node_modules/@keystone-ui/icons/icons/CheckIcon/dist/keystone-ui-icons-icons-CheckIcon.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-select */ \"../../node_modules/react-select/dist/react-select.esm.js\");\n\n\n\n\n\n\n\n\n\nconst _excluded = [\"selectProps\"],\n  _excluded2 = [\"components\"];\nconst CheckMark = _ref => {\n  let {\n    isDisabled,\n    isFocused,\n    isSelected\n  } = _ref;\n  const tokens = (0,_keystone_ui_fields__WEBPACK_IMPORTED_MODULE_4__.useIndicatorTokens)({\n    size: 'medium',\n    type: 'radio'\n  });\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n    className: `${isDisabled ? 'disabled ' : ''}${isFocused ? 'focus ' : ''}${isSelected ? 'selected' : ''}`,\n    css: {\n      alignItems: 'center',\n      backgroundColor: tokens.background,\n      borderColor: tokens.borderColor,\n      borderRadius: tokens.borderRadius,\n      borderStyle: 'solid',\n      borderWidth: tokens.borderWidth,\n      boxSizing: 'border-box',\n      color: tokens.foreground,\n      cursor: 'pointer',\n      display: 'flex',\n      flexShrink: 0,\n      height: tokens.boxSize,\n      justifyContent: 'center',\n      transition: tokens.transition,\n      width: tokens.boxSize,\n      '&.focus': {\n        backgroundColor: tokens.focus.background,\n        borderColor: tokens.focus.borderColor,\n        boxShadow: tokens.focus.shadow,\n        color: tokens.focus.foreground\n      },\n      '&.selected': {\n        backgroundColor: tokens.selected.background,\n        borderColor: tokens.selected.borderColor,\n        boxShadow: tokens.selected.shadow,\n        color: tokens.selected.foreground\n      },\n      '&.disabled': {\n        backgroundColor: tokens.disabled.background,\n        borderColor: tokens.disabled.borderColor,\n        boxShadow: tokens.disabled.shadow,\n        color: tokens.disabled.background,\n        cursor: 'default'\n      },\n      '&.selected.disabled': {\n        color: tokens.disabled.foreground\n      }\n    }\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_icons_icons_CheckIcon__WEBPACK_IMPORTED_MODULE_5__.CheckIcon, {\n    size: \"small\"\n  }));\n};\nconst OptionPrimitive = _ref2 => {\n  let {\n    children,\n    isDisabled,\n    isFocused,\n    innerProps,\n    innerRef,\n    className\n  } = _ref2;\n  const theme = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.useTheme)();\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n    ref: innerRef,\n    className: className,\n    css: {\n      alignItems: 'center',\n      color: isDisabled ? theme.colors.foregroundDim : isFocused ? theme.colors.linkHoverColor : undefined,\n      cursor: 'pointer',\n      display: 'flex',\n      fontSize: '0.9em',\n      fontWeight: 500,\n      justifyContent: 'space-between',\n      background: isFocused ? theme.colors.backgroundHover : undefined,\n      outline: 0,\n      padding: `${theme.spacing.small}px`,\n      pointerEvents: isDisabled ? 'none' : undefined,\n      '&:not(:first-of-type)': {\n        borderTop: `1px solid ${theme.colors.backgroundDim}`\n      },\n      ':hover': {\n        background: theme.colors.backgroundHover,\n        color: theme.colors.linkHoverColor\n      }\n    }\n  }, innerProps), children);\n};\nconst Control = _ref3 => {\n  let {\n      selectProps\n    } = _ref3,\n    props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_ref3, _excluded);\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_select__WEBPACK_IMPORTED_MODULE_7__.components.Control, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n    selectProps: selectProps\n  }, props));\n};\nconst defaultComponents = {\n  Control,\n  Option: OptionPrimitive,\n  DropdownIndicator: null,\n  IndicatorSeparator: null\n};\nconst Options = _ref4 => {\n  let {\n      components: propComponents\n    } = _ref4,\n    props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_ref4, _excluded2);\n  const components = (0,react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(() => (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, defaultComponents), propComponents), [propComponents]);\n  const theme = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.useTheme)();\n  const optionRendererStyles = (0,react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(() => ({\n    control: provided => (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, provided), {}, {\n      background: theme.fields.inputBackground,\n      boxShadow: 'none',\n      cursor: 'text',\n      padding: 0,\n      minHeight: 34\n    }),\n    menu: () => ({\n      marginTop: 8\n    }),\n    menuList: provided => (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, provided), {}, {\n      padding: 0\n    }),\n    placeholder: provided => (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, provided), {}, {\n      color: theme.fields.inputPlaceholder\n    })\n  }), [theme]);\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_select__WEBPACK_IMPORTED_MODULE_7__[\"default\"], (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n    backspaceRemovesValue: false,\n    captureMenuScroll: false,\n    closeMenuOnSelect: false,\n    controlShouldRenderValue: false,\n    hideSelectedOptions: false,\n    isClearable: false,\n    isSearchable: true,\n    maxMenuHeight: 1000,\n    menuIsOpen: true,\n    menuShouldScrollIntoView: false,\n    styles: optionRendererStyles\n    // TODO: JW: Not a fan of this, but it doesn't seem to make a difference\n    // if we take it out. react-select bug maybe?\n    ,\n    tabSelectsValue: false,\n    components: components\n  }, props));\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS11aS9vcHRpb25zL2Rpc3Qva2V5c3RvbmUtdWktb3B0aW9ucy5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXFFO0FBQ3FCO0FBQ2hDO0FBQ1I7QUFDTztBQUNNO0FBQy9CO0FBQ3VCOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixpQkFBaUIsdUVBQWtCO0FBQ25DO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyxzREFBRztBQUNaLGtCQUFrQiw4QkFBOEIsRUFBRSwwQkFBMEIsRUFBRSw2QkFBNkI7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLHNEQUFHLENBQUMseUVBQVM7QUFDbEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGdCQUFnQiwyREFBUTtBQUN4QixTQUFTLHNEQUFHLFFBQVEsOEVBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QztBQUNBO0FBQ0EsZ0NBQWdDLDJCQUEyQjtBQUMzRCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixZQUFZLDhGQUF3QjtBQUNwQyxTQUFTLHNEQUFHLENBQUMsb0RBQVUsVUFBVSw4RUFBUTtBQUN6QztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixZQUFZLDhGQUF3QjtBQUNwQyxxQkFBcUIsOENBQU8sT0FBTyxvRkFBYSxDQUFDLG9GQUFhLEdBQUc7QUFDakUsZ0JBQWdCLDJEQUFRO0FBQ3hCLCtCQUErQiw4Q0FBTztBQUN0Qyx5QkFBeUIsb0ZBQWEsQ0FBQyxvRkFBYSxHQUFHLGVBQWU7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLDBCQUEwQixvRkFBYSxDQUFDLG9GQUFhLEdBQUcsZUFBZTtBQUN2RTtBQUNBLEtBQUs7QUFDTCw2QkFBNkIsb0ZBQWEsQ0FBQyxvRkFBYSxHQUFHLGVBQWU7QUFDMUU7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILFNBQVMsc0RBQUcsQ0FBQyxvREFBVyxFQUFFLDhFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUUrQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS11aS9vcHRpb25zL2Rpc3Qva2V5c3RvbmUtdWktb3B0aW9ucy5lc20uanM/M2MzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHsganN4LCB1c2VUaGVtZSB9IGZyb20gJ0BrZXlzdG9uZS11aS9jb3JlJztcbmltcG9ydCB7IHVzZUluZGljYXRvclRva2VucyB9IGZyb20gJ0BrZXlzdG9uZS11aS9maWVsZHMnO1xuaW1wb3J0IHsgQ2hlY2tJY29uIH0gZnJvbSAnQGtleXN0b25lLXVpL2ljb25zL2ljb25zL0NoZWNrSWNvbic7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0U2VsZWN0LCB7IGNvbXBvbmVudHMgfSBmcm9tICdyZWFjdC1zZWxlY3QnO1xuXG5jb25zdCBfZXhjbHVkZWQgPSBbXCJzZWxlY3RQcm9wc1wiXSxcbiAgX2V4Y2x1ZGVkMiA9IFtcImNvbXBvbmVudHNcIl07XG5jb25zdCBDaGVja01hcmsgPSBfcmVmID0+IHtcbiAgbGV0IHtcbiAgICBpc0Rpc2FibGVkLFxuICAgIGlzRm9jdXNlZCxcbiAgICBpc1NlbGVjdGVkXG4gIH0gPSBfcmVmO1xuICBjb25zdCB0b2tlbnMgPSB1c2VJbmRpY2F0b3JUb2tlbnMoe1xuICAgIHNpemU6ICdtZWRpdW0nLFxuICAgIHR5cGU6ICdyYWRpbydcbiAgfSk7XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogYCR7aXNEaXNhYmxlZCA/ICdkaXNhYmxlZCAnIDogJyd9JHtpc0ZvY3VzZWQgPyAnZm9jdXMgJyA6ICcnfSR7aXNTZWxlY3RlZCA/ICdzZWxlY3RlZCcgOiAnJ31gLFxuICAgIGNzczoge1xuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRva2Vucy5iYWNrZ3JvdW5kLFxuICAgICAgYm9yZGVyQ29sb3I6IHRva2Vucy5ib3JkZXJDb2xvcixcbiAgICAgIGJvcmRlclJhZGl1czogdG9rZW5zLmJvcmRlclJhZGl1cyxcbiAgICAgIGJvcmRlclN0eWxlOiAnc29saWQnLFxuICAgICAgYm9yZGVyV2lkdGg6IHRva2Vucy5ib3JkZXJXaWR0aCxcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgY29sb3I6IHRva2Vucy5mb3JlZ3JvdW5kLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgaGVpZ2h0OiB0b2tlbnMuYm94U2l6ZSxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIHRyYW5zaXRpb246IHRva2Vucy50cmFuc2l0aW9uLFxuICAgICAgd2lkdGg6IHRva2Vucy5ib3hTaXplLFxuICAgICAgJyYuZm9jdXMnOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdG9rZW5zLmZvY3VzLmJhY2tncm91bmQsXG4gICAgICAgIGJvcmRlckNvbG9yOiB0b2tlbnMuZm9jdXMuYm9yZGVyQ29sb3IsXG4gICAgICAgIGJveFNoYWRvdzogdG9rZW5zLmZvY3VzLnNoYWRvdyxcbiAgICAgICAgY29sb3I6IHRva2Vucy5mb2N1cy5mb3JlZ3JvdW5kXG4gICAgICB9LFxuICAgICAgJyYuc2VsZWN0ZWQnOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdG9rZW5zLnNlbGVjdGVkLmJhY2tncm91bmQsXG4gICAgICAgIGJvcmRlckNvbG9yOiB0b2tlbnMuc2VsZWN0ZWQuYm9yZGVyQ29sb3IsXG4gICAgICAgIGJveFNoYWRvdzogdG9rZW5zLnNlbGVjdGVkLnNoYWRvdyxcbiAgICAgICAgY29sb3I6IHRva2Vucy5zZWxlY3RlZC5mb3JlZ3JvdW5kXG4gICAgICB9LFxuICAgICAgJyYuZGlzYWJsZWQnOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdG9rZW5zLmRpc2FibGVkLmJhY2tncm91bmQsXG4gICAgICAgIGJvcmRlckNvbG9yOiB0b2tlbnMuZGlzYWJsZWQuYm9yZGVyQ29sb3IsXG4gICAgICAgIGJveFNoYWRvdzogdG9rZW5zLmRpc2FibGVkLnNoYWRvdyxcbiAgICAgICAgY29sb3I6IHRva2Vucy5kaXNhYmxlZC5iYWNrZ3JvdW5kLFxuICAgICAgICBjdXJzb3I6ICdkZWZhdWx0J1xuICAgICAgfSxcbiAgICAgICcmLnNlbGVjdGVkLmRpc2FibGVkJzoge1xuICAgICAgICBjb2xvcjogdG9rZW5zLmRpc2FibGVkLmZvcmVncm91bmRcbiAgICAgIH1cbiAgICB9XG4gIH0sIGpzeChDaGVja0ljb24sIHtcbiAgICBzaXplOiBcInNtYWxsXCJcbiAgfSkpO1xufTtcbmNvbnN0IE9wdGlvblByaW1pdGl2ZSA9IF9yZWYyID0+IHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlbixcbiAgICBpc0Rpc2FibGVkLFxuICAgIGlzRm9jdXNlZCxcbiAgICBpbm5lclByb3BzLFxuICAgIGlubmVyUmVmLFxuICAgIGNsYXNzTmFtZVxuICB9ID0gX3JlZjI7XG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgcmV0dXJuIGpzeChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBpbm5lclJlZixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBjc3M6IHtcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgY29sb3I6IGlzRGlzYWJsZWQgPyB0aGVtZS5jb2xvcnMuZm9yZWdyb3VuZERpbSA6IGlzRm9jdXNlZCA/IHRoZW1lLmNvbG9ycy5saW5rSG92ZXJDb2xvciA6IHVuZGVmaW5lZCxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZm9udFNpemU6ICcwLjllbScsXG4gICAgICBmb250V2VpZ2h0OiA1MDAsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgYmFja2dyb3VuZDogaXNGb2N1c2VkID8gdGhlbWUuY29sb3JzLmJhY2tncm91bmRIb3ZlciA6IHVuZGVmaW5lZCxcbiAgICAgIG91dGxpbmU6IDAsXG4gICAgICBwYWRkaW5nOiBgJHt0aGVtZS5zcGFjaW5nLnNtYWxsfXB4YCxcbiAgICAgIHBvaW50ZXJFdmVudHM6IGlzRGlzYWJsZWQgPyAnbm9uZScgOiB1bmRlZmluZWQsXG4gICAgICAnJjpub3QoOmZpcnN0LW9mLXR5cGUpJzoge1xuICAgICAgICBib3JkZXJUb3A6IGAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMuYmFja2dyb3VuZERpbX1gXG4gICAgICB9LFxuICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZDogdGhlbWUuY29sb3JzLmJhY2tncm91bmRIb3ZlcixcbiAgICAgICAgY29sb3I6IHRoZW1lLmNvbG9ycy5saW5rSG92ZXJDb2xvclxuICAgICAgfVxuICAgIH1cbiAgfSwgaW5uZXJQcm9wcyksIGNoaWxkcmVuKTtcbn07XG5jb25zdCBDb250cm9sID0gX3JlZjMgPT4ge1xuICBsZXQge1xuICAgICAgc2VsZWN0UHJvcHNcbiAgICB9ID0gX3JlZjMsXG4gICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjMsIF9leGNsdWRlZCk7XG4gIHJldHVybiBqc3goY29tcG9uZW50cy5Db250cm9sLCBfZXh0ZW5kcyh7XG4gICAgc2VsZWN0UHJvcHM6IHNlbGVjdFByb3BzXG4gIH0sIHByb3BzKSk7XG59O1xuY29uc3QgZGVmYXVsdENvbXBvbmVudHMgPSB7XG4gIENvbnRyb2wsXG4gIE9wdGlvbjogT3B0aW9uUHJpbWl0aXZlLFxuICBEcm9wZG93bkluZGljYXRvcjogbnVsbCxcbiAgSW5kaWNhdG9yU2VwYXJhdG9yOiBudWxsXG59O1xuY29uc3QgT3B0aW9ucyA9IF9yZWY0ID0+IHtcbiAgbGV0IHtcbiAgICAgIGNvbXBvbmVudHM6IHByb3BDb21wb25lbnRzXG4gICAgfSA9IF9yZWY0LFxuICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWY0LCBfZXhjbHVkZWQyKTtcbiAgY29uc3QgY29tcG9uZW50cyA9IHVzZU1lbW8oKCkgPT4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0Q29tcG9uZW50cyksIHByb3BDb21wb25lbnRzKSwgW3Byb3BDb21wb25lbnRzXSk7XG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgY29uc3Qgb3B0aW9uUmVuZGVyZXJTdHlsZXMgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgY29udHJvbDogcHJvdmlkZWQgPT4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm92aWRlZCksIHt9LCB7XG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5maWVsZHMuaW5wdXRCYWNrZ3JvdW5kLFxuICAgICAgYm94U2hhZG93OiAnbm9uZScsXG4gICAgICBjdXJzb3I6ICd0ZXh0JyxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBtaW5IZWlnaHQ6IDM0XG4gICAgfSksXG4gICAgbWVudTogKCkgPT4gKHtcbiAgICAgIG1hcmdpblRvcDogOFxuICAgIH0pLFxuICAgIG1lbnVMaXN0OiBwcm92aWRlZCA9PiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb3ZpZGVkKSwge30sIHtcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9KSxcbiAgICBwbGFjZWhvbGRlcjogcHJvdmlkZWQgPT4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm92aWRlZCksIHt9LCB7XG4gICAgICBjb2xvcjogdGhlbWUuZmllbGRzLmlucHV0UGxhY2Vob2xkZXJcbiAgICB9KVxuICB9KSwgW3RoZW1lXSk7XG4gIHJldHVybiBqc3goUmVhY3RTZWxlY3QsIF9leHRlbmRzKHtcbiAgICBiYWNrc3BhY2VSZW1vdmVzVmFsdWU6IGZhbHNlLFxuICAgIGNhcHR1cmVNZW51U2Nyb2xsOiBmYWxzZSxcbiAgICBjbG9zZU1lbnVPblNlbGVjdDogZmFsc2UsXG4gICAgY29udHJvbFNob3VsZFJlbmRlclZhbHVlOiBmYWxzZSxcbiAgICBoaWRlU2VsZWN0ZWRPcHRpb25zOiBmYWxzZSxcbiAgICBpc0NsZWFyYWJsZTogZmFsc2UsXG4gICAgaXNTZWFyY2hhYmxlOiB0cnVlLFxuICAgIG1heE1lbnVIZWlnaHQ6IDEwMDAsXG4gICAgbWVudUlzT3BlbjogdHJ1ZSxcbiAgICBtZW51U2hvdWxkU2Nyb2xsSW50b1ZpZXc6IGZhbHNlLFxuICAgIHN0eWxlczogb3B0aW9uUmVuZGVyZXJTdHlsZXNcbiAgICAvLyBUT0RPOiBKVzogTm90IGEgZmFuIG9mIHRoaXMsIGJ1dCBpdCBkb2Vzbid0IHNlZW0gdG8gbWFrZSBhIGRpZmZlcmVuY2VcbiAgICAvLyBpZiB3ZSB0YWtlIGl0IG91dC4gcmVhY3Qtc2VsZWN0IGJ1ZyBtYXliZT9cbiAgICAsXG4gICAgdGFiU2VsZWN0c1ZhbHVlOiBmYWxzZSxcbiAgICBjb21wb25lbnRzOiBjb21wb25lbnRzXG4gIH0sIHByb3BzKSk7XG59O1xuXG5leHBvcnQgeyBDaGVja01hcmssIE9wdGlvblByaW1pdGl2ZSwgT3B0aW9ucyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@keystone-ui/options/dist/keystone-ui-options.esm.js\n"));

/***/ }),

/***/ "../../node_modules/@keystone-ui/pill/dist/keystone-ui-pill.esm.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/@keystone-ui/pill/dist/keystone-ui-pill.esm.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pill: function() { return /* binding */ Pill; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"../../node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystone-ui/core */ \"../../node_modules/@keystone-ui/core/dist/keystone-ui-core.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _keystone_ui_icons_icons_XIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystone-ui/icons/icons/XIcon */ \"../../node_modules/@keystone-ui/icons/icons/XIcon/dist/keystone-ui-icons-icons-XIcon.esm.js\");\n\n\n\n\n\n\n\nconst _excluded = [\"tone\", \"weight\", \"onClick\", \"tabIndex\"],\n  _excluded2 = [\"weight\", \"tone\", \"containerProps\", \"children\", \"onClick\", \"onRemove\"];\nconst PillButton = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_4__.forwardRef)((_ref, ref) => {\n  let {\n      tone: toneKey,\n      weight,\n      onClick,\n      tabIndex\n    } = _ref,\n    props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_ref, _excluded);\n  const {\n    radii,\n    spacing,\n    tones,\n    typography\n  } = (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.useTheme)();\n  const isInteractive = !!onClick;\n  const tone = tones[toneKey];\n  const tokens = {\n    bold: {\n      background: tone.fill[0],\n      foreground: tone.fillForeground[0],\n      focus: {\n        shadow: `0 0 0 2px ${tone.focusRing}`\n      },\n      hover: {\n        background: tone.fill[1]\n      },\n      active: {\n        background: tone.fill[2]\n      }\n    },\n    light: {\n      background: tone.tint[0],\n      foreground: tone.foreground[0],\n      focus: {\n        shadow: `0 0 0 2px ${tone.focusRing}`\n      },\n      hover: {\n        foreground: tone.foreground[1],\n        background: tone.tint[1]\n      },\n      active: {\n        foreground: tone.foreground[2],\n        background: tone.tint[2]\n      }\n    }\n  }[weight];\n  const baseStyles = {\n    alignItems: 'center',\n    appearance: 'none',\n    background: 'none',\n    backgroundColor: tokens.background,\n    border: 0,\n    color: tokens.foreground,\n    display: 'flex',\n    fontSize: typography.fontSize.small,\n    fontWeight: typography.fontWeight.medium,\n    justifyContent: 'center',\n    maxWidth: '100%',\n    minWidth: 1,\n    outline: 0,\n    padding: `${spacing.small}px ${spacing.medium}px`,\n    ':first-of-type': {\n      paddingRight: spacing.small,\n      borderTopLeftRadius: radii.full,\n      borderBottomLeftRadius: radii.full,\n      marginRight: 1\n    },\n    ':last-of-type': {\n      paddingLeft: spacing.small,\n      borderTopRightRadius: radii.full,\n      borderBottomRightRadius: radii.full\n    },\n    ':only-of-type': {\n      paddingLeft: spacing.medium,\n      paddingRight: spacing.medium\n    }\n  };\n  const interactiveStyles = isInteractive ? {\n    cursor: 'pointer',\n    ':focus': {\n      boxShadow: tokens.focus.shadow\n    },\n    ':hover,:focus': {\n      backgroundColor: tokens.hover.background,\n      color: tokens.hover.foreground\n    },\n    ':active': {\n      backgroundColor: tokens.active.background,\n      color: tokens.active.foreground\n    }\n  } : {};\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    ref: ref,\n    css: (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, baseStyles), interactiveStyles),\n    onClick: onClick,\n    tabIndex: !isInteractive ? -1 : tabIndex\n  }, props));\n});\nconst Pill = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_4__.forwardRef)((_ref2, ref) => {\n  let {\n      weight = 'bold',\n      tone = 'active',\n      containerProps,\n      children,\n      onClick,\n      onRemove\n    } = _ref2,\n    props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_ref2, _excluded2);\n  return (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    css: {\n      display: 'flex'\n    }\n  }, containerProps), (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(PillButton, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    ref: ref,\n    weight: weight,\n    tone: tone,\n    onClick: onClick\n  }, props), children), onRemove ? (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(PillButton, {\n    \"aria-label\": \"remove pill\",\n    weight: weight,\n    tone: tone,\n    onClick: onRemove\n  }, (0,_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__.jsx)(_keystone_ui_icons_icons_XIcon__WEBPACK_IMPORTED_MODULE_5__.XIcon, {\n    css: {\n      height: 14,\n      width: 14\n    }\n  })) : null);\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BrZXlzdG9uZS11aS9waWxsL2Rpc3Qva2V5c3RvbmUtdWktcGlsbC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDVztBQUNxQjtBQUN4QztBQUNmO0FBQ29COztBQUV2RDtBQUNBO0FBQ0EsZ0NBQWdDLGlEQUFVO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sWUFBWSw4RkFBd0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksRUFBRSwyREFBUTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGVBQWU7QUFDNUMsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGVBQWU7QUFDNUMsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYyxLQUFLLGVBQWU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLFNBQVMsc0RBQUcsV0FBVyw4RUFBUTtBQUMvQjtBQUNBLFNBQVMsb0ZBQWEsQ0FBQyxvRkFBYSxHQUFHO0FBQ3ZDO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELDBCQUEwQixpREFBVTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixZQUFZLDhGQUF3QjtBQUNwQyxTQUFTLHNEQUFHLFFBQVEsOEVBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsR0FBRyxtQkFBbUIsc0RBQUcsYUFBYSw4RUFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsZ0NBQWdDLHNEQUFHO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLHNEQUFHLENBQUMsaUVBQUs7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9ub2RlX21vZHVsZXMvQGtleXN0b25lLXVpL3BpbGwvZGlzdC9rZXlzdG9uZS11aS1waWxsLmVzbS5qcz9jZjVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDInO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllcyc7XG5pbXBvcnQgeyBqc3gsIHVzZVRoZW1lIH0gZnJvbSAnQGtleXN0b25lLXVpL2NvcmUnO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFhJY29uIH0gZnJvbSAnQGtleXN0b25lLXVpL2ljb25zL2ljb25zL1hJY29uJztcblxuY29uc3QgX2V4Y2x1ZGVkID0gW1widG9uZVwiLCBcIndlaWdodFwiLCBcIm9uQ2xpY2tcIiwgXCJ0YWJJbmRleFwiXSxcbiAgX2V4Y2x1ZGVkMiA9IFtcIndlaWdodFwiLCBcInRvbmVcIiwgXCJjb250YWluZXJQcm9wc1wiLCBcImNoaWxkcmVuXCIsIFwib25DbGlja1wiLCBcIm9uUmVtb3ZlXCJdO1xuY29uc3QgUGlsbEJ1dHRvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKChfcmVmLCByZWYpID0+IHtcbiAgbGV0IHtcbiAgICAgIHRvbmU6IHRvbmVLZXksXG4gICAgICB3ZWlnaHQsXG4gICAgICBvbkNsaWNrLFxuICAgICAgdGFiSW5kZXhcbiAgICB9ID0gX3JlZixcbiAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQpO1xuICBjb25zdCB7XG4gICAgcmFkaWksXG4gICAgc3BhY2luZyxcbiAgICB0b25lcyxcbiAgICB0eXBvZ3JhcGh5XG4gIH0gPSB1c2VUaGVtZSgpO1xuICBjb25zdCBpc0ludGVyYWN0aXZlID0gISFvbkNsaWNrO1xuICBjb25zdCB0b25lID0gdG9uZXNbdG9uZUtleV07XG4gIGNvbnN0IHRva2VucyA9IHtcbiAgICBib2xkOiB7XG4gICAgICBiYWNrZ3JvdW5kOiB0b25lLmZpbGxbMF0sXG4gICAgICBmb3JlZ3JvdW5kOiB0b25lLmZpbGxGb3JlZ3JvdW5kWzBdLFxuICAgICAgZm9jdXM6IHtcbiAgICAgICAgc2hhZG93OiBgMCAwIDAgMnB4ICR7dG9uZS5mb2N1c1Jpbmd9YFxuICAgICAgfSxcbiAgICAgIGhvdmVyOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRvbmUuZmlsbFsxXVxuICAgICAgfSxcbiAgICAgIGFjdGl2ZToge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0b25lLmZpbGxbMl1cbiAgICAgIH1cbiAgICB9LFxuICAgIGxpZ2h0OiB7XG4gICAgICBiYWNrZ3JvdW5kOiB0b25lLnRpbnRbMF0sXG4gICAgICBmb3JlZ3JvdW5kOiB0b25lLmZvcmVncm91bmRbMF0sXG4gICAgICBmb2N1czoge1xuICAgICAgICBzaGFkb3c6IGAwIDAgMCAycHggJHt0b25lLmZvY3VzUmluZ31gXG4gICAgICB9LFxuICAgICAgaG92ZXI6IHtcbiAgICAgICAgZm9yZWdyb3VuZDogdG9uZS5mb3JlZ3JvdW5kWzFdLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0b25lLnRpbnRbMV1cbiAgICAgIH0sXG4gICAgICBhY3RpdmU6IHtcbiAgICAgICAgZm9yZWdyb3VuZDogdG9uZS5mb3JlZ3JvdW5kWzJdLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0b25lLnRpbnRbMl1cbiAgICAgIH1cbiAgICB9XG4gIH1bd2VpZ2h0XTtcbiAgY29uc3QgYmFzZVN0eWxlcyA9IHtcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBhcHBlYXJhbmNlOiAnbm9uZScsXG4gICAgYmFja2dyb3VuZDogJ25vbmUnLFxuICAgIGJhY2tncm91bmRDb2xvcjogdG9rZW5zLmJhY2tncm91bmQsXG4gICAgYm9yZGVyOiAwLFxuICAgIGNvbG9yOiB0b2tlbnMuZm9yZWdyb3VuZCxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZm9udFNpemU6IHR5cG9ncmFwaHkuZm9udFNpemUuc21hbGwsXG4gICAgZm9udFdlaWdodDogdHlwb2dyYXBoeS5mb250V2VpZ2h0Lm1lZGl1bSxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICBtaW5XaWR0aDogMSxcbiAgICBvdXRsaW5lOiAwLFxuICAgIHBhZGRpbmc6IGAke3NwYWNpbmcuc21hbGx9cHggJHtzcGFjaW5nLm1lZGl1bX1weGAsXG4gICAgJzpmaXJzdC1vZi10eXBlJzoge1xuICAgICAgcGFkZGluZ1JpZ2h0OiBzcGFjaW5nLnNtYWxsLFxuICAgICAgYm9yZGVyVG9wTGVmdFJhZGl1czogcmFkaWkuZnVsbCxcbiAgICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IHJhZGlpLmZ1bGwsXG4gICAgICBtYXJnaW5SaWdodDogMVxuICAgIH0sXG4gICAgJzpsYXN0LW9mLXR5cGUnOiB7XG4gICAgICBwYWRkaW5nTGVmdDogc3BhY2luZy5zbWFsbCxcbiAgICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzOiByYWRpaS5mdWxsLFxuICAgICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6IHJhZGlpLmZ1bGxcbiAgICB9LFxuICAgICc6b25seS1vZi10eXBlJzoge1xuICAgICAgcGFkZGluZ0xlZnQ6IHNwYWNpbmcubWVkaXVtLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBzcGFjaW5nLm1lZGl1bVxuICAgIH1cbiAgfTtcbiAgY29uc3QgaW50ZXJhY3RpdmVTdHlsZXMgPSBpc0ludGVyYWN0aXZlID8ge1xuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICc6Zm9jdXMnOiB7XG4gICAgICBib3hTaGFkb3c6IHRva2Vucy5mb2N1cy5zaGFkb3dcbiAgICB9LFxuICAgICc6aG92ZXIsOmZvY3VzJzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiB0b2tlbnMuaG92ZXIuYmFja2dyb3VuZCxcbiAgICAgIGNvbG9yOiB0b2tlbnMuaG92ZXIuZm9yZWdyb3VuZFxuICAgIH0sXG4gICAgJzphY3RpdmUnOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRva2Vucy5hY3RpdmUuYmFja2dyb3VuZCxcbiAgICAgIGNvbG9yOiB0b2tlbnMuYWN0aXZlLmZvcmVncm91bmRcbiAgICB9XG4gIH0gOiB7fTtcbiAgcmV0dXJuIGpzeChcImJ1dHRvblwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgY3NzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGJhc2VTdHlsZXMpLCBpbnRlcmFjdGl2ZVN0eWxlcyksXG4gICAgb25DbGljazogb25DbGljayxcbiAgICB0YWJJbmRleDogIWlzSW50ZXJhY3RpdmUgPyAtMSA6IHRhYkluZGV4XG4gIH0sIHByb3BzKSk7XG59KTtcbmNvbnN0IFBpbGwgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZigoX3JlZjIsIHJlZikgPT4ge1xuICBsZXQge1xuICAgICAgd2VpZ2h0ID0gJ2JvbGQnLFxuICAgICAgdG9uZSA9ICdhY3RpdmUnLFxuICAgICAgY29udGFpbmVyUHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIG9uQ2xpY2ssXG4gICAgICBvblJlbW92ZVxuICAgIH0gPSBfcmVmMixcbiAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMiwgX2V4Y2x1ZGVkMik7XG4gIHJldHVybiBqc3goXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIGNzczoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnXG4gICAgfVxuICB9LCBjb250YWluZXJQcm9wcyksIGpzeChQaWxsQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgd2VpZ2h0OiB3ZWlnaHQsXG4gICAgdG9uZTogdG9uZSxcbiAgICBvbkNsaWNrOiBvbkNsaWNrXG4gIH0sIHByb3BzKSwgY2hpbGRyZW4pLCBvblJlbW92ZSA/IGpzeChQaWxsQnV0dG9uLCB7XG4gICAgXCJhcmlhLWxhYmVsXCI6IFwicmVtb3ZlIHBpbGxcIixcbiAgICB3ZWlnaHQ6IHdlaWdodCxcbiAgICB0b25lOiB0b25lLFxuICAgIG9uQ2xpY2s6IG9uUmVtb3ZlXG4gIH0sIGpzeChYSWNvbiwge1xuICAgIGNzczoge1xuICAgICAgaGVpZ2h0OiAxNCxcbiAgICAgIHdpZHRoOiAxNFxuICAgIH1cbiAgfSkpIDogbnVsbCk7XG59KTtcblxuZXhwb3J0IHsgUGlsbCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@keystone-ui/pill/dist/keystone-ui-pill.esm.js\n"));

/***/ }),

/***/ "../../node_modules/intersection-observer/intersection-observer.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/intersection-observer/intersection-observer.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n/**\n * Returns the embedding frame element, if any.\n * @param {!Document} doc\n * @return {!Element}\n */\nfunction getFrameElement(doc) {\n  try {\n    return doc.defaultView && doc.defaultView.frameElement || null;\n  } catch (e) {\n    // Ignore the error.\n    return null;\n  }\n}\n\n/**\n * A local reference to the root document.\n */\nvar document = (function(startDoc) {\n  var doc = startDoc;\n  var frame = getFrameElement(doc);\n  while (frame) {\n    doc = frame.ownerDocument;\n    frame = getFrameElement(doc);\n  }\n  return doc;\n})(window.document);\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n/**\n * The signal updater for cross-origin intersection. When not null, it means\n * that the polyfill is configured to work in a cross-origin mode.\n * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nvar crossOriginUpdater = null;\n\n/**\n * The current cross-origin intersection. Only used in the cross-origin mode.\n * @type {DOMRect|ClientRect}\n */\nvar crossOriginRect = null;\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = ensureDOMRect(entry.rootBounds);\n  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);\n  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (\n    options.root &&\n    options.root.nodeType != 1 &&\n    options.root.nodeType != 9\n  ) {\n    throw new Error('root must be a Document or Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n\n  /** @private @const {!Array<!Document>} */\n  this._monitoringDocuments = [];\n  /** @private @const {!Array<function()>} */\n  this._monitoringUnsubscribes = [];\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Sets up the polyfill in the cross-origin mode. The result is the\n * updater function that accepts two arguments: `boundingClientRect` and\n * `intersectionRect` - just as these fields would be available to the\n * parent via `IntersectionObserverEntry`. This function should be called\n * each time the iframe receives intersection information from the parent\n * window, e.g. via messaging.\n * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nIntersectionObserver._setupCrossOriginUpdater = function() {\n  if (!crossOriginUpdater) {\n    /**\n     * @param {DOMRect|ClientRect} boundingClientRect\n     * @param {DOMRect|ClientRect} intersectionRect\n     */\n    crossOriginUpdater = function(boundingClientRect, intersectionRect) {\n      if (!boundingClientRect || !intersectionRect) {\n        crossOriginRect = getEmptyRect();\n      } else {\n        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);\n      }\n      registry.forEach(function(observer) {\n        observer._checkForIntersections();\n      });\n    };\n  }\n  return crossOriginUpdater;\n};\n\n\n/**\n * Resets the cross-origin mode.\n */\nIntersectionObserver._resetCrossOriginUpdater = function() {\n  crossOriginUpdater = null;\n  crossOriginRect = null;\n};\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections(target.ownerDocument);\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n        return item.element != target;\n      });\n  this._unmonitorIntersections(target.ownerDocument);\n  if (this._observationTargets.length == 0) {\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorAllIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function(doc) {\n  var win = doc.defaultView;\n  if (!win) {\n    // Already destroyed.\n    return;\n  }\n  if (this._monitoringDocuments.indexOf(doc) != -1) {\n    // Already monitoring.\n    return;\n  }\n\n  // Private state for monitoring.\n  var callback = this._checkForIntersections;\n  var monitoringInterval = null;\n  var domObserver = null;\n\n  // If a poll interval is set, use polling instead of listening to\n  // resize and scroll events or DOM mutations.\n  if (this.POLL_INTERVAL) {\n    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);\n  } else {\n    addEvent(win, 'resize', callback, true);\n    addEvent(doc, 'scroll', callback, true);\n    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {\n      domObserver = new win.MutationObserver(callback);\n      domObserver.observe(doc, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  this._monitoringDocuments.push(doc);\n  this._monitoringUnsubscribes.push(function() {\n    // Get the window object again. When a friendly iframe is destroyed, it\n    // will be null.\n    var win = doc.defaultView;\n\n    if (win) {\n      if (monitoringInterval) {\n        win.clearInterval(monitoringInterval);\n      }\n      removeEvent(win, 'resize', callback, true);\n    }\n\n    removeEvent(doc, 'scroll', callback, true);\n    if (domObserver) {\n      domObserver.disconnect();\n    }\n  });\n\n  // Also monitor the parent.\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._monitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function(doc) {\n  var index = this._monitoringDocuments.indexOf(doc);\n  if (index == -1) {\n    return;\n  }\n\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n\n  // Check if any dependent targets are still remaining.\n  var hasDependentTargets =\n      this._observationTargets.some(function(item) {\n        var itemDoc = item.element.ownerDocument;\n        // Target is in this context.\n        if (itemDoc == doc) {\n          return true;\n        }\n        // Target is nested in this context.\n        while (itemDoc && itemDoc != rootDoc) {\n          var frame = getFrameElement(itemDoc);\n          itemDoc = frame && frame.ownerDocument;\n          if (itemDoc == doc) {\n            return true;\n          }\n        }\n        return false;\n      });\n  if (hasDependentTargets) {\n    return;\n  }\n\n  // Unsubscribe.\n  var unsubscribe = this._monitoringUnsubscribes[index];\n  this._monitoringDocuments.splice(index, 1);\n  this._monitoringUnsubscribes.splice(index, 1);\n  unsubscribe();\n\n  // Also unmonitor the parent.\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._unmonitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorAllIntersections = function() {\n  var unsubscribes = this._monitoringUnsubscribes.slice(0);\n  this._monitoringDocuments.length = 0;\n  this._monitoringUnsubscribes.length = 0;\n  for (var i = 0; i < unsubscribes.length; i++) {\n    unsubscribes[i]();\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  if (!this.root && crossOriginUpdater && !crossOriginRect) {\n    // Cross origin monitoring, but no initial data available yet.\n    return;\n  }\n\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, targetRect, rootRect);\n\n    var rootBounds = null;\n    if (!this._rootContainsTarget(target)) {\n      rootBounds = getEmptyRect();\n    } else if (!crossOriginUpdater || this.root) {\n      rootBounds = rootRect;\n    }\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootBounds,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} targetRect The bounding rect of the target.\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, targetRect, rootRect) {\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot && parent) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return null;\n\n    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {\n      atRoot = true;\n      if (parent == this.root || parent == document) {\n        if (crossOriginUpdater && !this.root) {\n          if (!crossOriginRect ||\n              crossOriginRect.width == 0 && crossOriginRect.height == 0) {\n            // A 0-size cross-origin intersection means no-intersection.\n            parent = null;\n            parentRect = null;\n            intersectionRect = null;\n          } else {\n            parentRect = crossOriginRect;\n          }\n        } else {\n          parentRect = rootRect;\n        }\n      } else {\n        // Check if there's a frame that can be navigated to.\n        var frame = getParentNode(parent);\n        var frameRect = frame && getBoundingClientRect(frame);\n        var frameIntersect =\n            frame &&\n            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);\n        if (frameRect && frameIntersect) {\n          parent = frame;\n          parentRect = convertFromParentRect(frameRect, frameIntersect);\n        } else {\n          parent = null;\n          intersectionRect = null;\n        }\n      }\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      var doc = parent.ownerDocument;\n      if (parent != doc.body &&\n          parent != doc.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n    }\n    if (!intersectionRect) break;\n    parent = parent && getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {ClientRect} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root && !isDoc(this.root)) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var doc = isDoc(this.root) ? this.root : document;\n    var html = doc.documentElement;\n    var body = doc.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {DOMRect|ClientRect} rect The rect object to expand.\n * @return {ClientRect} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  return (\n    containsDeep(rootDoc, target) &&\n    (!this.root || rootDoc == target.ownerDocument)\n  );\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detachEvent == 'function') {\n    node.detachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object|?ClientRect} The intersection rect or undefined if no\n *     intersection is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  } || null;\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {ClientRect} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n\n/**\n * Ensure that the result has all of the necessary fields of the DOMRect.\n * Specifically this ensures that `x` and `y` fields are set.\n *\n * @param {?DOMRect|?ClientRect} rect\n * @return {?DOMRect}\n */\nfunction ensureDOMRect(rect) {\n  // A `DOMRect` object has `x` and `y` fields.\n  if (!rect || 'x' in rect) {\n    return rect;\n  }\n  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case\n  // for internally calculated Rect objects. For the purposes of\n  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`\n  // for these fields.\n  return {\n    top: rect.top,\n    y: rect.top,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n\n/**\n * Inverts the intersection and bounding rect from the parent (frame) BCR to\n * the local BCR space.\n * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.\n * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.\n * @return {ClientRect} The local root bounding rect for the parent's children.\n */\nfunction convertFromParentRect(parentBoundingRect, parentIntersectionRect) {\n  var top = parentIntersectionRect.top - parentBoundingRect.top;\n  var left = parentIntersectionRect.left - parentBoundingRect.left;\n  return {\n    top: top,\n    left: left,\n    height: parentIntersectionRect.height,\n    width: parentIntersectionRect.width,\n    bottom: top + parentIntersectionRect.height,\n    right: left + parentIntersectionRect.width\n  };\n}\n\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {\n    // If this node is a document node, look for the embedding frame.\n    return getFrameElement(node);\n  }\n\n  // If the parent has element that is assigned through shadow root slot\n  if (parent && parent.assignedSlot) {\n    parent = parent.assignedSlot.parentNode\n  }\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  return parent;\n}\n\n/**\n * Returns true if `node` is a Document.\n * @param {!Node} node\n * @returns {boolean}\n */\nfunction isDoc(node) {\n  return node && node.nodeType === 9;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2ludGVyc2VjdGlvbi1vYnNlcnZlci9pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILHVCQUF1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QTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uL25vZGVfbW9kdWxlcy9pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIvaW50ZXJzZWN0aW9uLW9ic2VydmVyLmpzPzU4NjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBXM0MgU09GVFdBUkUgQU5EIERPQ1VNRU5UIE5PVElDRSBBTkQgTElDRU5TRS5cbiAqXG4gKiAgaHR0cHM6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvMjAxNS9jb3B5cmlnaHQtc29mdHdhcmUtYW5kLWRvY3VtZW50XG4gKlxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIEV4aXQgZWFybHkgaWYgd2UncmUgbm90IHJ1bm5pbmcgaW4gYSBicm93c2VyLlxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICdvYmplY3QnKSB7XG4gIHJldHVybjtcbn1cblxuLy8gRXhpdCBlYXJseSBpZiBhbGwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgYW5kIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlcbi8vIGZlYXR1cmVzIGFyZSBuYXRpdmVseSBzdXBwb3J0ZWQuXG5pZiAoJ0ludGVyc2VjdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cgJiZcbiAgICAnSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeScgaW4gd2luZG93ICYmXG4gICAgJ2ludGVyc2VjdGlvblJhdGlvJyBpbiB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeS5wcm90b3R5cGUpIHtcblxuICAvLyBNaW5pbWFsIHBvbHlmaWxsIGZvciBFZGdlIDE1J3MgbGFjayBvZiBgaXNJbnRlcnNlY3RpbmdgXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbnRlcnNlY3Rpb25PYnNlcnZlci9pc3N1ZXMvMjExXG4gIGlmICghKCdpc0ludGVyc2VjdGluZycgaW4gd2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyRW50cnkucHJvdG90eXBlKSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeS5wcm90b3R5cGUsXG4gICAgICAnaXNJbnRlcnNlY3RpbmcnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uUmF0aW8gPiAwO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBlbWJlZGRpbmcgZnJhbWUgZWxlbWVudCwgaWYgYW55LlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGdldEZyYW1lRWxlbWVudChkb2MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3ICYmIGRvYy5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQgfHwgbnVsbDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElnbm9yZSB0aGUgZXJyb3IuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBBIGxvY2FsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBkb2N1bWVudC5cbiAqL1xudmFyIGRvY3VtZW50ID0gKGZ1bmN0aW9uKHN0YXJ0RG9jKSB7XG4gIHZhciBkb2MgPSBzdGFydERvYztcbiAgdmFyIGZyYW1lID0gZ2V0RnJhbWVFbGVtZW50KGRvYyk7XG4gIHdoaWxlIChmcmFtZSkge1xuICAgIGRvYyA9IGZyYW1lLm93bmVyRG9jdW1lbnQ7XG4gICAgZnJhbWUgPSBnZXRGcmFtZUVsZW1lbnQoZG9jKTtcbiAgfVxuICByZXR1cm4gZG9jO1xufSkod2luZG93LmRvY3VtZW50KTtcblxuLyoqXG4gKiBBbiBJbnRlcnNlY3Rpb25PYnNlcnZlciByZWdpc3RyeS4gVGhpcyByZWdpc3RyeSBleGlzdHMgdG8gaG9sZCBhIHN0cm9uZ1xuICogcmVmZXJlbmNlIHRvIEludGVyc2VjdGlvbk9ic2VydmVyIGluc3RhbmNlcyBjdXJyZW50bHkgb2JzZXJ2aW5nIGEgdGFyZ2V0XG4gKiBlbGVtZW50LiBXaXRob3V0IHRoaXMgcmVnaXN0cnksIGluc3RhbmNlcyB3aXRob3V0IGFub3RoZXIgcmVmZXJlbmNlIG1heSBiZVxuICogZ2FyYmFnZSBjb2xsZWN0ZWQuXG4gKi9cbnZhciByZWdpc3RyeSA9IFtdO1xuXG4vKipcbiAqIFRoZSBzaWduYWwgdXBkYXRlciBmb3IgY3Jvc3Mtb3JpZ2luIGludGVyc2VjdGlvbi4gV2hlbiBub3QgbnVsbCwgaXQgbWVhbnNcbiAqIHRoYXQgdGhlIHBvbHlmaWxsIGlzIGNvbmZpZ3VyZWQgdG8gd29yayBpbiBhIGNyb3NzLW9yaWdpbiBtb2RlLlxuICogQHR5cGUge2Z1bmN0aW9uKERPTVJlY3R8Q2xpZW50UmVjdCwgRE9NUmVjdHxDbGllbnRSZWN0KX1cbiAqL1xudmFyIGNyb3NzT3JpZ2luVXBkYXRlciA9IG51bGw7XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgY3Jvc3Mtb3JpZ2luIGludGVyc2VjdGlvbi4gT25seSB1c2VkIGluIHRoZSBjcm9zcy1vcmlnaW4gbW9kZS5cbiAqIEB0eXBlIHtET01SZWN0fENsaWVudFJlY3R9XG4gKi9cbnZhciBjcm9zc09yaWdpblJlY3QgPSBudWxsO1xuXG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZ2xvYmFsIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkgY29uc3RydWN0b3IuXG4gKiBodHRwczovL3czYy5naXRodWIuaW8vSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvI2ludGVyc2VjdGlvbi1vYnNlcnZlci1lbnRyeVxuICogQHBhcmFtIHtPYmplY3R9IGVudHJ5IEEgZGljdGlvbmFyeSBvZiBpbnN0YW5jZSBwcm9wZXJ0aWVzLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkoZW50cnkpIHtcbiAgdGhpcy50aW1lID0gZW50cnkudGltZTtcbiAgdGhpcy50YXJnZXQgPSBlbnRyeS50YXJnZXQ7XG4gIHRoaXMucm9vdEJvdW5kcyA9IGVuc3VyZURPTVJlY3QoZW50cnkucm9vdEJvdW5kcyk7XG4gIHRoaXMuYm91bmRpbmdDbGllbnRSZWN0ID0gZW5zdXJlRE9NUmVjdChlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QpO1xuICB0aGlzLmludGVyc2VjdGlvblJlY3QgPSBlbnN1cmVET01SZWN0KGVudHJ5LmludGVyc2VjdGlvblJlY3QgfHwgZ2V0RW1wdHlSZWN0KCkpO1xuICB0aGlzLmlzSW50ZXJzZWN0aW5nID0gISFlbnRyeS5pbnRlcnNlY3Rpb25SZWN0O1xuXG4gIC8vIENhbGN1bGF0ZXMgdGhlIGludGVyc2VjdGlvbiByYXRpby5cbiAgdmFyIHRhcmdldFJlY3QgPSB0aGlzLmJvdW5kaW5nQ2xpZW50UmVjdDtcbiAgdmFyIHRhcmdldEFyZWEgPSB0YXJnZXRSZWN0LndpZHRoICogdGFyZ2V0UmVjdC5oZWlnaHQ7XG4gIHZhciBpbnRlcnNlY3Rpb25SZWN0ID0gdGhpcy5pbnRlcnNlY3Rpb25SZWN0O1xuICB2YXIgaW50ZXJzZWN0aW9uQXJlYSA9IGludGVyc2VjdGlvblJlY3Qud2lkdGggKiBpbnRlcnNlY3Rpb25SZWN0LmhlaWdodDtcblxuICAvLyBTZXRzIGludGVyc2VjdGlvbiByYXRpby5cbiAgaWYgKHRhcmdldEFyZWEpIHtcbiAgICAvLyBSb3VuZCB0aGUgaW50ZXJzZWN0aW9uIHJhdGlvIHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IG1hdGggaXNzdWVzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvaXNzdWVzLzMyNFxuICAgIHRoaXMuaW50ZXJzZWN0aW9uUmF0aW8gPSBOdW1iZXIoKGludGVyc2VjdGlvbkFyZWEgLyB0YXJnZXRBcmVhKS50b0ZpeGVkKDQpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBhcmVhIGlzIHplcm8gYW5kIGlzIGludGVyc2VjdGluZywgc2V0cyB0byAxLCBvdGhlcndpc2UgdG8gMFxuICAgIHRoaXMuaW50ZXJzZWN0aW9uUmF0aW8gPSB0aGlzLmlzSW50ZXJzZWN0aW5nID8gMSA6IDA7XG4gIH1cbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGdsb2JhbCBJbnRlcnNlY3Rpb25PYnNlcnZlciBjb25zdHJ1Y3Rvci5cbiAqIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9JbnRlcnNlY3Rpb25PYnNlcnZlci8jaW50ZXJzZWN0aW9uLW9ic2VydmVyLWludGVyZmFjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgYWZ0ZXIgaW50ZXJzZWN0aW9uXG4gKiAgICAgY2hhbmdlcyBoYXZlIHF1ZXVlZC4gVGhlIGZ1bmN0aW9uIGlzIG5vdCBpbnZva2VkIGlmIHRoZSBxdWV1ZSBoYXNcbiAqICAgICBiZWVuIGVtcHRpZWQgYnkgY2FsbGluZyB0aGUgYHRha2VSZWNvcmRzYCBtZXRob2QuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9vcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywgb3B0X29wdGlvbnMpIHtcblxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAoXG4gICAgb3B0aW9ucy5yb290ICYmXG4gICAgb3B0aW9ucy5yb290Lm5vZGVUeXBlICE9IDEgJiZcbiAgICBvcHRpb25zLnJvb3Qubm9kZVR5cGUgIT0gOVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jvb3QgbXVzdCBiZSBhIERvY3VtZW50IG9yIEVsZW1lbnQnKTtcbiAgfVxuXG4gIC8vIEJpbmRzIGFuZCB0aHJvdHRsZXMgYHRoaXMuX2NoZWNrRm9ySW50ZXJzZWN0aW9uc2AuXG4gIHRoaXMuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucyA9IHRocm90dGxlKFxuICAgICAgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zLmJpbmQodGhpcyksIHRoaXMuVEhST1RUTEVfVElNRU9VVCk7XG5cbiAgLy8gUHJpdmF0ZSBwcm9wZXJ0aWVzLlxuICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMgPSBbXTtcbiAgdGhpcy5fcXVldWVkRW50cmllcyA9IFtdO1xuICB0aGlzLl9yb290TWFyZ2luVmFsdWVzID0gdGhpcy5fcGFyc2VSb290TWFyZ2luKG9wdGlvbnMucm9vdE1hcmdpbik7XG5cbiAgLy8gUHVibGljIHByb3BlcnRpZXMuXG4gIHRoaXMudGhyZXNob2xkcyA9IHRoaXMuX2luaXRUaHJlc2hvbGRzKG9wdGlvbnMudGhyZXNob2xkKTtcbiAgdGhpcy5yb290ID0gb3B0aW9ucy5yb290IHx8IG51bGw7XG4gIHRoaXMucm9vdE1hcmdpbiA9IHRoaXMuX3Jvb3RNYXJnaW5WYWx1ZXMubWFwKGZ1bmN0aW9uKG1hcmdpbikge1xuICAgIHJldHVybiBtYXJnaW4udmFsdWUgKyBtYXJnaW4udW5pdDtcbiAgfSkuam9pbignICcpO1xuXG4gIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBcnJheTwhRG9jdW1lbnQ+fSAqL1xuICB0aGlzLl9tb25pdG9yaW5nRG9jdW1lbnRzID0gW107XG4gIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBcnJheTxmdW5jdGlvbigpPn0gKi9cbiAgdGhpcy5fbW9uaXRvcmluZ1Vuc3Vic2NyaWJlcyA9IFtdO1xufVxuXG5cbi8qKlxuICogVGhlIG1pbmltdW0gaW50ZXJ2YWwgd2l0aGluIHdoaWNoIHRoZSBkb2N1bWVudCB3aWxsIGJlIGNoZWNrZWQgZm9yXG4gKiBpbnRlcnNlY3Rpb24gY2hhbmdlcy5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLlRIUk9UVExFX1RJTUVPVVQgPSAxMDA7XG5cblxuLyoqXG4gKiBUaGUgZnJlcXVlbmN5IGluIHdoaWNoIHRoZSBwb2x5ZmlsbCBwb2xscyBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKiB0aGlzIGNhbiBiZSB1cGRhdGVkIG9uIGEgcGVyIGluc3RhbmNlIGJhc2lzIGFuZCBtdXN0IGJlIHNldCBwcmlvciB0b1xuICogY2FsbGluZyBgb2JzZXJ2ZWAgb24gdGhlIGZpcnN0IHRhcmdldC5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLlBPTExfSU5URVJWQUwgPSBudWxsO1xuXG4vKipcbiAqIFVzZSBhIG11dGF0aW9uIG9ic2VydmVyIG9uIHRoZSByb290IGVsZW1lbnRcbiAqIHRvIGRldGVjdCBpbnRlcnNlY3Rpb24gY2hhbmdlcy5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLlVTRV9NVVRBVElPTl9PQlNFUlZFUiA9IHRydWU7XG5cblxuLyoqXG4gKiBTZXRzIHVwIHRoZSBwb2x5ZmlsbCBpbiB0aGUgY3Jvc3Mtb3JpZ2luIG1vZGUuIFRoZSByZXN1bHQgaXMgdGhlXG4gKiB1cGRhdGVyIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0d28gYXJndW1lbnRzOiBgYm91bmRpbmdDbGllbnRSZWN0YCBhbmRcbiAqIGBpbnRlcnNlY3Rpb25SZWN0YCAtIGp1c3QgYXMgdGhlc2UgZmllbGRzIHdvdWxkIGJlIGF2YWlsYWJsZSB0byB0aGVcbiAqIHBhcmVudCB2aWEgYEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlgLiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWRcbiAqIGVhY2ggdGltZSB0aGUgaWZyYW1lIHJlY2VpdmVzIGludGVyc2VjdGlvbiBpbmZvcm1hdGlvbiBmcm9tIHRoZSBwYXJlbnRcbiAqIHdpbmRvdywgZS5nLiB2aWEgbWVzc2FnaW5nLlxuICogQHJldHVybiB7ZnVuY3Rpb24oRE9NUmVjdHxDbGllbnRSZWN0LCBET01SZWN0fENsaWVudFJlY3QpfVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5fc2V0dXBDcm9zc09yaWdpblVwZGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCFjcm9zc09yaWdpblVwZGF0ZXIpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0RPTVJlY3R8Q2xpZW50UmVjdH0gYm91bmRpbmdDbGllbnRSZWN0XG4gICAgICogQHBhcmFtIHtET01SZWN0fENsaWVudFJlY3R9IGludGVyc2VjdGlvblJlY3RcbiAgICAgKi9cbiAgICBjcm9zc09yaWdpblVwZGF0ZXIgPSBmdW5jdGlvbihib3VuZGluZ0NsaWVudFJlY3QsIGludGVyc2VjdGlvblJlY3QpIHtcbiAgICAgIGlmICghYm91bmRpbmdDbGllbnRSZWN0IHx8ICFpbnRlcnNlY3Rpb25SZWN0KSB7XG4gICAgICAgIGNyb3NzT3JpZ2luUmVjdCA9IGdldEVtcHR5UmVjdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3Jvc3NPcmlnaW5SZWN0ID0gY29udmVydEZyb21QYXJlbnRSZWN0KGJvdW5kaW5nQ2xpZW50UmVjdCwgaW50ZXJzZWN0aW9uUmVjdCk7XG4gICAgICB9XG4gICAgICByZWdpc3RyeS5mb3JFYWNoKGZ1bmN0aW9uKG9ic2VydmVyKSB7XG4gICAgICAgIG9ic2VydmVyLl9jaGVja0ZvckludGVyc2VjdGlvbnMoKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGNyb3NzT3JpZ2luVXBkYXRlcjtcbn07XG5cblxuLyoqXG4gKiBSZXNldHMgdGhlIGNyb3NzLW9yaWdpbiBtb2RlLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5fcmVzZXRDcm9zc09yaWdpblVwZGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgY3Jvc3NPcmlnaW5VcGRhdGVyID0gbnVsbDtcbiAgY3Jvc3NPcmlnaW5SZWN0ID0gbnVsbDtcbn07XG5cblxuLyoqXG4gKiBTdGFydHMgb2JzZXJ2aW5nIGEgdGFyZ2V0IGVsZW1lbnQgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzIGJhc2VkIG9uXG4gKiB0aGUgdGhyZXNob2xkcyB2YWx1ZXMuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBUaGUgRE9NIGVsZW1lbnQgdG8gb2JzZXJ2ZS5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdmFyIGlzVGFyZ2V0QWxyZWFkeU9ic2VydmVkID0gdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLnNvbWUoZnVuY3Rpb24oaXRlbSkge1xuICAgIHJldHVybiBpdGVtLmVsZW1lbnQgPT0gdGFyZ2V0O1xuICB9KTtcblxuICBpZiAoaXNUYXJnZXRBbHJlYWR5T2JzZXJ2ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoISh0YXJnZXQgJiYgdGFyZ2V0Lm5vZGVUeXBlID09IDEpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0YXJnZXQgbXVzdCBiZSBhbiBFbGVtZW50Jyk7XG4gIH1cblxuICB0aGlzLl9yZWdpc3Rlckluc3RhbmNlKCk7XG4gIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cy5wdXNoKHtlbGVtZW50OiB0YXJnZXQsIGVudHJ5OiBudWxsfSk7XG4gIHRoaXMuX21vbml0b3JJbnRlcnNlY3Rpb25zKHRhcmdldC5vd25lckRvY3VtZW50KTtcbiAgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zKCk7XG59O1xuXG5cbi8qKlxuICogU3RvcHMgb2JzZXJ2aW5nIGEgdGFyZ2V0IGVsZW1lbnQgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIERPTSBlbGVtZW50IHRvIG9ic2VydmUuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzID1cbiAgICAgIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5lbGVtZW50ICE9IHRhcmdldDtcbiAgICAgIH0pO1xuICB0aGlzLl91bm1vbml0b3JJbnRlcnNlY3Rpb25zKHRhcmdldC5vd25lckRvY3VtZW50KTtcbiAgaWYgKHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGggPT0gMCkge1xuICAgIHRoaXMuX3VucmVnaXN0ZXJJbnN0YW5jZSgpO1xuICB9XG59O1xuXG5cbi8qKlxuICogU3RvcHMgb2JzZXJ2aW5nIGFsbCB0YXJnZXQgZWxlbWVudHMgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMgPSBbXTtcbiAgdGhpcy5fdW5tb25pdG9yQWxsSW50ZXJzZWN0aW9ucygpO1xuICB0aGlzLl91bnJlZ2lzdGVySW5zdGFuY2UoKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIGFueSBxdWV1ZSBlbnRyaWVzIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gcmVwb3J0ZWQgdG8gdGhlXG4gKiBjYWxsYmFjayBhbmQgY2xlYXJzIHRoZSBxdWV1ZS4gVGhpcyBjYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZVxuICogY2FsbGJhY2sgdG8gb2J0YWluIHRoZSBhYnNvbHV0ZSBtb3N0IHVwLXRvLWRhdGUgaW50ZXJzZWN0aW9uIGluZm9ybWF0aW9uLlxuICogQHJldHVybiB7QXJyYXl9IFRoZSBjdXJyZW50bHkgcXVldWVkIGVudHJpZXMuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS50YWtlUmVjb3JkcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVjb3JkcyA9IHRoaXMuX3F1ZXVlZEVudHJpZXMuc2xpY2UoKTtcbiAgdGhpcy5fcXVldWVkRW50cmllcyA9IFtdO1xuICByZXR1cm4gcmVjb3Jkcztcbn07XG5cblxuLyoqXG4gKiBBY2NlcHRzIHRoZSB0aHJlc2hvbGQgdmFsdWUgZnJvbSB0aGUgdXNlciBjb25maWd1cmF0aW9uIG9iamVjdCBhbmRcbiAqIHJldHVybnMgYSBzb3J0ZWQgYXJyYXkgb2YgdW5pcXVlIHRocmVzaG9sZCB2YWx1ZXMuIElmIGEgdmFsdWUgaXMgbm90XG4gKiBiZXR3ZWVuIDAgYW5kIDEgYW5kIGVycm9yIGlzIHRocm93bi5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fG51bWJlcj19IG9wdF90aHJlc2hvbGQgQW4gb3B0aW9uYWwgdGhyZXNob2xkIHZhbHVlIG9yXG4gKiAgICAgYSBsaXN0IG9mIHRocmVzaG9sZCB2YWx1ZXMsIGRlZmF1bHRpbmcgdG8gWzBdLlxuICogQHJldHVybiB7QXJyYXl9IEEgc29ydGVkIGxpc3Qgb2YgdW5pcXVlIGFuZCB2YWxpZCB0aHJlc2hvbGQgdmFsdWVzLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX2luaXRUaHJlc2hvbGRzID0gZnVuY3Rpb24ob3B0X3RocmVzaG9sZCkge1xuICB2YXIgdGhyZXNob2xkID0gb3B0X3RocmVzaG9sZCB8fCBbMF07XG4gIGlmICghQXJyYXkuaXNBcnJheSh0aHJlc2hvbGQpKSB0aHJlc2hvbGQgPSBbdGhyZXNob2xkXTtcblxuICByZXR1cm4gdGhyZXNob2xkLnNvcnQoKS5maWx0ZXIoZnVuY3Rpb24odCwgaSwgYSkge1xuICAgIGlmICh0eXBlb2YgdCAhPSAnbnVtYmVyJyB8fCBpc05hTih0KSB8fCB0IDwgMCB8fCB0ID4gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aHJlc2hvbGQgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEgaW5jbHVzaXZlbHknKTtcbiAgICB9XG4gICAgcmV0dXJuIHQgIT09IGFbaSAtIDFdO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBBY2NlcHRzIHRoZSByb290TWFyZ2luIHZhbHVlIGZyb20gdGhlIHVzZXIgY29uZmlndXJhdGlvbiBvYmplY3RcbiAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBmb3VyIG1hcmdpbiB2YWx1ZXMgYXMgYW4gb2JqZWN0IGNvbnRhaW5pbmdcbiAqIHRoZSB2YWx1ZSBhbmQgdW5pdCBwcm9wZXJ0aWVzLiBJZiBhbnkgb2YgdGhlIHZhbHVlcyBhcmUgbm90IHByb3Blcmx5XG4gKiBmb3JtYXR0ZWQgb3IgdXNlIGEgdW5pdCBvdGhlciB0aGFuIHB4IG9yICUsIGFuZCBlcnJvciBpcyB0aHJvd24uXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfcm9vdE1hcmdpbiBBbiBvcHRpb25hbCByb290TWFyZ2luIHZhbHVlLFxuICogICAgIGRlZmF1bHRpbmcgdG8gJzBweCcuXG4gKiBAcmV0dXJuIHtBcnJheTxPYmplY3Q+fSBBbiBhcnJheSBvZiBtYXJnaW4gb2JqZWN0cyB3aXRoIHRoZSBrZXlzXG4gKiAgICAgdmFsdWUgYW5kIHVuaXQuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fcGFyc2VSb290TWFyZ2luID0gZnVuY3Rpb24ob3B0X3Jvb3RNYXJnaW4pIHtcbiAgdmFyIG1hcmdpblN0cmluZyA9IG9wdF9yb290TWFyZ2luIHx8ICcwcHgnO1xuICB2YXIgbWFyZ2lucyA9IG1hcmdpblN0cmluZy5zcGxpdCgvXFxzKy8pLm1hcChmdW5jdGlvbihtYXJnaW4pIHtcbiAgICB2YXIgcGFydHMgPSAvXigtP1xcZCpcXC4/XFxkKykocHh8JSkkLy5leGVjKG1hcmdpbik7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyb290TWFyZ2luIG11c3QgYmUgc3BlY2lmaWVkIGluIHBpeGVscyBvciBwZXJjZW50Jyk7XG4gICAgfVxuICAgIHJldHVybiB7dmFsdWU6IHBhcnNlRmxvYXQocGFydHNbMV0pLCB1bml0OiBwYXJ0c1syXX07XG4gIH0pO1xuXG4gIC8vIEhhbmRsZXMgc2hvcnRoYW5kLlxuICBtYXJnaW5zWzFdID0gbWFyZ2luc1sxXSB8fCBtYXJnaW5zWzBdO1xuICBtYXJnaW5zWzJdID0gbWFyZ2luc1syXSB8fCBtYXJnaW5zWzBdO1xuICBtYXJnaW5zWzNdID0gbWFyZ2luc1szXSB8fCBtYXJnaW5zWzFdO1xuXG4gIHJldHVybiBtYXJnaW5zO1xufTtcblxuXG4vKipcbiAqIFN0YXJ0cyBwb2xsaW5nIGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcyBpZiB0aGUgcG9sbGluZyBpcyBub3QgYWxyZWFkeVxuICogaGFwcGVuaW5nLCBhbmQgaWYgdGhlIHBhZ2UncyB2aXNpYmlsaXR5IHN0YXRlIGlzIHZpc2libGUuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX21vbml0b3JJbnRlcnNlY3Rpb25zID0gZnVuY3Rpb24oZG9jKSB7XG4gIHZhciB3aW4gPSBkb2MuZGVmYXVsdFZpZXc7XG4gIGlmICghd2luKSB7XG4gICAgLy8gQWxyZWFkeSBkZXN0cm95ZWQuXG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0aGlzLl9tb25pdG9yaW5nRG9jdW1lbnRzLmluZGV4T2YoZG9jKSAhPSAtMSkge1xuICAgIC8vIEFscmVhZHkgbW9uaXRvcmluZy5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBQcml2YXRlIHN0YXRlIGZvciBtb25pdG9yaW5nLlxuICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnM7XG4gIHZhciBtb25pdG9yaW5nSW50ZXJ2YWwgPSBudWxsO1xuICB2YXIgZG9tT2JzZXJ2ZXIgPSBudWxsO1xuXG4gIC8vIElmIGEgcG9sbCBpbnRlcnZhbCBpcyBzZXQsIHVzZSBwb2xsaW5nIGluc3RlYWQgb2YgbGlzdGVuaW5nIHRvXG4gIC8vIHJlc2l6ZSBhbmQgc2Nyb2xsIGV2ZW50cyBvciBET00gbXV0YXRpb25zLlxuICBpZiAodGhpcy5QT0xMX0lOVEVSVkFMKSB7XG4gICAgbW9uaXRvcmluZ0ludGVydmFsID0gd2luLnNldEludGVydmFsKGNhbGxiYWNrLCB0aGlzLlBPTExfSU5URVJWQUwpO1xuICB9IGVsc2Uge1xuICAgIGFkZEV2ZW50KHdpbiwgJ3Jlc2l6ZScsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICBhZGRFdmVudChkb2MsICdzY3JvbGwnLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgaWYgKHRoaXMuVVNFX01VVEFUSU9OX09CU0VSVkVSICYmICdNdXRhdGlvbk9ic2VydmVyJyBpbiB3aW4pIHtcbiAgICAgIGRvbU9ic2VydmVyID0gbmV3IHdpbi5NdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcbiAgICAgIGRvbU9ic2VydmVyLm9ic2VydmUoZG9jLCB7XG4gICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5fbW9uaXRvcmluZ0RvY3VtZW50cy5wdXNoKGRvYyk7XG4gIHRoaXMuX21vbml0b3JpbmdVbnN1YnNjcmliZXMucHVzaChmdW5jdGlvbigpIHtcbiAgICAvLyBHZXQgdGhlIHdpbmRvdyBvYmplY3QgYWdhaW4uIFdoZW4gYSBmcmllbmRseSBpZnJhbWUgaXMgZGVzdHJveWVkLCBpdFxuICAgIC8vIHdpbGwgYmUgbnVsbC5cbiAgICB2YXIgd2luID0gZG9jLmRlZmF1bHRWaWV3O1xuXG4gICAgaWYgKHdpbikge1xuICAgICAgaWYgKG1vbml0b3JpbmdJbnRlcnZhbCkge1xuICAgICAgICB3aW4uY2xlYXJJbnRlcnZhbChtb25pdG9yaW5nSW50ZXJ2YWwpO1xuICAgICAgfVxuICAgICAgcmVtb3ZlRXZlbnQod2luLCAncmVzaXplJywgY2FsbGJhY2ssIHRydWUpO1xuICAgIH1cblxuICAgIHJlbW92ZUV2ZW50KGRvYywgJ3Njcm9sbCcsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICBpZiAoZG9tT2JzZXJ2ZXIpIHtcbiAgICAgIGRvbU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEFsc28gbW9uaXRvciB0aGUgcGFyZW50LlxuICB2YXIgcm9vdERvYyA9XG4gICAgKHRoaXMucm9vdCAmJiAodGhpcy5yb290Lm93bmVyRG9jdW1lbnQgfHwgdGhpcy5yb290KSkgfHwgZG9jdW1lbnQ7XG4gIGlmIChkb2MgIT0gcm9vdERvYykge1xuICAgIHZhciBmcmFtZSA9IGdldEZyYW1lRWxlbWVudChkb2MpO1xuICAgIGlmIChmcmFtZSkge1xuICAgICAgdGhpcy5fbW9uaXRvckludGVyc2VjdGlvbnMoZnJhbWUub3duZXJEb2N1bWVudCk7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICogU3RvcHMgcG9sbGluZyBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3VubW9uaXRvckludGVyc2VjdGlvbnMgPSBmdW5jdGlvbihkb2MpIHtcbiAgdmFyIGluZGV4ID0gdGhpcy5fbW9uaXRvcmluZ0RvY3VtZW50cy5pbmRleE9mKGRvYyk7XG4gIGlmIChpbmRleCA9PSAtMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciByb290RG9jID1cbiAgICAodGhpcy5yb290ICYmICh0aGlzLnJvb3Qub3duZXJEb2N1bWVudCB8fCB0aGlzLnJvb3QpKSB8fCBkb2N1bWVudDtcblxuICAvLyBDaGVjayBpZiBhbnkgZGVwZW5kZW50IHRhcmdldHMgYXJlIHN0aWxsIHJlbWFpbmluZy5cbiAgdmFyIGhhc0RlcGVuZGVudFRhcmdldHMgPVxuICAgICAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLnNvbWUoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB2YXIgaXRlbURvYyA9IGl0ZW0uZWxlbWVudC5vd25lckRvY3VtZW50O1xuICAgICAgICAvLyBUYXJnZXQgaXMgaW4gdGhpcyBjb250ZXh0LlxuICAgICAgICBpZiAoaXRlbURvYyA9PSBkb2MpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUYXJnZXQgaXMgbmVzdGVkIGluIHRoaXMgY29udGV4dC5cbiAgICAgICAgd2hpbGUgKGl0ZW1Eb2MgJiYgaXRlbURvYyAhPSByb290RG9jKSB7XG4gICAgICAgICAgdmFyIGZyYW1lID0gZ2V0RnJhbWVFbGVtZW50KGl0ZW1Eb2MpO1xuICAgICAgICAgIGl0ZW1Eb2MgPSBmcmFtZSAmJiBmcmFtZS5vd25lckRvY3VtZW50O1xuICAgICAgICAgIGlmIChpdGVtRG9jID09IGRvYykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICBpZiAoaGFzRGVwZW5kZW50VGFyZ2V0cykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFVuc3Vic2NyaWJlLlxuICB2YXIgdW5zdWJzY3JpYmUgPSB0aGlzLl9tb25pdG9yaW5nVW5zdWJzY3JpYmVzW2luZGV4XTtcbiAgdGhpcy5fbW9uaXRvcmluZ0RvY3VtZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICB0aGlzLl9tb25pdG9yaW5nVW5zdWJzY3JpYmVzLnNwbGljZShpbmRleCwgMSk7XG4gIHVuc3Vic2NyaWJlKCk7XG5cbiAgLy8gQWxzbyB1bm1vbml0b3IgdGhlIHBhcmVudC5cbiAgaWYgKGRvYyAhPSByb290RG9jKSB7XG4gICAgdmFyIGZyYW1lID0gZ2V0RnJhbWVFbGVtZW50KGRvYyk7XG4gICAgaWYgKGZyYW1lKSB7XG4gICAgICB0aGlzLl91bm1vbml0b3JJbnRlcnNlY3Rpb25zKGZyYW1lLm93bmVyRG9jdW1lbnQpO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIFN0b3BzIHBvbGxpbmcgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl91bm1vbml0b3JBbGxJbnRlcnNlY3Rpb25zID0gZnVuY3Rpb24oKSB7XG4gIHZhciB1bnN1YnNjcmliZXMgPSB0aGlzLl9tb25pdG9yaW5nVW5zdWJzY3JpYmVzLnNsaWNlKDApO1xuICB0aGlzLl9tb25pdG9yaW5nRG9jdW1lbnRzLmxlbmd0aCA9IDA7XG4gIHRoaXMuX21vbml0b3JpbmdVbnN1YnNjcmliZXMubGVuZ3RoID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bnN1YnNjcmliZXMubGVuZ3RoOyBpKyspIHtcbiAgICB1bnN1YnNjcmliZXNbaV0oKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFNjYW5zIGVhY2ggb2JzZXJ2YXRpb24gdGFyZ2V0IGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcyBhbmQgYWRkcyB0aGVtXG4gKiB0byB0aGUgaW50ZXJuYWwgZW50cmllcyBxdWV1ZS4gSWYgbmV3IGVudHJpZXMgYXJlIGZvdW5kLCBpdFxuICogc2NoZWR1bGVzIHRoZSBjYWxsYmFjayB0byBiZSBpbnZva2VkLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9jaGVja0ZvckludGVyc2VjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLnJvb3QgJiYgY3Jvc3NPcmlnaW5VcGRhdGVyICYmICFjcm9zc09yaWdpblJlY3QpIHtcbiAgICAvLyBDcm9zcyBvcmlnaW4gbW9uaXRvcmluZywgYnV0IG5vIGluaXRpYWwgZGF0YSBhdmFpbGFibGUgeWV0LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciByb290SXNJbkRvbSA9IHRoaXMuX3Jvb3RJc0luRG9tKCk7XG4gIHZhciByb290UmVjdCA9IHJvb3RJc0luRG9tID8gdGhpcy5fZ2V0Um9vdFJlY3QoKSA6IGdldEVtcHR5UmVjdCgpO1xuXG4gIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICB2YXIgdGFyZ2V0ID0gaXRlbS5lbGVtZW50O1xuICAgIHZhciB0YXJnZXRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHRhcmdldCk7XG4gICAgdmFyIHJvb3RDb250YWluc1RhcmdldCA9IHRoaXMuX3Jvb3RDb250YWluc1RhcmdldCh0YXJnZXQpO1xuICAgIHZhciBvbGRFbnRyeSA9IGl0ZW0uZW50cnk7XG4gICAgdmFyIGludGVyc2VjdGlvblJlY3QgPSByb290SXNJbkRvbSAmJiByb290Q29udGFpbnNUYXJnZXQgJiZcbiAgICAgICAgdGhpcy5fY29tcHV0ZVRhcmdldEFuZFJvb3RJbnRlcnNlY3Rpb24odGFyZ2V0LCB0YXJnZXRSZWN0LCByb290UmVjdCk7XG5cbiAgICB2YXIgcm9vdEJvdW5kcyA9IG51bGw7XG4gICAgaWYgKCF0aGlzLl9yb290Q29udGFpbnNUYXJnZXQodGFyZ2V0KSkge1xuICAgICAgcm9vdEJvdW5kcyA9IGdldEVtcHR5UmVjdCgpO1xuICAgIH0gZWxzZSBpZiAoIWNyb3NzT3JpZ2luVXBkYXRlciB8fCB0aGlzLnJvb3QpIHtcbiAgICAgIHJvb3RCb3VuZHMgPSByb290UmVjdDtcbiAgICB9XG5cbiAgICB2YXIgbmV3RW50cnkgPSBpdGVtLmVudHJ5ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkoe1xuICAgICAgdGltZTogbm93KCksXG4gICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgIGJvdW5kaW5nQ2xpZW50UmVjdDogdGFyZ2V0UmVjdCxcbiAgICAgIHJvb3RCb3VuZHM6IHJvb3RCb3VuZHMsXG4gICAgICBpbnRlcnNlY3Rpb25SZWN0OiBpbnRlcnNlY3Rpb25SZWN0XG4gICAgfSk7XG5cbiAgICBpZiAoIW9sZEVudHJ5KSB7XG4gICAgICB0aGlzLl9xdWV1ZWRFbnRyaWVzLnB1c2gobmV3RW50cnkpO1xuICAgIH0gZWxzZSBpZiAocm9vdElzSW5Eb20gJiYgcm9vdENvbnRhaW5zVGFyZ2V0KSB7XG4gICAgICAvLyBJZiB0aGUgbmV3IGVudHJ5IGludGVyc2VjdGlvbiByYXRpbyBoYXMgY3Jvc3NlZCBhbnkgb2YgdGhlXG4gICAgICAvLyB0aHJlc2hvbGRzLCBhZGQgYSBuZXcgZW50cnkuXG4gICAgICBpZiAodGhpcy5faGFzQ3Jvc3NlZFRocmVzaG9sZChvbGRFbnRyeSwgbmV3RW50cnkpKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlZEVudHJpZXMucHVzaChuZXdFbnRyeSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoZSByb290IGlzIG5vdCBpbiB0aGUgRE9NIG9yIHRhcmdldCBpcyBub3QgY29udGFpbmVkIHdpdGhpblxuICAgICAgLy8gcm9vdCBidXQgdGhlIHByZXZpb3VzIGVudHJ5IGZvciB0aGlzIHRhcmdldCBoYWQgYW4gaW50ZXJzZWN0aW9uLFxuICAgICAgLy8gYWRkIGEgbmV3IHJlY29yZCBpbmRpY2F0aW5nIHJlbW92YWwuXG4gICAgICBpZiAob2xkRW50cnkgJiYgb2xkRW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgdGhpcy5fcXVldWVkRW50cmllcy5wdXNoKG5ld0VudHJ5KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHRoaXMpO1xuXG4gIGlmICh0aGlzLl9xdWV1ZWRFbnRyaWVzLmxlbmd0aCkge1xuICAgIHRoaXMuX2NhbGxiYWNrKHRoaXMudGFrZVJlY29yZHMoKSwgdGhpcyk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBBY2NlcHRzIGEgdGFyZ2V0IGFuZCByb290IHJlY3QgY29tcHV0ZXMgdGhlIGludGVyc2VjdGlvbiBiZXR3ZWVuIHRoZW5cbiAqIGZvbGxvd2luZyB0aGUgYWxnb3JpdGhtIGluIHRoZSBzcGVjLlxuICogVE9ETyhwaGlsaXB3YWx0b24pOiBhdCB0aGlzIHRpbWUgY2xpcC1wYXRoIGlzIG5vdCBjb25zaWRlcmVkLlxuICogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL0ludGVyc2VjdGlvbk9ic2VydmVyLyNjYWxjdWxhdGUtaW50ZXJzZWN0aW9uLXJlY3QtYWxnb1xuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIHRhcmdldCBET00gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFJlY3QgVGhlIGJvdW5kaW5nIHJlY3Qgb2YgdGhlIHRhcmdldC5cbiAqIEBwYXJhbSB7T2JqZWN0fSByb290UmVjdCBUaGUgYm91bmRpbmcgcmVjdCBvZiB0aGUgcm9vdCBhZnRlciBiZWluZ1xuICogICAgIGV4cGFuZGVkIGJ5IHRoZSByb290TWFyZ2luIHZhbHVlLlxuICogQHJldHVybiB7P09iamVjdH0gVGhlIGZpbmFsIGludGVyc2VjdGlvbiByZWN0IG9iamVjdCBvciB1bmRlZmluZWQgaWYgbm9cbiAqICAgICBpbnRlcnNlY3Rpb24gaXMgZm91bmQuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX2NvbXB1dGVUYXJnZXRBbmRSb290SW50ZXJzZWN0aW9uID1cbiAgICBmdW5jdGlvbih0YXJnZXQsIHRhcmdldFJlY3QsIHJvb3RSZWN0KSB7XG4gIC8vIElmIHRoZSBlbGVtZW50IGlzbid0IGRpc3BsYXllZCwgYW4gaW50ZXJzZWN0aW9uIGNhbid0IGhhcHBlbi5cbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZGlzcGxheSA9PSAnbm9uZScpIHJldHVybjtcblxuICB2YXIgaW50ZXJzZWN0aW9uUmVjdCA9IHRhcmdldFJlY3Q7XG4gIHZhciBwYXJlbnQgPSBnZXRQYXJlbnROb2RlKHRhcmdldCk7XG4gIHZhciBhdFJvb3QgPSBmYWxzZTtcblxuICB3aGlsZSAoIWF0Um9vdCAmJiBwYXJlbnQpIHtcbiAgICB2YXIgcGFyZW50UmVjdCA9IG51bGw7XG4gICAgdmFyIHBhcmVudENvbXB1dGVkU3R5bGUgPSBwYXJlbnQubm9kZVR5cGUgPT0gMSA/XG4gICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudCkgOiB7fTtcblxuICAgIC8vIElmIHRoZSBwYXJlbnQgaXNuJ3QgZGlzcGxheWVkLCBhbiBpbnRlcnNlY3Rpb24gY2FuJ3QgaGFwcGVuLlxuICAgIGlmIChwYXJlbnRDb21wdXRlZFN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnKSByZXR1cm4gbnVsbDtcblxuICAgIGlmIChwYXJlbnQgPT0gdGhpcy5yb290IHx8IHBhcmVudC5ub2RlVHlwZSA9PSAvKiBET0NVTUVOVCAqLyA5KSB7XG4gICAgICBhdFJvb3QgPSB0cnVlO1xuICAgICAgaWYgKHBhcmVudCA9PSB0aGlzLnJvb3QgfHwgcGFyZW50ID09IGRvY3VtZW50KSB7XG4gICAgICAgIGlmIChjcm9zc09yaWdpblVwZGF0ZXIgJiYgIXRoaXMucm9vdCkge1xuICAgICAgICAgIGlmICghY3Jvc3NPcmlnaW5SZWN0IHx8XG4gICAgICAgICAgICAgIGNyb3NzT3JpZ2luUmVjdC53aWR0aCA9PSAwICYmIGNyb3NzT3JpZ2luUmVjdC5oZWlnaHQgPT0gMCkge1xuICAgICAgICAgICAgLy8gQSAwLXNpemUgY3Jvc3Mtb3JpZ2luIGludGVyc2VjdGlvbiBtZWFucyBuby1pbnRlcnNlY3Rpb24uXG4gICAgICAgICAgICBwYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgcGFyZW50UmVjdCA9IG51bGw7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25SZWN0ID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50UmVjdCA9IGNyb3NzT3JpZ2luUmVjdDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50UmVjdCA9IHJvb3RSZWN0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgZnJhbWUgdGhhdCBjYW4gYmUgbmF2aWdhdGVkIHRvLlxuICAgICAgICB2YXIgZnJhbWUgPSBnZXRQYXJlbnROb2RlKHBhcmVudCk7XG4gICAgICAgIHZhciBmcmFtZVJlY3QgPSBmcmFtZSAmJiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZnJhbWUpO1xuICAgICAgICB2YXIgZnJhbWVJbnRlcnNlY3QgPVxuICAgICAgICAgICAgZnJhbWUgJiZcbiAgICAgICAgICAgIHRoaXMuX2NvbXB1dGVUYXJnZXRBbmRSb290SW50ZXJzZWN0aW9uKGZyYW1lLCBmcmFtZVJlY3QsIHJvb3RSZWN0KTtcbiAgICAgICAgaWYgKGZyYW1lUmVjdCAmJiBmcmFtZUludGVyc2VjdCkge1xuICAgICAgICAgIHBhcmVudCA9IGZyYW1lO1xuICAgICAgICAgIHBhcmVudFJlY3QgPSBjb252ZXJ0RnJvbVBhcmVudFJlY3QoZnJhbWVSZWN0LCBmcmFtZUludGVyc2VjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50ID0gbnVsbDtcbiAgICAgICAgICBpbnRlcnNlY3Rpb25SZWN0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBub24tdmlzaWJsZSBvdmVyZmxvdywgYW5kIGl0J3Mgbm90IHRoZSA8Ym9keT5cbiAgICAgIC8vIG9yIDxodG1sPiBlbGVtZW50LCB1cGRhdGUgdGhlIGludGVyc2VjdGlvbiByZWN0LlxuICAgICAgLy8gTm90ZTogPGJvZHk+IGFuZCA8aHRtbD4gY2Fubm90IGJlIGNsaXBwZWQgdG8gYSByZWN0IHRoYXQncyBub3QgYWxzb1xuICAgICAgLy8gdGhlIGRvY3VtZW50IHJlY3QsIHNvIG5vIG5lZWQgdG8gY29tcHV0ZSBhIG5ldyBpbnRlcnNlY3Rpb24uXG4gICAgICB2YXIgZG9jID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICBpZiAocGFyZW50ICE9IGRvYy5ib2R5ICYmXG4gICAgICAgICAgcGFyZW50ICE9IGRvYy5kb2N1bWVudEVsZW1lbnQgJiZcbiAgICAgICAgICBwYXJlbnRDb21wdXRlZFN0eWxlLm92ZXJmbG93ICE9ICd2aXNpYmxlJykge1xuICAgICAgICBwYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgZWl0aGVyIG9mIHRoZSBhYm92ZSBjb25kaXRpb25hbHMgc2V0IGEgbmV3IHBhcmVudFJlY3QsXG4gICAgLy8gY2FsY3VsYXRlIG5ldyBpbnRlcnNlY3Rpb24gZGF0YS5cbiAgICBpZiAocGFyZW50UmVjdCkge1xuICAgICAgaW50ZXJzZWN0aW9uUmVjdCA9IGNvbXB1dGVSZWN0SW50ZXJzZWN0aW9uKHBhcmVudFJlY3QsIGludGVyc2VjdGlvblJlY3QpO1xuICAgIH1cbiAgICBpZiAoIWludGVyc2VjdGlvblJlY3QpIGJyZWFrO1xuICAgIHBhcmVudCA9IHBhcmVudCAmJiBnZXRQYXJlbnROb2RlKHBhcmVudCk7XG4gIH1cbiAgcmV0dXJuIGludGVyc2VjdGlvblJlY3Q7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcm9vdCByZWN0IGFmdGVyIGJlaW5nIGV4cGFuZGVkIGJ5IHRoZSByb290TWFyZ2luIHZhbHVlLlxuICogQHJldHVybiB7Q2xpZW50UmVjdH0gVGhlIGV4cGFuZGVkIHJvb3QgcmVjdC5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fZ2V0Um9vdFJlY3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJvb3RSZWN0O1xuICBpZiAodGhpcy5yb290ICYmICFpc0RvYyh0aGlzLnJvb3QpKSB7XG4gICAgcm9vdFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QodGhpcy5yb290KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBVc2UgPGh0bWw+Lzxib2R5PiBpbnN0ZWFkIG9mIHdpbmRvdyBzaW5jZSBzY3JvbGwgYmFycyBhZmZlY3Qgc2l6ZS5cbiAgICB2YXIgZG9jID0gaXNEb2ModGhpcy5yb290KSA/IHRoaXMucm9vdCA6IGRvY3VtZW50O1xuICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICB2YXIgYm9keSA9IGRvYy5ib2R5O1xuICAgIHJvb3RSZWN0ID0ge1xuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiBodG1sLmNsaWVudFdpZHRoIHx8IGJvZHkuY2xpZW50V2lkdGgsXG4gICAgICB3aWR0aDogaHRtbC5jbGllbnRXaWR0aCB8fCBib2R5LmNsaWVudFdpZHRoLFxuICAgICAgYm90dG9tOiBodG1sLmNsaWVudEhlaWdodCB8fCBib2R5LmNsaWVudEhlaWdodCxcbiAgICAgIGhlaWdodDogaHRtbC5jbGllbnRIZWlnaHQgfHwgYm9keS5jbGllbnRIZWlnaHRcbiAgICB9O1xuICB9XG4gIHJldHVybiB0aGlzLl9leHBhbmRSZWN0QnlSb290TWFyZ2luKHJvb3RSZWN0KTtcbn07XG5cblxuLyoqXG4gKiBBY2NlcHRzIGEgcmVjdCBhbmQgZXhwYW5kcyBpdCBieSB0aGUgcm9vdE1hcmdpbiB2YWx1ZS5cbiAqIEBwYXJhbSB7RE9NUmVjdHxDbGllbnRSZWN0fSByZWN0IFRoZSByZWN0IG9iamVjdCB0byBleHBhbmQuXG4gKiBAcmV0dXJuIHtDbGllbnRSZWN0fSBUaGUgZXhwYW5kZWQgcmVjdC5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fZXhwYW5kUmVjdEJ5Um9vdE1hcmdpbiA9IGZ1bmN0aW9uKHJlY3QpIHtcbiAgdmFyIG1hcmdpbnMgPSB0aGlzLl9yb290TWFyZ2luVmFsdWVzLm1hcChmdW5jdGlvbihtYXJnaW4sIGkpIHtcbiAgICByZXR1cm4gbWFyZ2luLnVuaXQgPT0gJ3B4JyA/IG1hcmdpbi52YWx1ZSA6XG4gICAgICAgIG1hcmdpbi52YWx1ZSAqIChpICUgMiA/IHJlY3Qud2lkdGggOiByZWN0LmhlaWdodCkgLyAxMDA7XG4gIH0pO1xuICB2YXIgbmV3UmVjdCA9IHtcbiAgICB0b3A6IHJlY3QudG9wIC0gbWFyZ2luc1swXSxcbiAgICByaWdodDogcmVjdC5yaWdodCArIG1hcmdpbnNbMV0sXG4gICAgYm90dG9tOiByZWN0LmJvdHRvbSArIG1hcmdpbnNbMl0sXG4gICAgbGVmdDogcmVjdC5sZWZ0IC0gbWFyZ2luc1szXVxuICB9O1xuICBuZXdSZWN0LndpZHRoID0gbmV3UmVjdC5yaWdodCAtIG5ld1JlY3QubGVmdDtcbiAgbmV3UmVjdC5oZWlnaHQgPSBuZXdSZWN0LmJvdHRvbSAtIG5ld1JlY3QudG9wO1xuXG4gIHJldHVybiBuZXdSZWN0O1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgYW4gb2xkIGFuZCBuZXcgZW50cnkgYW5kIHJldHVybnMgdHJ1ZSBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlXG4gKiB0aHJlc2hvbGQgdmFsdWVzIGhhcyBiZWVuIGNyb3NzZWQuXG4gKiBAcGFyYW0gez9JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5fSBvbGRFbnRyeSBUaGUgcHJldmlvdXMgZW50cnkgZm9yIGFcbiAqICAgIHBhcnRpY3VsYXIgdGFyZ2V0IGVsZW1lbnQgb3IgbnVsbCBpZiBubyBwcmV2aW91cyBlbnRyeSBleGlzdHMuXG4gKiBAcGFyYW0ge0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnl9IG5ld0VudHJ5IFRoZSBjdXJyZW50IGVudHJ5IGZvciBhXG4gKiAgICBwYXJ0aWN1bGFyIHRhcmdldCBlbGVtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGEgYW55IHRocmVzaG9sZCBoYXMgYmVlbiBjcm9zc2VkLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9oYXNDcm9zc2VkVGhyZXNob2xkID1cbiAgICBmdW5jdGlvbihvbGRFbnRyeSwgbmV3RW50cnkpIHtcblxuICAvLyBUbyBtYWtlIGNvbXBhcmluZyBlYXNpZXIsIGFuIGVudHJ5IHRoYXQgaGFzIGEgcmF0aW8gb2YgMFxuICAvLyBidXQgZG9lcyBub3QgYWN0dWFsbHkgaW50ZXJzZWN0IGlzIGdpdmVuIGEgdmFsdWUgb2YgLTFcbiAgdmFyIG9sZFJhdGlvID0gb2xkRW50cnkgJiYgb2xkRW50cnkuaXNJbnRlcnNlY3RpbmcgP1xuICAgICAgb2xkRW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gfHwgMCA6IC0xO1xuICB2YXIgbmV3UmF0aW8gPSBuZXdFbnRyeS5pc0ludGVyc2VjdGluZyA/XG4gICAgICBuZXdFbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyB8fCAwIDogLTE7XG5cbiAgLy8gSWdub3JlIHVuY2hhbmdlZCByYXRpb3NcbiAgaWYgKG9sZFJhdGlvID09PSBuZXdSYXRpbykgcmV0dXJuO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50aHJlc2hvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRocmVzaG9sZCA9IHRoaXMudGhyZXNob2xkc1tpXTtcblxuICAgIC8vIFJldHVybiB0cnVlIGlmIGFuIGVudHJ5IG1hdGNoZXMgYSB0aHJlc2hvbGQgb3IgaWYgdGhlIG5ldyByYXRpb1xuICAgIC8vIGFuZCB0aGUgb2xkIHJhdGlvIGFyZSBvbiB0aGUgb3Bwb3NpdGUgc2lkZXMgb2YgYSB0aHJlc2hvbGQuXG4gICAgaWYgKHRocmVzaG9sZCA9PSBvbGRSYXRpbyB8fCB0aHJlc2hvbGQgPT0gbmV3UmF0aW8gfHxcbiAgICAgICAgdGhyZXNob2xkIDwgb2xkUmF0aW8gIT09IHRocmVzaG9sZCA8IG5ld1JhdGlvKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSByb290IGVsZW1lbnQgaXMgYW4gZWxlbWVudCBhbmQgaXMgaW4gdGhlIERPTS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHJvb3QgZWxlbWVudCBpcyBhbiBlbGVtZW50IGFuZCBpcyBpbiB0aGUgRE9NLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9yb290SXNJbkRvbSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMucm9vdCB8fCBjb250YWluc0RlZXAoZG9jdW1lbnQsIHRoaXMucm9vdCk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgYSBjaGlsZCBvZiByb290LlxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIHRhcmdldCBlbGVtZW50IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgYSBjaGlsZCBvZiByb290LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9yb290Q29udGFpbnNUYXJnZXQgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdmFyIHJvb3REb2MgPVxuICAgICh0aGlzLnJvb3QgJiYgKHRoaXMucm9vdC5vd25lckRvY3VtZW50IHx8IHRoaXMucm9vdCkpIHx8IGRvY3VtZW50O1xuICByZXR1cm4gKFxuICAgIGNvbnRhaW5zRGVlcChyb290RG9jLCB0YXJnZXQpICYmXG4gICAgKCF0aGlzLnJvb3QgfHwgcm9vdERvYyA9PSB0YXJnZXQub3duZXJEb2N1bWVudClcbiAgKTtcbn07XG5cblxuLyoqXG4gKiBBZGRzIHRoZSBpbnN0YW5jZSB0byB0aGUgZ2xvYmFsIEludGVyc2VjdGlvbk9ic2VydmVyIHJlZ2lzdHJ5IGlmIGl0IGlzbid0XG4gKiBhbHJlYWR5IHByZXNlbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3JlZ2lzdGVySW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHJlZ2lzdHJ5LmluZGV4T2YodGhpcykgPCAwKSB7XG4gICAgcmVnaXN0cnkucHVzaCh0aGlzKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGluc3RhbmNlIGZyb20gdGhlIGdsb2JhbCBJbnRlcnNlY3Rpb25PYnNlcnZlciByZWdpc3RyeS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fdW5yZWdpc3Rlckluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpbmRleCA9IHJlZ2lzdHJ5LmluZGV4T2YodGhpcyk7XG4gIGlmIChpbmRleCAhPSAtMSkgcmVnaXN0cnkuc3BsaWNlKGluZGV4LCAxKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIHBlcmZvcm1hbmNlLm5vdygpIG1ldGhvZCBvciBudWxsIGluIGJyb3dzZXJzXG4gKiB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIEFQSS5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGVsYXBzZWQgdGltZSBzaW5jZSB0aGUgcGFnZSB3YXMgcmVxdWVzdGVkLlxuICovXG5mdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2UgJiYgcGVyZm9ybWFuY2Uubm93ICYmIHBlcmZvcm1hbmNlLm5vdygpO1xufVxuXG5cbi8qKlxuICogVGhyb3R0bGVzIGEgZnVuY3Rpb24gYW5kIGRlbGF5cyBpdHMgZXhlY3V0aW9uLCBzbyBpdCdzIG9ubHkgY2FsbGVkIGF0IG1vc3RcbiAqIG9uY2Ugd2l0aGluIGEgZ2l2ZW4gdGltZSBwZXJpb2QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdGltZW91dCBUaGUgYW1vdW50IG9mIHRpbWUgdGhhdCBtdXN0IHBhc3MgYmVmb3JlIHRoZVxuICogICAgIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgYWdhaW4uXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIHRocm90dGxlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIHRpbWVvdXQpIHtcbiAgdmFyIHRpbWVyID0gbnVsbDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRpbWVyKSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZuKCk7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgIH0sIHRpbWVvdXQpO1xuICAgIH1cbiAgfTtcbn1cblxuXG4vKipcbiAqIEFkZHMgYW4gZXZlbnQgaGFuZGxlciB0byBhIERPTSBub2RlIGVuc3VyaW5nIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJpbGl0eS5cbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgRE9NIG5vZGUgdG8gYWRkIHRoZSBldmVudCBoYW5kbGVyIHRvLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGV2ZW50IGhhbmRsZXIgdG8gYWRkLlxuICogQHBhcmFtIHtib29sZWFufSBvcHRfdXNlQ2FwdHVyZSBPcHRpb25hbGx5IGFkZHMgdGhlIGV2ZW4gdG8gdGhlIGNhcHR1cmVcbiAqICAgICBwaGFzZS4gTm90ZTogdGhpcyBvbmx5IHdvcmtzIGluIG1vZGVybiBicm93c2Vycy5cbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnQobm9kZSwgZXZlbnQsIGZuLCBvcHRfdXNlQ2FwdHVyZSkge1xuICBpZiAodHlwZW9mIG5vZGUuYWRkRXZlbnRMaXN0ZW5lciA9PSAnZnVuY3Rpb24nKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgb3B0X3VzZUNhcHR1cmUgfHwgZmFsc2UpO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBub2RlLmF0dGFjaEV2ZW50ID09ICdmdW5jdGlvbicpIHtcbiAgICBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgZm4pO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZW1vdmVzIGEgcHJldmlvdXNseSBhZGRlZCBldmVudCBoYW5kbGVyIGZyb20gYSBET00gbm9kZS5cbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgRE9NIG5vZGUgdG8gcmVtb3ZlIHRoZSBldmVudCBoYW5kbGVyIGZyb20uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZXZlbnQgaGFuZGxlciB0byByZW1vdmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF91c2VDYXB0dXJlIElmIHRoZSBldmVudCBoYW5kbGVyIHdhcyBhZGRlZCB3aXRoIHRoaXNcbiAqICAgICBmbGFnIHNldCB0byB0cnVlLCBpdCBzaG91bGQgYmUgc2V0IHRvIHRydWUgaGVyZSBpbiBvcmRlciB0byByZW1vdmUgaXQuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50KG5vZGUsIGV2ZW50LCBmbiwgb3B0X3VzZUNhcHR1cmUpIHtcbiAgaWYgKHR5cGVvZiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPT0gJ2Z1bmN0aW9uJykge1xuICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sIG9wdF91c2VDYXB0dXJlIHx8IGZhbHNlKTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2Ygbm9kZS5kZXRhY2hFdmVudCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgbm9kZS5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGZuKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIHJlY3Qgb2JqZWN0cy5cbiAqIEBwYXJhbSB7T2JqZWN0fSByZWN0MSBUaGUgZmlyc3QgcmVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSByZWN0MiBUaGUgc2Vjb25kIHJlY3QuXG4gKiBAcmV0dXJuIHs/T2JqZWN0fD9DbGllbnRSZWN0fSBUaGUgaW50ZXJzZWN0aW9uIHJlY3Qgb3IgdW5kZWZpbmVkIGlmIG5vXG4gKiAgICAgaW50ZXJzZWN0aW9uIGlzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBjb21wdXRlUmVjdEludGVyc2VjdGlvbihyZWN0MSwgcmVjdDIpIHtcbiAgdmFyIHRvcCA9IE1hdGgubWF4KHJlY3QxLnRvcCwgcmVjdDIudG9wKTtcbiAgdmFyIGJvdHRvbSA9IE1hdGgubWluKHJlY3QxLmJvdHRvbSwgcmVjdDIuYm90dG9tKTtcbiAgdmFyIGxlZnQgPSBNYXRoLm1heChyZWN0MS5sZWZ0LCByZWN0Mi5sZWZ0KTtcbiAgdmFyIHJpZ2h0ID0gTWF0aC5taW4ocmVjdDEucmlnaHQsIHJlY3QyLnJpZ2h0KTtcbiAgdmFyIHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICB2YXIgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuXG4gIHJldHVybiAod2lkdGggPj0gMCAmJiBoZWlnaHQgPj0gMCkgJiYge1xuICAgIHRvcDogdG9wLFxuICAgIGJvdHRvbTogYm90dG9tLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgcmlnaHQ6IHJpZ2h0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9IHx8IG51bGw7XG59XG5cblxuLyoqXG4gKiBTaGltcyB0aGUgbmF0aXZlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIElFLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbCBUaGUgZWxlbWVudCB3aG9zZSBib3VuZGluZyByZWN0IHRvIGdldC5cbiAqIEByZXR1cm4ge0RPTVJlY3R8Q2xpZW50UmVjdH0gVGhlIChwb3NzaWJseSBzaGltbWVkKSByZWN0IG9mIHRoZSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWwpIHtcbiAgdmFyIHJlY3Q7XG5cbiAgdHJ5IHtcbiAgICByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIElnbm9yZSBXaW5kb3dzIDcgSUUxMSBcIlVuc3BlY2lmaWVkIGVycm9yXCJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL0ludGVyc2VjdGlvbk9ic2VydmVyL3B1bGwvMjA1XG4gIH1cblxuICBpZiAoIXJlY3QpIHJldHVybiBnZXRFbXB0eVJlY3QoKTtcblxuICAvLyBPbGRlciBJRVxuICBpZiAoIShyZWN0LndpZHRoICYmIHJlY3QuaGVpZ2h0KSkge1xuICAgIHJlY3QgPSB7XG4gICAgICB0b3A6IHJlY3QudG9wLFxuICAgICAgcmlnaHQ6IHJlY3QucmlnaHQsXG4gICAgICBib3R0b206IHJlY3QuYm90dG9tLFxuICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgd2lkdGg6IHJlY3QucmlnaHQgLSByZWN0LmxlZnQsXG4gICAgICBoZWlnaHQ6IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgICB9O1xuICB9XG4gIHJldHVybiByZWN0O1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhbiBlbXB0eSByZWN0IG9iamVjdC4gQW4gZW1wdHkgcmVjdCBpcyByZXR1cm5lZCB3aGVuIGFuIGVsZW1lbnRcbiAqIGlzIG5vdCBpbiB0aGUgRE9NLlxuICogQHJldHVybiB7Q2xpZW50UmVjdH0gVGhlIGVtcHR5IHJlY3QuXG4gKi9cbmZ1bmN0aW9uIGdldEVtcHR5UmVjdCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwXG4gIH07XG59XG5cblxuLyoqXG4gKiBFbnN1cmUgdGhhdCB0aGUgcmVzdWx0IGhhcyBhbGwgb2YgdGhlIG5lY2Vzc2FyeSBmaWVsZHMgb2YgdGhlIERPTVJlY3QuXG4gKiBTcGVjaWZpY2FsbHkgdGhpcyBlbnN1cmVzIHRoYXQgYHhgIGFuZCBgeWAgZmllbGRzIGFyZSBzZXQuXG4gKlxuICogQHBhcmFtIHs/RE9NUmVjdHw/Q2xpZW50UmVjdH0gcmVjdFxuICogQHJldHVybiB7P0RPTVJlY3R9XG4gKi9cbmZ1bmN0aW9uIGVuc3VyZURPTVJlY3QocmVjdCkge1xuICAvLyBBIGBET01SZWN0YCBvYmplY3QgaGFzIGB4YCBhbmQgYHlgIGZpZWxkcy5cbiAgaWYgKCFyZWN0IHx8ICd4JyBpbiByZWN0KSB7XG4gICAgcmV0dXJuIHJlY3Q7XG4gIH1cbiAgLy8gQSBJRSdzIGBDbGllbnRSZWN0YCB0eXBlIGRvZXMgbm90IGhhdmUgYHhgIGFuZCBgeWAuIFRoZSBzYW1lIGlzIHRoZSBjYXNlXG4gIC8vIGZvciBpbnRlcm5hbGx5IGNhbGN1bGF0ZWQgUmVjdCBvYmplY3RzLiBGb3IgdGhlIHB1cnBvc2VzIG9mXG4gIC8vIGBJbnRlcnNlY3Rpb25PYnNlcnZlcmAsIGl0J3Mgc3VmZmljaWVudCB0byBzaW1wbHkgbWlycm9yIGBsZWZ0YCBhbmQgYHRvcGBcbiAgLy8gZm9yIHRoZXNlIGZpZWxkcy5cbiAgcmV0dXJuIHtcbiAgICB0b3A6IHJlY3QudG9wLFxuICAgIHk6IHJlY3QudG9wLFxuICAgIGJvdHRvbTogcmVjdC5ib3R0b20sXG4gICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgIHg6IHJlY3QubGVmdCxcbiAgICByaWdodDogcmVjdC5yaWdodCxcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cblxuLyoqXG4gKiBJbnZlcnRzIHRoZSBpbnRlcnNlY3Rpb24gYW5kIGJvdW5kaW5nIHJlY3QgZnJvbSB0aGUgcGFyZW50IChmcmFtZSkgQkNSIHRvXG4gKiB0aGUgbG9jYWwgQkNSIHNwYWNlLlxuICogQHBhcmFtIHtET01SZWN0fENsaWVudFJlY3R9IHBhcmVudEJvdW5kaW5nUmVjdCBUaGUgcGFyZW50J3MgYm91bmQgY2xpZW50IHJlY3QuXG4gKiBAcGFyYW0ge0RPTVJlY3R8Q2xpZW50UmVjdH0gcGFyZW50SW50ZXJzZWN0aW9uUmVjdCBUaGUgcGFyZW50J3Mgb3duIGludGVyc2VjdGlvbiByZWN0LlxuICogQHJldHVybiB7Q2xpZW50UmVjdH0gVGhlIGxvY2FsIHJvb3QgYm91bmRpbmcgcmVjdCBmb3IgdGhlIHBhcmVudCdzIGNoaWxkcmVuLlxuICovXG5mdW5jdGlvbiBjb252ZXJ0RnJvbVBhcmVudFJlY3QocGFyZW50Qm91bmRpbmdSZWN0LCBwYXJlbnRJbnRlcnNlY3Rpb25SZWN0KSB7XG4gIHZhciB0b3AgPSBwYXJlbnRJbnRlcnNlY3Rpb25SZWN0LnRvcCAtIHBhcmVudEJvdW5kaW5nUmVjdC50b3A7XG4gIHZhciBsZWZ0ID0gcGFyZW50SW50ZXJzZWN0aW9uUmVjdC5sZWZ0IC0gcGFyZW50Qm91bmRpbmdSZWN0LmxlZnQ7XG4gIHJldHVybiB7XG4gICAgdG9wOiB0b3AsXG4gICAgbGVmdDogbGVmdCxcbiAgICBoZWlnaHQ6IHBhcmVudEludGVyc2VjdGlvblJlY3QuaGVpZ2h0LFxuICAgIHdpZHRoOiBwYXJlbnRJbnRlcnNlY3Rpb25SZWN0LndpZHRoLFxuICAgIGJvdHRvbTogdG9wICsgcGFyZW50SW50ZXJzZWN0aW9uUmVjdC5oZWlnaHQsXG4gICAgcmlnaHQ6IGxlZnQgKyBwYXJlbnRJbnRlcnNlY3Rpb25SZWN0LndpZHRoXG4gIH07XG59XG5cblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlmIGEgcGFyZW50IGVsZW1lbnQgY29udGFpbnMgYSBjaGlsZCBlbGVtZW50IChpbmNsdWRpbmcgaW5zaWRlXG4gKiBzaGFkb3cgRE9NKS5cbiAqIEBwYXJhbSB7Tm9kZX0gcGFyZW50IFRoZSBwYXJlbnQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Tm9kZX0gY2hpbGQgVGhlIGNoaWxkIGVsZW1lbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXJlbnQgbm9kZSBjb250YWlucyB0aGUgY2hpbGQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gY29udGFpbnNEZWVwKHBhcmVudCwgY2hpbGQpIHtcbiAgdmFyIG5vZGUgPSBjaGlsZDtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHJldHVybiB0cnVlO1xuXG4gICAgbm9kZSA9IGdldFBhcmVudE5vZGUobm9kZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogR2V0cyB0aGUgcGFyZW50IG5vZGUgb2YgYW4gZWxlbWVudCBvciBpdHMgaG9zdCBlbGVtZW50IGlmIHRoZSBwYXJlbnQgbm9kZVxuICogaXMgYSBzaGFkb3cgcm9vdC5cbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB3aG9zZSBwYXJlbnQgdG8gZ2V0LlxuICogQHJldHVybiB7Tm9kZXxudWxsfSBUaGUgcGFyZW50IG5vZGUgb3IgbnVsbCBpZiBubyBwYXJlbnQgZXhpc3RzLlxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnROb2RlKG5vZGUpIHtcbiAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcblxuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAvKiBET0NVTUVOVCAqLyA5ICYmIG5vZGUgIT0gZG9jdW1lbnQpIHtcbiAgICAvLyBJZiB0aGlzIG5vZGUgaXMgYSBkb2N1bWVudCBub2RlLCBsb29rIGZvciB0aGUgZW1iZWRkaW5nIGZyYW1lLlxuICAgIHJldHVybiBnZXRGcmFtZUVsZW1lbnQobm9kZSk7XG4gIH1cblxuICAvLyBJZiB0aGUgcGFyZW50IGhhcyBlbGVtZW50IHRoYXQgaXMgYXNzaWduZWQgdGhyb3VnaCBzaGFkb3cgcm9vdCBzbG90XG4gIGlmIChwYXJlbnQgJiYgcGFyZW50LmFzc2lnbmVkU2xvdCkge1xuICAgIHBhcmVudCA9IHBhcmVudC5hc3NpZ25lZFNsb3QucGFyZW50Tm9kZVxuICB9XG5cbiAgaWYgKHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgPT0gMTEgJiYgcGFyZW50Lmhvc3QpIHtcbiAgICAvLyBJZiB0aGUgcGFyZW50IGlzIGEgc2hhZG93IHJvb3QsIHJldHVybiB0aGUgaG9zdCBlbGVtZW50LlxuICAgIHJldHVybiBwYXJlbnQuaG9zdDtcbiAgfVxuXG4gIHJldHVybiBwYXJlbnQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGBub2RlYCBpcyBhIERvY3VtZW50LlxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRG9jKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA9PT0gOTtcbn1cblxuXG4vLyBFeHBvc2VzIHRoZSBjb25zdHJ1Y3RvcnMgZ2xvYmFsbHkuXG53aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBJbnRlcnNlY3Rpb25PYnNlcnZlcjtcbndpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5ID0gSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeTtcblxufSgpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/intersection-observer/intersection-observer.js\n"));

/***/ }),

/***/ "../../node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5Cwamp%5Cwww%5Cgritacademy%5Cjs2%5CFlex-FrontEnd-js2-SocialMedia-Jens-Christensen-BackEnd%5Cpublic%5C.keystone%5Cadmin%5Cpages%5Cusers%5Cindex.js&page=%2Fusers!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5Cwamp%5Cwww%5Cgritacademy%5Cjs2%5CFlex-FrontEnd-js2-SocialMedia-Jens-Christensen-BackEnd%5Cpublic%5C.keystone%5Cadmin%5Cpages%5Cusers%5Cindex.js&page=%2Fusers! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/users\",\n      function () {\n        return __webpack_require__(/*! ./pages/users/index.js */ \"./pages/users/index.js\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/users\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1jbGllbnQtcGFnZXMtbG9hZGVyLmpzP2Fic29sdXRlUGFnZVBhdGg9QyUzQSU1Q3dhbXAlNUN3d3clNUNncml0YWNhZGVteSU1Q2pzMiU1Q0ZsZXgtRnJvbnRFbmQtanMyLVNvY2lhbE1lZGlhLUplbnMtQ2hyaXN0ZW5zZW4tQmFja0VuZCU1Q3B1YmxpYyU1Qy5rZXlzdG9uZSU1Q2FkbWluJTVDcGFnZXMlNUN1c2VycyU1Q2luZGV4LmpzJnBhZ2U9JTJGdXNlcnMhIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFPLENBQUMsc0RBQXdCO0FBQy9DO0FBQ0E7QUFDQSxPQUFPLElBQVU7QUFDakIsTUFBTSxVQUFVO0FBQ2hCO0FBQ0EsT0FBTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLz9iY2IwIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICh3aW5kb3cuX19ORVhUX1AgPSB3aW5kb3cuX19ORVhUX1AgfHwgW10pLnB1c2goW1xuICAgICAgXCIvdXNlcnNcIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVpcmUoXCIuL3BhZ2VzL3VzZXJzL2luZGV4LmpzXCIpO1xuICAgICAgfVxuICAgIF0pO1xuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5fX05FWFRfUC5wdXNoKFtcIi91c2Vyc1wiXSlcbiAgICAgIH0pO1xuICAgIH1cbiAgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5Cwamp%5Cwww%5Cgritacademy%5Cjs2%5CFlex-FrontEnd-js2-SocialMedia-Jens-Christensen-BackEnd%5Cpublic%5C.keystone%5Cadmin%5Cpages%5Cusers%5Cindex.js&page=%2Fusers!\n"));

/***/ }),

/***/ "./pages/users/index.js":
/*!******************************!*\
  !*** ./pages/users/index.js ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _keystone_6_core_internal_do_not_use_will_break_in_patch_admin_ui_pages_ListPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @keystone-6/core/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage */ \"../../node_modules/@keystone-6/core/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/dist/keystone-6-core-___internal-do-not-use-will-break-in-patch-admin-ui-pages-ListPage.esm.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_keystone_6_core_internal_do_not_use_will_break_in_patch_admin_ui_pages_ListPage__WEBPACK_IMPORTED_MODULE_0__.getListPage)({\n    \"listKey\": \"User\"\n}));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy91c2Vycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOztBQUFrSDtBQUVsSCwrREFBZUEsNkhBQVdBLENBQUM7SUFBQyxXQUFVO0FBQU0sRUFBRSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL3VzZXJzL2luZGV4LmpzPzJiMTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0TGlzdFBhZ2UgfSBmcm9tICdAa2V5c3RvbmUtNi9jb3JlL19fX2ludGVybmFsLWRvLW5vdC11c2Utd2lsbC1icmVhay1pbi1wYXRjaC9hZG1pbi11aS9wYWdlcy9MaXN0UGFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGdldExpc3RQYWdlKHtcImxpc3RLZXlcIjpcIlVzZXJcIn0pO1xuIl0sIm5hbWVzIjpbImdldExpc3RQYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/users/index.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("../../node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5Cwamp%5Cwww%5Cgritacademy%5Cjs2%5CFlex-FrontEnd-js2-SocialMedia-Jens-Christensen-BackEnd%5Cpublic%5C.keystone%5Cadmin%5Cpages%5Cusers%5Cindex.js&page=%2Fusers!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);